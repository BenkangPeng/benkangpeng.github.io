<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"benkangpeng.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.18.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null,"show_result":true},"fold":{"enable":true,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Abstract  The solutions and my notes of HDLBits are written in this document .">
<meta property="og:type" content="article">
<meta property="og:title" content="HDLBits Solutions">
<meta property="og:url" content="http://benkangpeng.github.io/2023/10/01/NotesOfHdlbits/index.html">
<meta property="og:site_name" content="Benkang Peng">
<meta property="og:description" content="Abstract  The solutions and my notes of HDLBits are written in this document .">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-10-01T07:00:00.000Z">
<meta property="article:modified_time" content="2023-09-20T03:40:40.227Z">
<meta property="article:author" content="Benkang Peng">
<meta property="article:tag" content="IC">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://benkangpeng.github.io/2023/10/01/NotesOfHdlbits/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://benkangpeng.github.io/2023/10/01/NotesOfHdlbits/","path":"2023/10/01/NotesOfHdlbits/","title":"HDLBits Solutions"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>HDLBits Solutions | Benkang Peng</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Benkang Peng" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Benkang Peng</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Personal Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">1.</span> <span class="nav-text">Abstract</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Getting-Started"><span class="nav-number"></span> <span class="nav-text">Getting Started</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Getting-Started-1"><span class="nav-number">1.</span> <span class="nav-text">Getting Started</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output-Zero"><span class="nav-number">2.</span> <span class="nav-text">Output Zero</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Verilog-Language"><span class="nav-number"></span> <span class="nav-text">Verilog Language</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Basics"><span class="nav-number"></span> <span class="nav-text">Basics</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Simple-wire"><span class="nav-number">1.</span> <span class="nav-text">Simple wire</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Four-wires"><span class="nav-number">2.</span> <span class="nav-text">Four wires</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inverter"><span class="nav-number">3.</span> <span class="nav-text">Inverter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AND-gate"><span class="nav-number">4.</span> <span class="nav-text">AND gate</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NOR-gate"><span class="nav-number">5.</span> <span class="nav-text">NOR gate</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#XNOR-gate"><span class="nav-number">6.</span> <span class="nav-text">XNOR gate</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Declaring-wires"><span class="nav-number">7.</span> <span class="nav-text">Declaring wires</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7458-chip"><span class="nav-number">8.</span> <span class="nav-text">7458 chip</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vectors"><span class="nav-number"></span> <span class="nav-text">Vectors</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Vectors-1"><span class="nav-number">1.</span> <span class="nav-text">Vectors</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#More-Verilog-Features"><span class="nav-number"></span> <span class="nav-text">More Verilog Features</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Combinational-for-loop-Vector-reversal-2"><span class="nav-number">1.</span> <span class="nav-text">*Combinational for-loop : Vector reversal 2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Combinational-for-loop-255-bit-population-count"><span class="nav-number">2.</span> <span class="nav-text">Combinational for-loop:255-bit population count</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Generate-for-loop-1000-bit-binary-adder-2"><span class="nav-number">3.</span> <span class="nav-text">Generate for-loop:1000-bit binary adder 2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Generate-for-loop-100-digit-BCD-adder"><span class="nav-number">4.</span> <span class="nav-text">*Generate for-loop:100-digit BCD adder</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Circuits"><span class="nav-number"></span> <span class="nav-text">Circuits</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Combinational-Logic"><span class="nav-number"></span> <span class="nav-text">Combinational Logic</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Basic-Gates"><span class="nav-number">1.</span> <span class="nav-text">Basic Gates</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Even-longer-vectors"><span class="nav-number">1.1.</span> <span class="nav-text">Even longer vectors</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Multiplexers"><span class="nav-number">2.</span> <span class="nav-text">Multiplexers</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#9-to-1-multiplexer"><span class="nav-number">2.1.</span> <span class="nav-text">9-to-1 multiplexer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#256-to-1-4-bit-multiplexer"><span class="nav-number">2.2.</span> <span class="nav-text">256-to-1 4-bit multiplexer</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Arithmetic-Circuits"><span class="nav-number">3.</span> <span class="nav-text">Arithmetic Circuits</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-bit-binary-adder"><span class="nav-number">3.1.</span> <span class="nav-text">3-bit binary adder</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Signed-addition-overflow"><span class="nav-number">3.2.</span> <span class="nav-text">Signed addition overflow</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#100-bit-binary-adder"><span class="nav-number">3.3.</span> <span class="nav-text">100-bit binary adder</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-digit-BCD-adder"><span class="nav-number">3.4.</span> <span class="nav-text">4-digit BCD adder</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Karnaugh-Map-to-Citcuit"><span class="nav-number">4.</span> <span class="nav-text">Karnaugh Map to Citcuit</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-variable"><span class="nav-number">4.1.</span> <span class="nav-text">3-variable</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-variable"><span class="nav-number">4.2.</span> <span class="nav-text">4-variable</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-variable-1"><span class="nav-number">4.3.</span> <span class="nav-text">4-variable</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-variable-2"><span class="nav-number">4.4.</span> <span class="nav-text">4-variable</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Minimum-SOP-and-POS"><span class="nav-number">4.5.</span> <span class="nav-text">Minimum SOP and POS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Karnaugh-map"><span class="nav-number">4.6.</span> <span class="nav-text">Karnaugh map</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Karnaugh-map-1"><span class="nav-number">4.7.</span> <span class="nav-text">Karnaugh map</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#K-map-implemented-with-a-multiplexer"><span class="nav-number">4.8.</span> <span class="nav-text">K-map implemented with a multiplexer</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Benkang Peng"
      src="/images/GithubProfile.jpg">
  <p class="site-author-name" itemprop="name">Benkang Peng</p>
  <div class="site-description" itemprop="description">Stay Hungry,Stay Foolish</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/benkangpeng" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;benkangpeng" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:benkangpeng@163.com" title="E-Mail → mailto:benkangpeng@163.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://benkangpeng.github.io/2023/10/01/NotesOfHdlbits/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/GithubProfile.jpg">
      <meta itemprop="name" content="Benkang Peng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Benkang Peng">
      <meta itemprop="description" content="Stay Hungry,Stay Foolish">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="HDLBits Solutions | Benkang Peng">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          HDLBits Solutions
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-10-01 15:00:00" itemprop="dateCreated datePublished" datetime="2023-10-01T15:00:00+08:00">2023-10-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-20 11:40:40" itemprop="dateModified" datetime="2023-09-20T11:40:40+08:00">2023-09-20</time>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>11k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>20 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h3>Abstract</h3>

<p>The solutions and my notes of <a href="[Problem sets - HDLBits (01xz.net)](https://hdlbits.01xz.net/wiki/Problem_sets)">HDLBits</a> are written in this document .</p>

<span id="more"></span>

<p>[TOC]</p>
<h1 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h1><h3 id="Getting-Started-1"><a href="#Getting-Started-1" class="headerlink" title="Getting Started"></a>Getting Started</h3><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> <span class="token keyword">output</span> one <span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">assign</span> one <span class="token operator">=</span> <span class="token number">1'b1</span><span class="token punctuation">;</span>
	
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Output-Zero"><a href="#Output-Zero" class="headerlink" title="Output Zero"></a>Output Zero</h3><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> top_module <span class="token punctuation">(</span> <span class="token keyword">output</span> zero <span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">assign</span> zero <span class="token operator">=</span> <span class="token number">1'b0</span><span class="token punctuation">;</span>
	
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h1 id="Verilog-Language"><a href="#Verilog-Language" class="headerlink" title="Verilog Language"></a>Verilog Language</h1><h2 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h2><h3 id="Simple-wire"><a href="#Simple-wire" class="headerlink" title="Simple wire"></a>Simple wire</h3><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> <span class="token keyword">input</span> in<span class="token punctuation">,</span> <span class="token keyword">output</span> out <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">assign</span> out <span class="token operator">=</span> in<span class="token punctuation">;</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="Four-wires"><a href="#Four-wires" class="headerlink" title="Four wires"></a>Four wires</h3><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> top_module <span class="token punctuation">(</span>
	<span class="token keyword">input</span> a<span class="token punctuation">,</span>
	<span class="token keyword">input</span> b<span class="token punctuation">,</span>
	<span class="token keyword">input</span> c<span class="token punctuation">,</span>
	<span class="token keyword">output</span> w<span class="token punctuation">,</span>
	<span class="token keyword">output</span> x<span class="token punctuation">,</span>
	<span class="token keyword">output</span> y<span class="token punctuation">,</span>
	<span class="token keyword">output</span> z  <span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">assign</span> w <span class="token operator">=</span> a<span class="token punctuation">;</span>
	<span class="token keyword">assign</span> x <span class="token operator">=</span> b<span class="token punctuation">;</span>
	<span class="token keyword">assign</span> y <span class="token operator">=</span> b<span class="token punctuation">;</span>
	<span class="token keyword">assign</span> z <span class="token operator">=</span> c<span class="token punctuation">;</span>

	<span class="token comment">// If we're certain about the width of each signal, using </span>
	<span class="token comment">// the concatenation operator is equivalent and shorter:</span>
	<span class="token comment">// assign &#123;w,x,y,z&#125; = &#123;a,b,b,c&#125;;</span>
	
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Inverter"><a href="#Inverter" class="headerlink" title="Inverter"></a>Inverter</h3><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span>
	<span class="token keyword">input</span> in<span class="token punctuation">,</span>
	<span class="token keyword">output</span> out
<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">assign</span> out <span class="token operator">=</span> <span class="token operator">~</span>in<span class="token punctuation">;</span>
	
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="AND-gate"><a href="#AND-gate" class="headerlink" title="AND gate"></a>AND gate</h3><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> 
    <span class="token keyword">input</span> a<span class="token punctuation">,</span> 
    <span class="token keyword">input</span> b<span class="token punctuation">,</span> 
    <span class="token keyword">output</span> out <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">assign</span> out <span class="token operator">=</span> a <span class="token operator">&amp;</span> b <span class="token punctuation">;</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="NOR-gate"><a href="#NOR-gate" class="headerlink" title="NOR gate"></a>NOR gate</h3><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> 
    <span class="token keyword">input</span> a<span class="token punctuation">,</span> 
    <span class="token keyword">input</span> b<span class="token punctuation">,</span> 
    <span class="token keyword">output</span> out <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assign</span> out <span class="token operator">=</span> <span class="token operator">!</span> <span class="token punctuation">(</span>a <span class="token operator">|</span> b<span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="XNOR-gate"><a href="#XNOR-gate" class="headerlink" title="XNOR gate"></a>XNOR gate</h3><h3 id="Declaring-wires"><a href="#Declaring-wires" class="headerlink" title="Declaring wires"></a>Declaring wires</h3><h3 id="7458-chip"><a href="#7458-chip" class="headerlink" title="7458 chip"></a>7458 chip</h3><h2 id="Vectors"><a href="#Vectors" class="headerlink" title="Vectors"></a>Vectors</h2><h3 id="Vectors-1"><a href="#Vectors-1" class="headerlink" title="Vectors"></a>Vectors</h3><h2 id="More-Verilog-Features"><a href="#More-Verilog-Features" class="headerlink" title="More Verilog Features"></a>More Verilog Features</h2><h3 id="Combinational-for-loop-Vector-reversal-2"><a href="#Combinational-for-loop-Vector-reversal-2" class="headerlink" title="*Combinational for-loop : Vector reversal 2"></a>*Combinational for-loop : Vector reversal 2</h3><blockquote>
<p>Given a 100-bit input vector [99:0], reverse its bit ordering.</p>
</blockquote>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token comment">// False Vesion</span>
<span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> in <span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> out 
<span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token function">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token keyword">begin</span>
        <span class="token keyword">assign</span> out<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> in <span class="token punctuation">[</span><span class="token number">99</span> <span class="token operator">-</span> i<span class="token punctuation">]</span> <span class="token punctuation">;</span>
    <span class="token keyword">end</span>
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Error <span class="token punctuation">(</span><span class="token number">10170</span><span class="token punctuation">)</span>: Verilog HDL syntax error at top_module.v<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> near text: <span class="token string">"for"</span><span class="token punctuation">;</span>  expecting <span class="token string">"endmodule"</span><span class="token builtin class-name">.</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
<p>为什么是这样的报错呢？显示在for循环那一行前缺少一个endmodule</p>
<blockquote>
<p>在module内部，只能<strong>声明输入</strong>、<strong>输出端口、内部信号以及使用连续赋值</strong>（<code>assign</code> 语句）来描述硬件电路的连续逻辑</p>
</blockquote>
<p>因此，<code>verilog</code>编译器认为，<code>for</code>循环前应该有一个<code>endmodule</code>以结束该<code>module</code>,此后才能开始<code>for-loop</code>的声明。</p>
<p><strong>为什么Verilog规定Module内部不能声明for-loop?</strong></p>
<blockquote>
<p>当涉及到硬件描述语言（HDL）如Verilog时，有一些关键的设计原则和语法规则是不同于通用编程语言（如C、Python）的。</p>
<p>Verilog 是为硬件设计而设计的，其目的是描述硬件电路的结构和行为，而不是传统意义上的“编程”。在硬件电路中，信号是在不同的时间步长上并行计算的，而不是按顺序执行的像在软件中一样。这导致了一些语法规则的不同。</p>
<p>具体来说，以下是为什么在 Verilog 中不能直接将 <code>for</code> 循环放在模块内部的原因：</p>
<ol>
<li><strong>并行性：</strong> Verilog 中的代码被解释为电路，其中不同的信号在相同的时间步长上并行地计算。这与传统编程语言中的迭代循环不同，后者按顺序执行。在硬件电路中，不同的信号和逻辑是同时计算的，因此 <code>for</code> 循环的概念与硬件的并行性不一致。</li>
<li><strong>延迟和时间问题：</strong> 在 Verilog 中，信号的传播和逻辑运算都需要考虑时间延迟。循环的迭代次数可能需要在编译时已知，但在硬件中，延迟可能会影响电路的行为。如果允许在模块内部使用 <code>for</code> 循环，编译器就需要处理如何在时间上正确地展开循环和处理延迟的问题。</li>
</ol>
<p>为了符合硬件的特性，Verilog 引入了生成语句（generate statements），允许在编译时生成不同的硬件结构，这包括使用 <code>for</code> 循环来生成多个类似的硬件逻辑。生成语句允许在不同的时间步长上并行生成硬件，而不会引入运行时的顺序问题。</p>
</blockquote>
<p>简单说就是：<code>for-loop</code>内不同层次(i &#x3D; 1 , 2 ,3 ……)，体现了顺序的先后，是软件编程的思维；而<code>verilog</code>中<code>assign</code>描述的各硬件是并行运行的，是硬件编程的思维；二者需要区分开来:smile:</p>
<p>我们使用<code>generate</code>来实现(generate生成多个并行计算模块)：[generate介绍](<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/107047600">Verilog中generate的使用 - 知乎 (zhihu.com)</a>)</p>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> in <span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> out 
<span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token keyword">genvar</span> i <span class="token punctuation">;</span><span class="token comment">//state a variable i </span>
    <span class="token keyword">generate</span>
        <span class="token function">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token keyword">begin</span> <span class="token punctuation">:</span> generate_name
            <span class="token keyword">assign</span> out<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> in <span class="token punctuation">[</span><span class="token number">99</span> <span class="token operator">-</span> i<span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token comment">// type of out is wire</span>
        <span class="token keyword">end</span>
    <span class="token keyword">endgenerate</span>
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>或者将<code>for-loop</code>写在<code>always</code>中：</p>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> in <span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> out 
<span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token important">always @</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">begin</span>
        <span class="token function">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token kernel-function property">$bits</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span> <span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token keyword">begin</span>
            <span class="token comment">//$bits(signal)获取信号位长</span>
            out<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> in <span class="token punctuation">[</span> <span class="token kernel-function property">$bits</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i <span class="token punctuation">]</span> <span class="token punctuation">;</span> 
            <span class="token comment">//type of out is reg</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Combinational-for-loop-255-bit-population-count"><a href="#Combinational-for-loop-255-bit-population-count" class="headerlink" title="Combinational for-loop:255-bit population count"></a>Combinational for-loop:255-bit population count</h3><blockquote>
<p>A “population count” circuit counts the number of ‘1’s in an input vector. Build a population count circuit for a 255-bit input vector.</p>
</blockquote>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> 
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">254</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> in<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> out <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token important">always @</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">begin</span>
       out <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span><span class="token comment">//寄存器型变量在always块中初始化</span>
        <span class="token function">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">255</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token keyword">begin</span>
            out <span class="token operator">=</span> out <span class="token operator">+</span> in<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">;</span> 
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="Generate-for-loop-1000-bit-binary-adder-2"><a href="#Generate-for-loop-1000-bit-binary-adder-2" class="headerlink" title="Generate for-loop:1000-bit binary adder 2"></a>Generate for-loop:1000-bit binary adder 2</h3><blockquote>
<p>Create a 100-bit binary ripple-carry adder by instantiating 100 <a target="_blank" rel="noopener" href="https://hdlbits.01xz.net/wiki/Fadd">full adders</a>. The adder adds two 100-bit numbers and a carry-in to produce a 100-bit sum and carry out. To encourage you to actually instantiate full adders, also output the carry-out from <em>each</em> full adder in the ripple-carry adder. cout[99] is the final carry-out from the last full adder, and is the carry-out you usually see.</p>
</blockquote>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> 
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span>
    <span class="token keyword">input</span> cin<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> cout<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> sum <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">generate</span>
        <span class="token keyword">genvar</span> i <span class="token punctuation">;</span><span class="token comment">//好像在for循环内声明genvar i 会报错</span>
        <span class="token keyword">assign</span> sum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^</span> cin <span class="token punctuation">;</span>
        <span class="token keyword">assign</span> cout<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">|</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> cin <span class="token operator">|</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> cin <span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token keyword">begin</span> <span class="token punctuation">:</span> generate_name 
            <span class="token keyword">assign</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">^</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">^</span> cout<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>
            <span class="token keyword">assign</span> cout<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">|</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> cout<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">|</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> cout<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>
        <span class="token keyword">end</span>
    <span class="token keyword">endgenerate</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="Generate-for-loop-100-digit-BCD-adder"><a href="#Generate-for-loop-100-digit-BCD-adder" class="headerlink" title="*Generate for-loop:100-digit BCD adder"></a>*Generate for-loop:100-digit BCD adder</h3><blockquote>
<p>You are provided with a BCD one-digit adder named <code>bcd_fadd</code> that adds two BCD digits and carry-in, and produces a sum and carry-out.</p>
<pre class="line-numbers language-none"><code class="language-none">module bcd_fadd (
    input [3:0] a,
    input [3:0] b,
    input     cin,
    output   cout,
    output [3:0] sum );<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Instantiate 100 copies of <code>bcd_fadd</code> to create a 100-digit BCD ripple-carry adder. Your adder should add two 100-digit BCD numbers (packed into 400-bit vectors) and a carry-in to produce a 100-digit sum and carry out.</p>
</blockquote>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token comment">//False Verion </span>
<span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> 
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">399</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span>
    <span class="token keyword">input</span> cin<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> cout<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">399</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> sum <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">genvar</span> i <span class="token punctuation">,</span> j <span class="token punctuation">;</span>
    <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> temp_cout <span class="token punctuation">;</span>
    <span class="token keyword">assign</span> cout <span class="token operator">=</span> temp_cout<span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>
    <span class="token keyword">generate</span>
        bcd_fadd <span class="token function">U0</span><span class="token punctuation">(</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> cin <span class="token punctuation">,</span> temp_cout<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> sum<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">7</span> <span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">400</span> <span class="token punctuation">;</span>  i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">4</span> <span class="token punctuation">,</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token keyword">begin</span> <span class="token punctuation">:</span> name 
            bcd_fadd <span class="token function">U1</span><span class="token punctuation">(</span> a<span class="token punctuation">[</span>i<span class="token punctuation">:</span>i<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> b<span class="token punctuation">[</span>i<span class="token punctuation">:</span>i<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> temp_cout<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token punctuation">,</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">:</span>i<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token keyword">end</span>
    <span class="token keyword">endgenerate</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>报错信息：Error (10170): Verilog HDL syntax error at top_module.v(12) near text: “,”;  expecting “;”</p>
</blockquote>
<p>没有查到相关信息(先留一个坑)，猜测：<code>for-loop</code>中不能有两个<code>genvar</code>,于是不能出现<code>,</code> ,提示你要用<code>;</code></p>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token comment">//Right Verion </span>
<span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> 
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">399</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span>
    <span class="token keyword">input</span> cin<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> cout<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">399</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> sum <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">genvar</span> i <span class="token punctuation">;</span>
    <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> temp_cout <span class="token punctuation">;</span>
    <span class="token keyword">assign</span> cout <span class="token operator">=</span> temp_cout<span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>
    <span class="token keyword">generate</span>
        bcd_fadd <span class="token function">U0</span><span class="token punctuation">(</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> cin <span class="token punctuation">,</span> temp_cout<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> sum<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">7</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">400</span> <span class="token punctuation">;</span>  i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">4</span> <span class="token punctuation">)</span> <span class="token keyword">begin</span> <span class="token punctuation">:</span> name 
            bcd_fadd <span class="token function">U1</span><span class="token punctuation">(</span> a<span class="token punctuation">[</span>i<span class="token punctuation">:</span>i<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> b<span class="token punctuation">[</span>i<span class="token punctuation">:</span>i<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> temp_cout<span class="token punctuation">[</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">4</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> temp_cout<span class="token punctuation">[</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">4</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">:</span>i<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token keyword">end</span>
    <span class="token keyword">endgenerate</span>
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>此处实现一下<code>bcd_fadd</code></strong></p>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">bcd_fadd</span><span class="token punctuation">(</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">3</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span> a <span class="token punctuation">,</span> b <span class="token punctuation">,</span>
    <span class="token keyword">input</span> cin <span class="token punctuation">,</span> 
    <span class="token keyword">output</span> cout <span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> sum
<span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token keyword">wire</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> temp <span class="token punctuation">;</span>
    <span class="token keyword">assign</span> temp <span class="token operator">=</span> a <span class="token operator">+</span> b <span class="token operator">+</span> cin <span class="token punctuation">;</span>
    <span class="token keyword">assign</span> <span class="token operator">&#123;</span>cout <span class="token punctuation">,</span> sum<span class="token operator">&#125;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>temp<span class="token operator">></span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>temp<span class="token operator">+</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> temp <span class="token punctuation">;</span> 
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h1 id="Circuits"><a href="#Circuits" class="headerlink" title="Circuits"></a>Circuits</h1><h2 id="Combinational-Logic"><a href="#Combinational-Logic" class="headerlink" title="Combinational Logic"></a>Combinational Logic</h2><h3 id="Basic-Gates"><a href="#Basic-Gates" class="headerlink" title="Basic Gates"></a>Basic Gates</h3><h4 id="Even-longer-vectors"><a href="#Even-longer-vectors" class="headerlink" title="Even longer vectors"></a>Even longer vectors</h4><blockquote>
<p>See also the shorter version: <a target="_blank" rel="noopener" href="https://hdlbits.01xz.net/wiki/gatesv">Gates and vectors</a>.</p>
<p>You are given a 100-bit input vector in[99:0]. We want to know some relationships between each bit and its neighbour:</p>
<ul>
<li><strong>out_both</strong>: Each bit of this output vector should indicate whether <em>both</em> the corresponding input bit and its neighbour to the <strong>left</strong> are ‘1’. For example, <code>out_both[98]</code> should indicate if <code>in[98]</code> and <code>in[99]</code> are both 1. Since <code>in[99]</code> has no neighbour to the left, the answer is obvious so we don’t need to know <code>out_both[99]</code>.</li>
<li><strong>out_any</strong>: Each bit of this output vector should indicate whether <em>any</em> of the corresponding input bit and its neighbour to the <strong>right</strong> are ‘1’. For example, <code>out_any[2]</code> should indicate if either <code>in[2]</code> or <code>in[1]</code> are 1. Since <code>in[0]</code> has no neighbour to the right, the answer is obvious so we don’t need to know <code>out_any[0]</code>.</li>
<li><strong>out_different</strong>: Each bit of this output vector should indicate whether the corresponding input bit is different from its neighbour to the <strong>left</strong>. For example, <code>out_different[98]</code> should indicate if <code>in[98]</code> is different from <code>in[99]</code>. For this part, treat the vector as wrapping around, so <code>in[99]</code>‘s neighbour to the left is <code>in[0]</code>.</li>
</ul>
</blockquote>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token comment">//My vesion</span>
<span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> 
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> in<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">98</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> out_both<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> out_any<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> out_different <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">genvar</span> i <span class="token punctuation">;</span>
	<span class="token keyword">generate</span>
        <span class="token function">for</span><span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">99</span> <span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token keyword">begin</span> <span class="token punctuation">:</span> generate_name
            <span class="token keyword">assign</span> out_both<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> in<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> in<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>
            <span class="token keyword">assign</span> out_any<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span> in<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">|</span> in<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">;</span>
            <span class="token keyword">assign</span> out_different<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> in<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">^</span> in<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>
        <span class="token keyword">end</span>
        <span class="token keyword">assign</span> out_different<span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">]</span> <span class="token operator">=</span> in<span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">]</span> <span class="token operator">^</span> in<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>
    <span class="token keyword">endgenerate</span>
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token comment">//Offical vesion</span>
<span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> 
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> in<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">98</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> out_both<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> out_any<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> out_different <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assign</span> out_both <span class="token operator">=</span> in<span class="token punctuation">[</span><span class="token number">98</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> in<span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>
    <span class="token keyword">assign</span> out_any  <span class="token operator">=</span> in<span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">|</span> in<span class="token punctuation">[</span><span class="token number">98</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>
    <span class="token keyword">assign</span> out_different <span class="token operator">=</span> in <span class="token operator">^</span> <span class="token operator">&#123;</span> in<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> in<span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&#125;</span> <span class="token punctuation">;</span>
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Multiplexers"><a href="#Multiplexers" class="headerlink" title="Multiplexers"></a>Multiplexers</h3><h4 id="9-to-1-multiplexer"><a href="#9-to-1-multiplexer" class="headerlink" title="9-to-1 multiplexer"></a>9-to-1 multiplexer</h4><blockquote>
<p>Create a 16-bit wide, 9-to-1 multiplexer. sel&#x3D;0 chooses a, sel&#x3D;1 chooses b, etc. For the unused cases (sel&#x3D;9 to 15), set all output bits to ‘1’.</p>
</blockquote>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token comment">//Flase vesion</span>
<span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> 
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">,</span> g<span class="token punctuation">,</span> h<span class="token punctuation">,</span> i<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> sel<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> out <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token important">always @</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">begin</span> 
    <span class="token function">case</span><span class="token punctuation">(</span>sel<span class="token punctuation">)</span>
        <span class="token number">4'b0000</span> <span class="token punctuation">:</span> out <span class="token operator">=</span> a <span class="token punctuation">;</span>
        <span class="token number">4'b0001</span> <span class="token punctuation">:</span> out <span class="token operator">=</span> b <span class="token punctuation">;</span>
        <span class="token number">4'b0010</span> <span class="token punctuation">:</span> out <span class="token operator">=</span> c <span class="token punctuation">;</span>
        <span class="token number">4'b0011</span> <span class="token punctuation">:</span> out <span class="token operator">=</span> d <span class="token punctuation">;</span>
        <span class="token number">4'b0100</span> <span class="token punctuation">:</span> out <span class="token operator">=</span> e <span class="token punctuation">;</span>
        <span class="token number">4'b0101</span> <span class="token punctuation">:</span> out <span class="token operator">=</span> f <span class="token punctuation">;</span>
        <span class="token number">4'b0110</span> <span class="token punctuation">:</span> out <span class="token operator">=</span> g <span class="token punctuation">;</span>
        <span class="token number">4'b0111</span> <span class="token punctuation">:</span> out <span class="token operator">=</span> h <span class="token punctuation">;</span>
        <span class="token number">4'b1000</span> <span class="token punctuation">:</span> out <span class="token operator">=</span> i <span class="token punctuation">;</span>
     	<span class="token keyword">default</span> <span class="token punctuation">:</span> out <span class="token operator">=</span> <span class="token number">16'hFFFF</span> <span class="token punctuation">;</span><span class="token comment">//十六进制应该为4'hFFFF</span>
        <span class="token comment">//踩过的坑 ： out = 1 ; out = 0xFFFF ; out = 4'hFFFF</span>
        <span class="token keyword">endcase</span>
    <span class="token keyword">end</span>      
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="256-to-1-4-bit-multiplexer"><a href="#256-to-1-4-bit-multiplexer" class="headerlink" title="256-to-1 4-bit multiplexer"></a>256-to-1 4-bit multiplexer</h4><blockquote>
<p>Create a 4-bit wide, 256-to-1 multiplexer. The 256 4-bit inputs are all packed into a single 1024-bit input vector. sel&#x3D;0 should select bits <code>in[3:0]</code>, sel&#x3D;1 selects bits <code>in[7:4]</code>, sel&#x3D;2 selects bits <code>in[11:8]</code>, etc.</p>
</blockquote>
<blockquote>
<p>Hint</p>
<ul>
<li>With this many options, a case statement isn’t so useful.</li>
<li>Vector indices can be variable, as long as the synthesizer can figure out that the width of the bits being selected is constant. It’s not always good at this. An error saying “… is not a constant” means it couldn’t prove that the select width is constant. In particular, <code>in[ sel*4+3 : sel*4 ]</code> does not work. &#x2F;&#x2F; verilog 索引不支持全为变量</li>
<li>Bit slicing (“Indexed vector part select”, since Verilog-2001) has an even more compact syntax.</li>
</ul>
</blockquote>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> 
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">1023</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> in<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> sel<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> out <span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token keyword">assign</span> out <span class="token operator">=</span> in<span class="token punctuation">[</span>sel <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token punctuation">:</span> sel <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>

<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>error : sel is not a constant File ;</p>
</blockquote>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token comment">//True</span>
<span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> 
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">1023</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> in<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> sel<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> out <span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">assign</span> out <span class="token operator">=</span> in<span class="token punctuation">[</span>sel <span class="token operator">*</span> <span class="token number">4</span>  <span class="token operator">+</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token punctuation">;</span><span class="token comment">//从sel*4向上四位</span>
    
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Arithmetic-Circuits"><a href="#Arithmetic-Circuits" class="headerlink" title="Arithmetic Circuits"></a>Arithmetic Circuits</h3><h4 id="3-bit-binary-adder"><a href="#3-bit-binary-adder" class="headerlink" title="3-bit binary adder"></a>3-bit binary adder</h4><blockquote>
<p>Now that you know how to build a <a target="_blank" rel="noopener" href="https://hdlbits.01xz.net/wiki/Fadd">full adder</a>, make 3 instances of it to create a 3-bit binary ripple-carry adder. The adder adds two 3-bit numbers and a carry-in to produce a 3-bit sum and carry out. To encourage you to actually instantiate full adders, also output the carry-out from <em>each</em> full adder in the ripple-carry adder. cout[2] is the final carry-out from the last full adder, and is the carry-out you usually see.</p>
</blockquote>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span> 
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span>
    <span class="token keyword">input</span> cin<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> cout<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> sum <span class="token punctuation">)</span><span class="token punctuation">;</span>
    full_adder <span class="token function">ripple_adder_1</span><span class="token punctuation">(</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> cin <span class="token punctuation">,</span> cout<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> sum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
    full_adder <span class="token function">ripple_adder_2</span><span class="token punctuation">(</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> cout<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> cout<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> sum<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
    full_adder <span class="token function">ripple_adder_3</span><span class="token punctuation">(</span> a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> cout<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> cout<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> sum<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token keyword">endmodule</span>

<span class="token keyword">module</span> <span class="token function">full_adder</span><span class="token punctuation">(</span>
    <span class="token keyword">input</span> a <span class="token punctuation">,</span> b <span class="token punctuation">,</span> cin <span class="token punctuation">,</span> 
    <span class="token keyword">output</span> cout <span class="token punctuation">,</span> sum
<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assign</span> cout<span class="token operator">=</span> a <span class="token operator">&amp;</span> b <span class="token operator">|</span> a <span class="token operator">&amp;</span> cin <span class="token operator">|</span> b <span class="token operator">&amp;</span> cin <span class="token punctuation">;</span>
    <span class="token keyword">assign</span> sum <span class="token operator">=</span> a <span class="token operator">^</span> b <span class="token operator">^</span> cin <span class="token punctuation">;</span>
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Signed-addition-overflow"><a href="#Signed-addition-overflow" class="headerlink" title="Signed addition overflow"></a>Signed addition overflow</h4><blockquote>
<p>Assume that you have two 8-bit 2’s complement numbers, a[7:0] and b[7:0]. These numbers are added to produce s[7:0]. Also compute whether a (signed) overflow has occurred.</p>
</blockquote>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token comment">//Flase vesion</span>
<span class="token keyword">module</span> top_module <span class="token punctuation">(</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> b<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> s<span class="token punctuation">,</span>
    <span class="token keyword">output</span> overflow
<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">assign</span> <span class="token operator">&#123;</span> overflow <span class="token punctuation">,</span> s <span class="token operator">&#125;</span> <span class="token operator">=</span> a <span class="token operator">+</span> b <span class="token punctuation">;</span>
    <span class="token comment">//注意题中的signed overflow , 并不等于进位cout</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如何检测符号溢出(<strong>signed overflow</strong>) : 符号不同，相加不会溢出  ； 符号相同，可能溢出，需要设置检测。</p>
<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token comment">//True vesion</span>
<span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> a <span class="token punctuation">,</span> b <span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">7</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span> s <span class="token punctuation">,</span>
    <span class="token keyword">output</span> overflow
<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assign</span> s <span class="token operator">=</span> a <span class="token operator">+</span> b <span class="token punctuation">;</span>
    <span class="token keyword">assign</span> overflow <span class="token operator">=</span> <span class="token punctuation">(</span> a<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">==</span> b<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">^</span> s<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">;</span>
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="100-bit-binary-adder"><a href="#100-bit-binary-adder" class="headerlink" title="100-bit binary adder"></a>100-bit binary adder</h4><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> top_module <span class="token punctuation">(</span>
	<span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span>
	<span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> b<span class="token punctuation">,</span>
	<span class="token keyword">input</span> cin<span class="token punctuation">,</span>
	<span class="token keyword">output</span> cout<span class="token punctuation">,</span>
	<span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> sum
<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// The concatenation &#123;cout, sum&#125; is a 101-bit vector.</span>
	<span class="token keyword">assign</span> <span class="token operator">&#123;</span>cout<span class="token punctuation">,</span> sum<span class="token operator">&#125;</span> <span class="token operator">=</span> a<span class="token operator">+</span>b<span class="token operator">+</span>cin<span class="token punctuation">;</span>

<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="4-digit-BCD-adder"><a href="#4-digit-BCD-adder" class="headerlink" title="4-digit BCD adder"></a>4-digit BCD adder</h4><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> top_module <span class="token punctuation">(</span> 
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span>
    <span class="token keyword">input</span> cin<span class="token punctuation">,</span>
    <span class="token keyword">output</span> cout<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> sum <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">wire</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> temp_cout <span class="token punctuation">;</span>
    bcd_fadd U0 <span class="token punctuation">(</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> cin <span class="token punctuation">,</span>  temp_cout<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> sum<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
    bcd_fadd U1 <span class="token punctuation">(</span> a<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> temp_cout<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">,</span>  temp_cout<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> sum<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
    bcd_fadd U2 <span class="token punctuation">(</span> a<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> temp_cout<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">,</span>  temp_cout<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> sum<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
    bcd_fadd U3 <span class="token punctuation">(</span> a<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> temp_cout<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">,</span>  cout <span class="token punctuation">,</span> sum<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Karnaugh-Map-to-Citcuit"><a href="#Karnaugh-Map-to-Citcuit" class="headerlink" title="Karnaugh Map to Citcuit"></a>Karnaugh Map to Citcuit</h3><h4 id="3-variable"><a href="#3-variable" class="headerlink" title="3-variable"></a>3-variable</h4><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span>
	<span class="token keyword">input</span> a<span class="token punctuation">,</span> 
	<span class="token keyword">input</span> b<span class="token punctuation">,</span>
	<span class="token keyword">input</span> c<span class="token punctuation">,</span>
	<span class="token keyword">output</span> out
<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// SOP form: Three prime implicants (1 term each), summed.</span>
	<span class="token comment">// POS form: One prime implicant (of 3 terms)</span>
	<span class="token comment">// In this particular case, the result is the same for both SOP and POS.</span>
    <span class="token comment">// it's easier by using SOP</span>
	<span class="token keyword">assign</span> out <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">|</span> b <span class="token operator">|</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="4-variable"><a href="#4-variable" class="headerlink" title="4-variable"></a>4-variable</h4><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span>
    <span class="token keyword">input</span> a<span class="token punctuation">,</span>
    <span class="token keyword">input</span> b<span class="token punctuation">,</span>
    <span class="token keyword">input</span> c<span class="token punctuation">,</span>
    <span class="token keyword">input</span> d<span class="token punctuation">,</span>
    <span class="token keyword">output</span> out  <span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">assign</span> out <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">!</span>b <span class="token operator">&amp;</span> <span class="token operator">!</span>c<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token operator">!</span>a <span class="token operator">&amp;</span> <span class="token operator">!</span>d<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token operator">!</span>a <span class="token operator">&amp;</span> b <span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>a <span class="token operator">&amp;</span> c <span class="token operator">&amp;</span> d<span class="token punctuation">)</span>  <span class="token punctuation">;</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="4-variable-1"><a href="#4-variable-1" class="headerlink" title="4-variable"></a>4-variable</h4><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span>
    <span class="token keyword">input</span> a<span class="token punctuation">,</span>
    <span class="token keyword">input</span> b<span class="token punctuation">,</span>
    <span class="token keyword">input</span> c<span class="token punctuation">,</span>
    <span class="token keyword">input</span> d<span class="token punctuation">,</span>
    <span class="token keyword">output</span> out  <span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">assign</span> out <span class="token operator">=</span> a <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token operator">!</span>b <span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token comment">//用0去算！f更简单</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="4-variable-2"><a href="#4-variable-2" class="headerlink" title="4-variable"></a>4-variable</h4><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token comment">//Stupid vesion</span>
<span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span>
    <span class="token keyword">input</span> a<span class="token punctuation">,</span>
    <span class="token keyword">input</span> b<span class="token punctuation">,</span>
    <span class="token keyword">input</span> c<span class="token punctuation">,</span>
    <span class="token keyword">input</span> d<span class="token punctuation">,</span>
    <span class="token keyword">output</span> out  <span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">assign</span> out <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">!</span>a <span class="token operator">&amp;</span> <span class="token operator">!</span>b<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>c <span class="token operator">^</span> d<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token operator">!</span>a <span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token operator">!</span><span class="token punctuation">(</span>c <span class="token operator">^</span> d<span class="token punctuation">)</span> <span class="token operator">|</span> a <span class="token operator">&amp;</span> b <span class="token operator">&amp;</span> <span class="token punctuation">(</span>c <span class="token operator">^</span> d<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>a <span class="token operator">&amp;</span> <span class="token operator">!</span>b<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token operator">!</span><span class="token punctuation">(</span>c <span class="token operator">^</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token comment">// Wise vesion</span>
<span class="token keyword">module</span> <span class="token function">top_module</span><span class="token punctuation">(</span>
    <span class="token keyword">input</span> a<span class="token punctuation">,</span>
    <span class="token keyword">input</span> b<span class="token punctuation">,</span>
    <span class="token keyword">input</span> c<span class="token punctuation">,</span>
    <span class="token keyword">input</span> d<span class="token punctuation">,</span>
    <span class="token keyword">output</span> out  <span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token keyword">assign</span> out <span class="token operator">=</span> a <span class="token operator">^</span> b <span class="token operator">^</span> c <span class="token operator">^</span> d <span class="token punctuation">;</span>
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>如果会奇偶校验便能一眼看出：<code>abcd</code>中有奇数个<code>1</code>，卡诺图为<code>1</code> .反之为<code>0</code>.</strong></p>
<h4 id="Minimum-SOP-and-POS"><a href="#Minimum-SOP-and-POS" class="headerlink" title="Minimum SOP and POS"></a>Minimum SOP and POS</h4><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> top_module <span class="token punctuation">(</span>
    <span class="token keyword">input</span> a<span class="token punctuation">,</span>
    <span class="token keyword">input</span> b<span class="token punctuation">,</span>
    <span class="token keyword">input</span> c<span class="token punctuation">,</span>
    <span class="token keyword">input</span> d<span class="token punctuation">,</span>
    <span class="token keyword">output</span> out_sop<span class="token punctuation">,</span>
    <span class="token keyword">output</span> out_pos
<span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token keyword">assign</span> out_sop <span class="token operator">=</span> c <span class="token operator">&amp;</span> d <span class="token operator">|</span> <span class="token operator">!</span>a <span class="token operator">&amp;</span> <span class="token operator">!</span>b <span class="token operator">&amp;</span> c <span class="token punctuation">;</span>
    <span class="token keyword">assign</span> out_pos <span class="token operator">=</span> c <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span>a <span class="token operator">|</span> b<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span>b <span class="token operator">|</span> d<span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token keyword">endmodule</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Karnaugh-map"><a href="#Karnaugh-map" class="headerlink" title="Karnaugh map"></a>Karnaugh map</h4><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> top_module <span class="token punctuation">(</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> x<span class="token punctuation">,</span> 
    <span class="token keyword">output</span> f <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assign</span> f <span class="token operator">=</span> <span class="token operator">!</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">|</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token operator">!</span>x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Karnaugh-map-1"><a href="#Karnaugh-map-1" class="headerlink" title="Karnaugh map"></a>Karnaugh map</h4><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> top_module <span class="token punctuation">(</span>
    <span class="token keyword">input</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> x<span class="token punctuation">,</span>
    <span class="token keyword">output</span> f
<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">assign</span> f <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token operator">!</span>x<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">|</span> x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">|</span> x<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">|</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token operator">!</span>x<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token operator">!</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">|</span> x<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="K-map-implemented-with-a-multiplexer"><a href="#K-map-implemented-with-a-multiplexer" class="headerlink" title="K-map implemented with a multiplexer"></a>K-map implemented with a multiplexer</h4><pre class="line-numbers language-verilog" data-language="verilog"><code class="language-verilog"><span class="token keyword">module</span> top_module <span class="token punctuation">(</span>
    <span class="token keyword">input</span> c<span class="token punctuation">,</span>
    <span class="token keyword">input</span> d<span class="token punctuation">,</span>
    <span class="token keyword">output</span> <span class="token keyword">reg</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span> mux_in
<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token important">always @</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">begin</span>
        <span class="token function">case</span><span class="token punctuation">(</span> <span class="token operator">&#123;</span> c <span class="token punctuation">,</span> d <span class="token operator">&#125;</span> <span class="token punctuation">)</span>
            <span class="token number">2'b00</span> <span class="token punctuation">:</span> mux_in <span class="token operator">=</span> <span class="token number">4'b0100</span> <span class="token punctuation">;</span>
            <span class="token number">2'b01</span> <span class="token punctuation">:</span> mux_in <span class="token operator">=</span> <span class="token number">4'b0001</span> <span class="token punctuation">;</span>
            <span class="token number">2'b11</span> <span class="token punctuation">:</span> mux_in <span class="token operator">=</span> <span class="token number">4'b1001</span> <span class="token punctuation">;</span>
            <span class="token number">2'b10</span> <span class="token punctuation">:</span> mux_in <span class="token operator">=</span> <span class="token number">4'b0101</span> <span class="token punctuation">;</span>
            <span class="token keyword">default</span> <span class="token punctuation">:</span> mux_in <span class="token operator">=</span> <span class="token number">4'b0000</span> <span class="token punctuation">;</span>
        <span class="token keyword">endcase</span>
    <span class="token keyword">end</span>
<span class="token keyword">endmodule</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>不完备 不一致 不可判定</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/IC/" rel="tag"># IC</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/10/01/%E8%A7%A3%E5%86%B3%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95%E7%82%B9%E5%87%BB%E4%B8%8D%E8%B7%B3%E8%BD%AC%E7%9A%84%E9%97%AE%E9%A2%98/" rel="prev" title="解决文章目录点击不跳转的问题">
                  <i class="fa fa-angle-left"></i> 解决文章目录点击不跳转的问题
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/10/01/Climb-over-that-fucking-Wall/" rel="next" title="Climb over that fucking Wall">
                  Climb over that fucking Wall <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Benkang Peng</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Word count total">19k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">34 mins.</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

<!-- 网站运行时间的设置 -->
<span id="timeDate">Loading days...</span>
<span id="times">Loading hours,minutes and seconds...</span>
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("10/01/2023 15:00:00"); //此处修改你的建站时间或者网站上线时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "The website has been securely running for"+dnum+" days ";
        document.getElementById("times").innerHTML = hnum + " hours " + mnum + " minutes and " + snum + " seconds.";
    }
setInterval("createtime()",250);

</script>
    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
