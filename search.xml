<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>A simple example of Cython</title>
    <url>/posts/ec8e075c/</url>
    <content><![CDATA[<h1 id="Tutorial-Binding-C-Functions-and-Classes-to-Python-using-Cython"><a href="#Tutorial-Binding-C-Functions-and-Classes-to-Python-using-Cython" class="headerlink" title="Tutorial: Binding C++ Functions and Classes to Python using Cython"></a>Tutorial: Binding C++ Functions and Classes to Python using Cython</h1><span id="more"></span>

<h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ol>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#project-structure">Project Structure</a></li>
<li><a href="#cpp-implementation">C++ Implementation</a></li>
<li><a href="#cython-binding-files">Cython Binding Files</a></li>
<li><a href="#building-the-extension">Building the Extension</a></li>
<li><a href="#using-the-python-module">Using the Python Module</a></li>
<li><a href="#best-practices">Best Practices</a></li>
</ol>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Cython is a powerful tool that allows you to write C extensions for Python. Itâ€™s particularly useful when you want to:</p>
<ul>
<li>Speed up Python code by converting it to C</li>
<li>Interface with existing C&#x2F;C++ code</li>
<li>Create Python bindings for C++ classes and functions</li>
</ul>
<p>This tutorial demonstrates how to create Python bindings for C++ functions and classes using a real-world example.</p>
<h2 id="Project-Structure"><a href="#Project-Structure" class="headerlink" title="Project Structure"></a>Project Structure</h2><p>A typical Cython project for C++ bindings consists of the following files:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">src/cc/</span><br><span class="line">â”œâ”€â”€ functions.hpp      # C++ header file</span><br><span class="line">â”œâ”€â”€ functions.cc       # C++ implementation</span><br><span class="line">â”œâ”€â”€ functions.pxd      # Cython declarations</span><br><span class="line">â”œâ”€â”€ functions.pyx      # Cython implementation</span><br><span class="line">â””â”€â”€ setup.py          # Build configuration</span><br></pre></td></tr></table></figure>

<p>You can find the code <a href="https://github.com/BenkangPeng/toyRPC/tree/main/src/cc">ğŸ”—here</a>.</p>
<h2 id="C-Implementation"><a href="#C-Implementation" class="headerlink" title="C++ Implementation"></a>C++ Implementation</h2><h3 id="Header-File-functions-hpp"><a href="#Header-File-functions-hpp" class="headerlink" title="Header File (functions.hpp)"></a>Header File (functions.hpp)</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> CC_FUNCTIONS_HPP</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CC_FUNCTIONS_HPP</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Function declarations</span></span><br><span class="line"><span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">prim</span><span class="params">(<span class="type">int</span> n)</span></span>;</span><br><span class="line"><span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">fib</span><span class="params">(<span class="type">int</span> n)</span></span>;</span><br><span class="line">std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">matmul</span>(std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; &amp;A,</span><br><span class="line">                                    std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; &amp;B);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Class declaration</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">matrix</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">matrix</span>();</span><br><span class="line">    std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">mul</span>(std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; &amp;A,</span><br><span class="line">                                     std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; &amp;B);</span><br><span class="line">    std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">transpose</span>(std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; &amp;A);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<h3 id="Implementation-File-functions-cc"><a href="#Implementation-File-functions-cc" class="headerlink" title="Implementation File(functions.cc)"></a>Implementation File(functions.cc)</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;functions.hpp&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">prim</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n &lt;= <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  <span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="number">2</span>&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// calculate the upper bound of the n-th prime numbers</span></span><br><span class="line">  <span class="type">int</span> upper = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(n * (<span class="built_in">log</span>(n) + <span class="built_in">log</span>(<span class="built_in">log</span>(n)))) + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function">std::vector&lt;<span class="type">bool</span>&gt; <span class="title">sieve</span><span class="params">(upper + <span class="number">1</span>, <span class="literal">true</span>)</span></span>;</span><br><span class="line">  sieve[<span class="number">0</span>] = sieve[<span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> p = <span class="number">2</span>; p * p &lt;= upper; p++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (sieve[p]) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> i = p * p; i &lt;= upper; i += p) &#123;</span><br><span class="line">        sieve[i] = <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  std::vector&lt;<span class="type">int</span>&gt; primes;</span><br><span class="line">  primes.<span class="built_in">reserve</span>(n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; primes.<span class="built_in">size</span>() &lt; <span class="built_in">static_cast</span>&lt;<span class="type">size_t</span>&gt;(n) &amp;&amp; i &lt;= upper; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (sieve[i]) &#123;</span><br><span class="line">      primes.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> primes;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">fib</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">res</span><span class="params">(n)</span></span>;</span><br><span class="line">  res[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">  res[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; n; ++i) &#123;</span><br><span class="line">    res[i] = res[i - <span class="number">1</span>] + res[i - <span class="number">2</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">matmul</span>(std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; &amp;A,</span><br><span class="line">                                     std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; &amp;B) &#123;</span><br><span class="line">  <span class="keyword">if</span> (A.<span class="built_in">empty</span>() || B.<span class="built_in">empty</span>() || A[<span class="number">0</span>].<span class="built_in">size</span>() != B.<span class="built_in">size</span>()) &#123;</span><br><span class="line">    <span class="keyword">throw</span> std::<span class="built_in">invalid_argument</span>(</span><br><span class="line">        <span class="string">&quot;Invalid matrix dimensions for multiplication.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">res</span>(A.<span class="built_in">size</span>(), std::<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(B[<span class="number">0</span>].<span class="built_in">size</span>(), <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; A.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; B[<span class="number">0</span>].<span class="built_in">size</span>(); ++j) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; B.<span class="built_in">size</span>(); ++k) &#123;</span><br><span class="line">        res[i][j] += A[i][k] * B[k][j];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; matrix::<span class="built_in">mul</span>(std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; &amp;A,</span><br><span class="line">                                          std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; &amp;B) &#123;</span><br><span class="line">  <span class="keyword">if</span> (A.<span class="built_in">empty</span>() || B.<span class="built_in">empty</span>() || A[<span class="number">0</span>].<span class="built_in">size</span>() != B.<span class="built_in">size</span>()) &#123;</span><br><span class="line">    <span class="keyword">throw</span> std::<span class="built_in">invalid_argument</span>(</span><br><span class="line">        <span class="string">&quot;Invalid matrix dimensions for multiplication.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">res</span>(A.<span class="built_in">size</span>(), std::<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(B[<span class="number">0</span>].<span class="built_in">size</span>(), <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; A.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; B[<span class="number">0</span>].<span class="built_in">size</span>(); ++j) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; B.<span class="built_in">size</span>(); ++k) &#123;</span><br><span class="line">        res[i][j] += A[i][k] * B[k][j];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">matrix::<span class="built_in">matrix</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt;</span><br><span class="line">matrix::<span class="built_in">transpose</span>(std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; &amp;A) &#123;</span><br><span class="line">  <span class="keyword">if</span> (A.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">    <span class="keyword">throw</span> std::<span class="built_in">invalid_argument</span>(<span class="string">&quot;Invalid matrix dimensions for transpose.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> row = A.<span class="built_in">size</span>();</span><br><span class="line">  <span class="type">int</span> col = A[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">  std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">res</span>(col, std::<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(row, <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; ++i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; col; ++j) &#123;</span><br><span class="line">      res[j][i] = A[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Cython-Binding-Files"><a href="#Cython-Binding-Files" class="headerlink" title="Cython Binding Files"></a>Cython Binding Files</h2><h3 id="1-PXD-File-functions-pxd"><a href="#1-PXD-File-functions-pxd" class="headerlink" title="1. PXD File (functions.pxd)"></a>1. PXD File (functions.pxd)</h3><p>The PXD file contains declarations that tell Cython about the C++ types and functions:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> libcpp.vector cimport vector</span><br><span class="line"></span><br><span class="line">cdef extern <span class="keyword">from</span> <span class="string">&quot;functions.cc&quot;</span>:</span><br><span class="line">    <span class="comment"># Function declarations</span></span><br><span class="line">    cdef vector[<span class="built_in">int</span>] prim(<span class="built_in">int</span> n)</span><br><span class="line">    cdef vector[<span class="built_in">int</span>] fib(<span class="built_in">int</span> n)</span><br><span class="line">    cdef vector[vector[<span class="built_in">int</span>]] matmul(vector[vector[<span class="built_in">int</span>]] A, vector[vector[<span class="built_in">int</span>]] B)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Class declaration</span></span><br><span class="line">    cdef cppclass matrix:</span><br><span class="line">        matrix()</span><br><span class="line">        vector[vector[<span class="built_in">int</span>]] mul(vector[vector[<span class="built_in">int</span>]] A, vector[vector[<span class="built_in">int</span>]] B)</span><br><span class="line">        vector[vector[<span class="built_in">int</span>]] transpose(vector[vector[<span class="built_in">int</span>]] A)</span><br></pre></td></tr></table></figure>

<p>âŒ Intuitively, it should be <code>cdef extern from &quot;functions.hpp&quot;</code> in <code>functions.pxd</code>, and the TVM project also includes header files (<code>.hpp</code>) in its <code>.pxi</code>. However, this causes errors on my Windows computer. Changing it to <code>.cc</code> resolves the issue.</p>
<h3 id="2-PYX-File-functions-pyx"><a href="#2-PYX-File-functions-pyx" class="headerlink" title="2. PYX File (functions.pyx)"></a>2. PYX File (functions.pyx)</h3><p>The PYX file contains the Python interface implementation:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># distutils: language=c++</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> libcpp.vector cimport vector</span><br><span class="line"></span><br><span class="line"><span class="comment"># import the functions and class from functions.pxd</span></span><br><span class="line"><span class="keyword">from</span> functions cimport prim, fib, matmul, matrix</span><br><span class="line"></span><br><span class="line"><span class="comment"># Function wrappers</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getNPrimes</span>(<span class="params"><span class="built_in">int</span> n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Get the first n prime numbers.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    cdef vector[<span class="built_in">int</span>] primes = prim(n)</span><br><span class="line">    <span class="keyword">return</span> primes</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getNFibonacci</span>(<span class="params"><span class="built_in">int</span> n</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Get the first n Fibonacci numbers.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    cdef vector[<span class="built_in">int</span>] res = fib(n)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">matMul</span>(<span class="params">vector[vector[<span class="built_in">int</span>]] A, vector[vector[<span class="built_in">int</span>]] B</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Multiply two matrices.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    cdef vector[vector[<span class="built_in">int</span>]] res = matmul(A, B)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment"># Class wrapper</span></span><br><span class="line">cdef <span class="keyword">class</span> <span class="title class_">PyMatrix</span>:</span><br><span class="line">    cdef matrix _matrix <span class="comment"># wrap a C++ class `matrix` in python class `PyMatrix`</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self._matrix = matrix()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mul</span>(<span class="params">self, vector[vector[<span class="built_in">int</span>]] A, vector[vector[<span class="built_in">int</span>]] B</span>):</span><br><span class="line">        <span class="keyword">return</span> self._matrix.mul(A, B)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">transpose</span>(<span class="params">self, vector[vector[<span class="built_in">int</span>]] A</span>):</span><br><span class="line">        <span class="keyword">return</span> self._matrix.transpose(A)</span><br></pre></td></tr></table></figure>

<h2 id="Building-the-Extension"><a href="#Building-the-Extension" class="headerlink" title="Building the Extension"></a>Building the Extension</h2><p>Create a <code>setup.py</code> file to build the Cython extension:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> setup</span><br><span class="line"><span class="keyword">from</span> Cython.Build <span class="keyword">import</span> cythonize</span><br><span class="line"></span><br><span class="line">setup(</span><br><span class="line">    ext_modules=cythonize(<span class="string">&quot;functions.pyx&quot;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>To build the extension, run:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python setup.py build_ext --inplace</span><br></pre></td></tr></table></figure>

<p>The command above will generate a <code>.so</code> file(<code>.pyd</code> in Windows), for example, <code>functions.so</code>.</p>
<h2 id="Using-the-Python-Module"><a href="#Using-the-Python-Module" class="headerlink" title="Using the Python Module"></a>Using the Python Module</h2><p>After building, you can use the module in Python:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># import the functions from functions.so</span></span><br><span class="line"><span class="keyword">from</span> functions <span class="keyword">import</span> getNPrimes, getNFibonacci, matMul, PyMatrix</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using functions</span></span><br><span class="line">primes = getNPrimes(<span class="number">10</span>)</span><br><span class="line">fibonacci = getNFibonacci(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using the matrix class</span></span><br><span class="line">matrix = PyMatrix()</span><br><span class="line">A = [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line">B = [[<span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>]]</span><br><span class="line">result = matrix.mul(A, B)</span><br><span class="line">transposed = matrix.transpose(A)</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>Cython</tag>
      </tags>
  </entry>
  <entry>
    <title>C++ Template</title>
    <url>/posts/a7ed73c4/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ˜¯é˜…è¯»<code>C++ templates: the complete guide 2nd</code>çš„ç¬”è®°ã€‚</p>
<span id="more"></span>

<h3 id="æ¨¡æ¿å‚æ•°ä¸ä¼šè¢«æ¨å¯¼çš„æƒ…å†µ"><a href="#æ¨¡æ¿å‚æ•°ä¸ä¼šè¢«æ¨å¯¼çš„æƒ…å†µ" class="headerlink" title="æ¨¡æ¿å‚æ•°ä¸ä¼šè¢«æ¨å¯¼çš„æƒ…å†µ"></a>æ¨¡æ¿å‚æ•°ä¸ä¼šè¢«æ¨å¯¼çš„æƒ…å†µ</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> RT, <span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</span></span><br><span class="line"><span class="function">RT <span class="title">max</span><span class="params">(T1 a, T2 b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">2</span>;</span><br><span class="line">	<span class="type">double</span> b = <span class="number">3.14</span>;</span><br><span class="line">	std::cout &lt;&lt; ::<span class="built_in">max</span>(a, b) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">prog.cpp:3:4: note:   template argument deduction/substitution failed:</span><br><span class="line">prog.cpp:9:25: note:   couldn&#x27;t deduce template parameter â€˜RTâ€™</span><br><span class="line">std::cout &lt;&lt; ::max(a, b) &lt;&lt; std::endl;</span><br><span class="line">                      ^</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>RT</code>çš„ç±»å‹æ˜¯<code>T1</code> or <code>T2</code>ï¼Œç¼–è¯‘å™¨æ— æ³•æ¨æ–­ï¼š</p>
<blockquote>
<p> In cases when there is <strong>no connection</strong> between <strong>template parameters(e.g. RT)</strong> and <strong>call parameters(e.g. a and b)</strong>,  the compiler canâ€™t take the template parameters into account and also canâ€™t deduce it.</p>
</blockquote>
<p><code>RT</code>ä¸å‡½æ•°å½¢å‚æ— å…³æ—¶ï¼Œç¼–è¯‘å™¨<strong>ä¸ä¼šå»æ¨æ–­</strong><code>RT</code>çš„ç±»å‹ã€‚</p>
<p>ç¼–è¯‘å™¨ä¸æ˜¯æ¨æ–­ä¸å‡º<code>RT</code>ï¼Œè€Œæ˜¯æ ¹æœ¬ä¸ä¼šå»æ¨æ–­<code>RT</code>ã€‚æŠŠä»£ç æ”¹æˆè¿™æ ·ï¼Œç¼–è¯‘å™¨ä¹Ÿä¸ä¼šå»æ¨æ–­<code>RT</code>:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> RT, <span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function">RT <span class="title">max</span><span class="params">(T a, T b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">2</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">3</span>;</span><br><span class="line">	std::cout &lt;&lt; ::<span class="built_in">max</span>(a, b) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°½ç®¡æˆ‘ä»¬ä¸€çœ¼å¯ä»¥çœ‹å‡º<code>RT</code>è‚¯å®šç­‰äº<code>T</code>ï¼Œä½†ç¼–è¯‘å™¨ä¸ä¼šå»æ¨æ–­ã€‚</p>
<p><strong>æ­£ç¡®ç¤ºèŒƒ</strong></p>
<p><strong>ä½¿ç”¨<code>auto</code></strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">max</span><span class="params">(T1 a, T2 b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">2</span>;</span><br><span class="line">	<span class="type">double</span> b = <span class="number">3.14</span>;</span><br><span class="line">	std::cout &lt;&lt; ::<span class="built_in">max</span>(a, b) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>auto</code>ä¼šåœ¨ç¼–è¯‘æœŸè¿›è¡Œæ¨æ–­ï¼Œä¾‹å¦‚<code>aä¸ºint,bä¸ºdouble</code>ï¼Œåœ¨è¿›è¡Œ<code>a&gt;b</code>æ¯”è¾ƒæ—¶ï¼Œ<code>a</code>ä¼šéšå¼è½¬æ¢ä¸º<code>double</code>ï¼Œé‚£ä¹ˆ<code>auto</code>ä¼šè¢«æ¨æ–­ä¸º<code>double</code>.</p>
<p><strong>æ˜¾ç¤ºæŒ‡å®š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> RT, <span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</span></span><br><span class="line"><span class="function">RT <span class="title">max</span><span class="params">(T1 a, T2 b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">2</span>;</span><br><span class="line">	<span class="type">double</span> b = <span class="number">3.14</span>;</span><br><span class="line">	std::cout &lt;&lt; ::<span class="built_in">max</span>&lt;<span class="type">double</span>&gt;(a, b) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>type trait ç±»å‹èƒå–</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;type_traits&gt;</span></span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2, <span class="keyword">typename</span> RT = std::<span class="type">common_type_t</span>&lt;T1,T2&gt;&gt;</span><br><span class="line">RT <span class="built_in">max</span>(T1 a, T2 b)&#123;</span><br><span class="line">	<span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">2</span>;</span><br><span class="line">	<span class="type">double</span> b = <span class="number">3.14</span>;</span><br><span class="line">	std::cout &lt;&lt; ::<span class="built_in">max</span>&lt;<span class="type">double</span>&gt;(a, b) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>std::common_type_t&lt;&gt;</code>ä¼šè¿”å›å¤šä¸ªç±»å‹çš„å…¬å…±ç±»å‹ã€‚ä¾‹å¦‚<code>std::common_type_t&lt;int,double&gt;</code>ç­‰äº<code>double</code>ï¼Œå› ä¸ºå¯ä»¥éšå¼è½¬æ¢<code>int</code>ä¸º<code>double</code>ä»è€Œç»Ÿä¸€ç±»å‹ã€‚</p>
<h3 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h3><p>åœ¨æ¨¡æ¿ä¸‹æ·»åŠ <code>requires</code></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;concepts&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">requires</span> std::totally_ordered&lt;T&gt; <span class="comment">// è¦æ±‚ç±»å‹Tå¯æ’åº</span></span><br><span class="line"><span class="function">T <span class="title">my_max</span><span class="params">(T a, T b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å°è¯•å»æ‰ä»¥ä¸‹ä»£ç ä¸­çš„<code>requires</code>ï¼Œçœ‹çœ‹æŠ¥é”™ä¿¡æ¯æœ‰å¤šä¹ˆä»¤äººå¤´ç–¼ã€‚åŠ ä¸Š<code>requires</code>ï¼ŒæŠ¥é”™ä¿¡æ¯æ›´ç²¾ç¡®ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;concepts&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> STR&gt;</span></span><br><span class="line"><span class="function">    <span class="keyword">requires</span> std::is_convertible_v&lt;STR,std::string&gt;</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">    <span class="keyword">explicit</span> <span class="title">Person</span><span class="params">(STR&amp;&amp; n)</span>: name(std::forward&lt;STR&gt;(n))&#123;</span></span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;TMPL-CONSTR for &quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function">Person <span class="title">p</span><span class="params">(<span class="number">123</span>)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¸¸è§çš„çº¦æŸï¼š</p>
<table>
<thead>
<tr>
<th align="center">æ¦‚å¿µï¼ˆConceptï¼‰</th>
<th align="center">ç”¨é€”</th>
<th align="center">ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>std::integral&lt;T&gt;</code></td>
<td align="center"><code>T</code> å¿…é¡»æ˜¯æ•´æ•°ç±»å‹ï¼ˆ<code>int</code>, <code>short</code> ç­‰ï¼‰</td>
<td align="center"><code>requires std::integral&lt;T&gt;</code></td>
</tr>
<tr>
<td align="center"><code>std::floating_point&lt;T&gt;</code></td>
<td align="center"><code>T</code> å¿…é¡»æ˜¯æµ®ç‚¹ç±»å‹ï¼ˆ<code>float</code>, <code>double</code>ï¼‰</td>
<td align="center"><code>requires std::floating_point&lt;T&gt;</code></td>
</tr>
<tr>
<td align="center"><code>std::copyable&lt;T&gt;</code></td>
<td align="center"><code>T</code> å¯æ‹·è´ï¼ˆæœ‰æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ï¼‰</td>
<td align="center"><code>requires std::copyable&lt;T&gt;</code></td>
</tr>
<tr>
<td align="center"><code>std::movable&lt;T&gt;</code></td>
<td align="center"><code>T</code> å¯ç§»åŠ¨ï¼ˆæœ‰ç§»åŠ¨æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ï¼‰</td>
<td align="center"><code>requires std::movable&lt;T&gt;</code></td>
</tr>
<tr>
<td align="center"><code>std::equality_comparable&lt;T&gt;</code></td>
<td align="center"><code>T</code> æ”¯æŒ <code>==</code> å’Œ <code>!=</code></td>
<td align="center"><code>requires std::equality_comparable&lt;T&gt;</code></td>
</tr>
<tr>
<td align="center"><code>std::totally_ordered&lt;T&gt;</code></td>
<td align="center"><code>T</code> æ”¯æŒ <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code></td>
<td align="center"><code>requires std::totally_ordered&lt;T&gt;</code></td>
</tr>
<tr>
<td align="center"><code>std::ranges::range&lt;T&gt;</code></td>
<td align="center"><code>T</code> æ˜¯èŒƒå›´ï¼ˆæœ‰ <code>begin()</code> å’Œ <code>end()</code>ï¼‰</td>
<td align="center"><code>requires std::ranges::range&lt;T&gt;</code></td>
</tr>
<tr>
<td align="center"><code>std::input_iterator&lt;T&gt;</code></td>
<td align="center"><code>T</code> æ˜¯è¾“å…¥è¿­ä»£å™¨</td>
<td align="center"><code>requires std::input_iterator&lt;T&gt;</code></td>
</tr>
<tr>
<td align="center"><code>std::invocable&lt;F, Args...&gt;</code></td>
<td align="center"><code>F</code> å¯è°ƒç”¨ï¼Œå‚æ•°ä¸º <code>Args...</code></td>
<td align="center"><code>requires std::invocable&lt;F, int, double&gt;</code></td>
</tr>
</tbody></table>
<p><strong>Defining Concepts</strong></p>
<p><strong>æ£€æŸ¥æˆå‘˜å‡½æ•°æ˜¯å¦å­˜åœ¨</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;concepts&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">requires</span> <span class="title">requires</span><span class="params">(T obj)</span></span>&#123;</span><br><span class="line">    obj.<span class="built_in">size</span>();</span><br><span class="line">    obj.<span class="built_in">clear</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">reset</span><span class="params">(T&amp; obj)</span></span>&#123;</span><br><span class="line">    obj.<span class="built_in">clear</span>();   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v1&#123;<span class="number">1</span>,<span class="number">2</span>&#125;;</span><br><span class="line">    <span class="built_in">reset</span>(v1);</span><br><span class="line">    std::cout &lt;&lt; v1.<span class="built_in">size</span>() &lt;&lt; std::endl;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">reset</span>(a);<span class="comment">//constraints not satisfied  </span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ£€æŸ¥è¿ç®—ç¬¦</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">requires</span> <span class="title">requires</span><span class="params">(T a, T b)</span> </span>&#123;</span><br><span class="line">    &#123; a + b &#125; -&gt; std::convertible_to&lt;T&gt;;  <span class="comment">// å¿…é¡»æ”¯æŒ + è¿ç®—ä¸”è¿”å› T</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function">T <span class="title">add</span><span class="params">(T a, T b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Alias-Template"><a href="#Alias-Template" class="headerlink" title="Alias Template"></a>Alias Template</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyContainer</span>&#123;</span><br><span class="line">	......</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">using</span> MyIterator = <span class="keyword">typename</span> MyContainer&lt;T&gt;::iterator;<span class="comment">//éœ€è¦æŒ‡æ˜typename</span></span><br><span class="line"></span><br><span class="line">MyIterator&lt;<span class="type">int</span>&gt; pos;</span><br></pre></td></tr></table></figure>



<h3 id="Nontype-Template-Parameters"><a href="#Nontype-Template-Parameters" class="headerlink" title="Nontype Template Parameters"></a>Nontype Template Parameters</h3><p>æ¨¡æ¿å‚æ•°ä¸ä¸€å®šæ˜¯<code>type</code>ï¼Œä¹Ÿå¯ä»¥æ˜¯<code>constant integral values</code></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cassert&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="type">int</span> MaxSize&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myStack</span>&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::array&lt;T,MaxSize&gt; elem;</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">myStack</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(<span class="type">const</span> T&amp; _elem)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">pop</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">T <span class="title">top</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> MaxSize&gt;</span><br><span class="line">myStack&lt;T,MaxSize&gt;::<span class="built_in">myStack</span>(): <span class="built_in">num</span>(<span class="number">0</span>)&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> MaxSize&gt;</span><br><span class="line"><span class="type">void</span> myStack&lt;T,MaxSize&gt;::<span class="built_in">push</span>(<span class="type">const</span> T&amp; _elem)&#123;</span><br><span class="line">    <span class="built_in">assert</span>(num &lt; MaxSize);</span><br><span class="line">    elem[num++] = _elem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> MaxSize&gt;</span><br><span class="line"><span class="type">void</span> myStack&lt;T, MaxSize&gt;::<span class="built_in">pop</span>()&#123;</span><br><span class="line">    <span class="built_in">assert</span>(num&gt;<span class="number">0</span>);</span><br><span class="line">    --num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> MaxSize&gt;</span><br><span class="line"><span class="type">int</span> myStack&lt;T, MaxSize&gt;::<span class="built_in">size</span>()&#123;</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> MaxSize&gt;</span><br><span class="line">T myStack&lt;T, MaxSize&gt;::<span class="built_in">top</span>()&#123;</span><br><span class="line">    <span class="built_in">assert</span>(num &gt; <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> elem[num<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Variadic-Templates"><a href="#Variadic-Templates" class="headerlink" title="Variadic Templates"></a>Variadic Templates</h3><p>é€šè¿‡<code>variadic Templates</code>å®ç°å¯å˜å‚æ•°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span>... Types&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(T first, Types... args)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    std::cout &lt;&lt; first &lt;&lt; std::endl;</span><br><span class="line">    <span class="built_in">print</span>(args...);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>, <span class="number">2.0</span>, <span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šè¦åœ¨æ¨¡æ¿å‰å®šä¹‰ä¸€ä¸ªç»ˆæ­¢å‡½æ•°<code>void print()&#123;&#125;</code>ï¼Œå¦åˆ™æ¨¡æ¿å±•å¼€æ—¶ä¼šåå¤è°ƒç”¨<code>print(arg...)</code>å¯¼è‡´çˆ†æ ˆã€‚</p>
<p>å®ç°<code>and_all</code>:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">and_all</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">and_all</span><span class="params">(T one)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> one;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span>... Types&gt;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">and_all</span><span class="params">(T first, Types... args)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> first &amp;&amp; <span class="built_in">and_all</span>(args...);   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">and_all</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>) &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">and_all</span>(<span class="number">1</span>) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Fold-Expressions"><a href="#Fold-Expressions" class="headerlink" title="Fold Expressions"></a>Fold Expressions</h3><table>
<thead>
<tr>
<th align="center">æŠ˜å ç±»å‹</th>
<th align="center">è¯­æ³•</th>
<th align="center">å±•å¼€ç¤ºä¾‹ï¼ˆå‚æ•°åŒ…ä¸º <code>a, b, c</code>ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>ä¸€å…ƒå·¦æŠ˜å </strong></td>
<td align="center"><code>( ... op args )</code></td>
<td align="center"><code>((a op b) op c)</code></td>
</tr>
<tr>
<td align="center"><strong>ä¸€å…ƒå³æŠ˜å </strong></td>
<td align="center"><code>( args op ... )</code></td>
<td align="center"><code>(a op (b op c))</code></td>
</tr>
<tr>
<td align="center"><strong>äºŒå…ƒå·¦æŠ˜å </strong></td>
<td align="center"><code>( init op ... op args )</code></td>
<td align="center"><code>(((init op a) op b) op c)</code></td>
</tr>
<tr>
<td align="center"><strong>äºŒå…ƒå³æŠ˜å </strong></td>
<td align="center"><code>( args op ... op init )</code></td>
<td align="center"><code>(a op (b op (c op init)))</code></td>
</tr>
</tbody></table>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Types&gt;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">and_all</span><span class="params">(Types... args)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (args &amp;&amp; ...);   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Types&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">add_all</span><span class="params">(Types... args)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="number">0</span> + ... + args);<span class="comment">// è€Œä¸”æ‹¬å·ä¸èƒ½å°‘ï¼Œä¸èƒ½å†™æˆ0 + ... + args</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">and_all</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>) &lt;&lt; std::endl;   </span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">add_all</span>(<span class="number">1</span>, <span class="number">3.14</span>, <span class="number">2u</span>) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>ä¸èƒ½å†™æˆ <code>return (args + ...)</code>; é˜²æ­¢æ— å‚æ•°è°ƒç”¨,ä¾‹å¦‚<code>add_all()</code></p>
</li>
<li><p>æ‹¬å·ä¸èƒ½å°‘ï¼Œä¸èƒ½å†™æˆ<code>return 0 + ... + args</code></p>
</li>
<li><p><code>(0 + ... + args)</code> å°±æ˜¯<code>( init op ... op args )</code> çš„å½¢å¼</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Types&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print_all</span><span class="params">(Types... args)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    ( (std::cout &lt;&lt; args &lt;&lt; <span class="string">&quot;\n&quot;</span>), ... );   </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">print_all</span>(<span class="number">1</span>, <span class="string">&quot;hello&quot;</span>, <span class="number">3.14</span>, <span class="string">&quot;world&quot;</span>);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line">hello</span><br><span class="line">3.14</span><br><span class="line">world</span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><code>( (std::cout &lt;&lt; args &lt;&lt; &quot;\n&quot;), ... )</code> æ˜¯ä¸€å…ƒå³æŠ˜å è¡¨è¾¾å¼.</li>
</ul>
<p><code>args</code>æ‹¼æˆäº†ä¸€ä¸ªæ–°çš„<code>new_args</code> &#x3D; <code>(std::cout &lt;&lt; args &lt;&lt; &quot;\n&quot;)</code>ï¼Œ<code>new_args</code>ä¸­æœ‰å››ä¸ªå˜é‡ï¼Œåˆ†åˆ«æ˜¯<code>(std::cout &lt;&lt; 1 &lt;&lt; &quot;\n&quot;)</code>, <code>(std::cout &lt;&lt; &quot;hello&quot; &lt;&lt; &quot;\n&quot;)</code>, <code>(std::cout &lt;&lt; 3.14 &lt;&lt; &quot;\n&quot;)</code>, <code>(std::cout &lt;&lt; &quot;world&quot; &lt;&lt; &quot;\n&quot;)</code></p>
<ul>
<li><code>(new_args , ...)</code> ä¸€å…ƒå³æŠ˜å ï¼Œ<code>op</code> &#x3D; <code>,</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span>... TN&gt;</span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> <span class="type">bool</span> <span class="title">isHomogeneous</span><span class="params">(T1, TN...)</span></span>&#123;<span class="comment">//å¯ä»¥çœç•¥å‚æ•°å</span></span><br><span class="line">    <span class="keyword">return</span> (std::is_same&lt;T1,TN&gt;::value &amp;&amp; ...);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;    </span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">isHomogeneous</span>(<span class="number">1</span>, <span class="number">2</span> , <span class="string">&quot;hello&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">    </span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">isHomogeneous</span>(<span class="number">1</span>, <span class="number">2</span> , <span class="number">3</span>) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Generic-Template-Parameter-Reference-Collasing-Perfect-Forwarding"><a href="#Generic-Template-Parameter-Reference-Collasing-Perfect-Forwarding" class="headerlink" title="Generic Template Parameter &amp; Reference Collasing &amp; Perfect Forwarding"></a>Generic Template Parameter &amp; Reference Collasing &amp; Perfect Forwarding</h3><p><code>add_all</code>è¿™æ ·å†™æ›´å¥½ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Args&gt;</span><br><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">add_all</span><span class="params">(Args&amp;&amp;... args)</span></span>&#123;</span><br><span class="line">       <span class="keyword">return</span> (<span class="number">0</span> + ... + std::forward&lt;Args&gt;(args));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123; </span><br><span class="line">    <span class="type">int</span> x = <span class="number">6</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">add_all</span>(<span class="number">1</span>, x, <span class="number">2</span>, <span class="number">3.14</span>, <span class="string">&#x27;a&#x27;</span>) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>Generic Template Parameter</code>ï¼šä½¿ç”¨<code>Args&amp;&amp;...</code>èƒ½å¤ŸåŒæ—¶å¤„ç†<code>lvalue</code>å’Œ<code>rvalue</code></li>
<li><code>Reference Collasing</code>: <code>int&amp;&amp;&amp;</code>ç­‰ä»·äº<code>int&amp;</code>, <code>int&amp;&amp;&amp;&amp;</code> -&gt; <code>int&amp;&amp;</code></li>
<li><code>Perfect Forwarding</code>: å®Œç¾è½¬å‘ï¼Œä¸æ”¹å˜å·¦å€¼å³å€¼å±æ€§</li>
</ul>
<p>å½“<code>add_all</code>è¢«ä¼ å…¥<code>rvalue</code>ä¾‹å¦‚<code>3.14</code>æ—¶ï¼Œ<code>Args</code>æ¨æ–­ä¸º<code>float</code>, å®Œç¾è½¬å‘åä¸º<code>float&amp;&amp; 3.14</code></p>
<p>å½“<code>add_all</code>è¢«ä¼ å…¥<code>lvalue</code>ä¾‹å¦‚<code>x</code>æ—¶ï¼Œ<code>Args</code>æ¨æ–­ä¸º<code>int&amp;</code>, å®Œç¾è½¬å‘åä¸º<code>int&amp;&amp;&amp; x</code> &#x3D; <code>int&amp; x</code></p>
<p>ä¸€ä¸ªä½¿ç”¨å®Œç¾è½¬å‘å‰åçš„æ€§èƒ½å¯¹æ¯”å®éªŒï¼š<a href="https://ideone.com/Nt5DzC">link</a></p>
<h3 id="typename-keyword"><a href="#typename-keyword" class="headerlink" title="typename keyword"></a><code>typename </code>keyword</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;tuple&gt;</span></span></span><br><span class="line"><span class="comment">// print elements of an STL container</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printcoll</span> <span class="params">(T <span class="type">const</span>&amp; coll)</span></span>&#123;</span><br><span class="line">    <span class="keyword">typename</span> T::const_iterator pos;</span><br><span class="line">    <span class="function"><span class="keyword">typename</span> T::const_iterator <span class="title">end</span><span class="params">(coll.end())</span></span>;<span class="comment">// end position</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(pos = coll.<span class="built_in">begin</span>(); pos != end; ++pos)&#123;</span><br><span class="line">        std::cout &lt;&lt; *pos &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v1&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">    std::vector&lt;std::string&gt; v2&#123;<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>&#125;;   </span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printcoll</span>(v1);</span><br><span class="line">    <span class="built_in">printcoll</span>(v2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Disable-Templates-with-enable-if-t"><a href="#Disable-Templates-with-enable-if-t" class="headerlink" title="Disable Templates with enable_if_t&lt;&gt;"></a>Disable Templates with <code>enable_if_t&lt;&gt;</code></h3><p>è¯­æ³•ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function">std::enable_if_v&lt; bool_expr, type &gt;  <span class="title">foo</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å¦‚æœ<code>bool_expr</code>ä¸ºçœŸï¼Œå‡½æ•°<code>foo</code>çš„è¿”å›å€¼ä¸º<code>type</code></p>
</li>
<li><p>å¦‚æœ<code>bool_expr</code>ä¸ºå‡ï¼Œåˆ™<code>foo</code>ä¸å®Œæˆå®ä¾‹</p>
</li>
<li><p><code>type</code>ç¼ºçœä¸º<code>void</code></p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;type_traits&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•´æ•°æ‰“å°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">std::<span class="type">enable_if_t</span>&lt;std::is_integral_v&lt;T&gt;, <span class="type">void</span>&gt;</span><br><span class="line">    <span class="built_in">print</span>(T value) &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Integer: &quot;</span> &lt;&lt; value &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ®ç‚¹æ•°æ‰“å°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">    std::<span class="type">enable_if_t</span>&lt;std::is_floating_point_v&lt;T&gt;, <span class="type">void</span>&gt;</span><br><span class="line">    <span class="built_in">print</span>(T value) &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Floating: &quot;</span> &lt;&lt; value &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">42</span>);       <span class="comment">// Integer</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="number">3.14f</span>);    <span class="comment">// Floating</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>); <span class="comment">// no matching function</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨é»˜è®¤æ¨¡æ¿å‚æ•°+<code>enable_if_t</code>æ¥å¯¹æ¨¡æ¿å‚æ•°è¿›è¡Œçº¦æŸï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;type_traits&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> = std::<span class="type">enable_if_t</span>&lt;std::is_integral_v&lt;T&gt;&gt;&gt;</span><br><span class="line"><span class="type">void</span> <span class="built_in">foo</span>() &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;T is integral&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">foo</span>&lt;<span class="type">int</span>&gt;();    <span class="comment">// âœ… ç¼–è¯‘é€šè¿‡</span></span><br><span class="line">    <span class="built_in">foo</span>&lt;<span class="type">double</span>&gt;(); <span class="comment">// âŒ ç¼–è¯‘å¤±è´¥ï¼ˆSFINAE æ’é™¤æ­¤ç‰ˆæœ¬ï¼‰</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç¬¬ä¸€ä¸ªæ¨¡æ¿å‚æ•°æ˜¯<code>T</code>ï¼Œç¬¬äºŒä¸ªæ¨¡æ¿å‚æ•°<code>typename = std::enable_if_t&lt;std::is_integral_v&lt;T&gt;&gt;</code> , é€šè¿‡ç¬¬äºŒä¸ªæ¨¡æ¿å‚æ•°çš„æ¨å¯¼æ¥é™åˆ¶ç¬¬ä¸€ä¸ªæ¨¡æ¿å‚æ•°<code>T</code>çš„ç±»å‹</li>
<li>å¦‚æœ<code>T</code>æ˜¯æ•´æ•°ç±»å‹ï¼Œæ¨¡æ¿å±•å¼€ä¸º</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">tempalte&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> = <span class="type">void</span>&gt;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒä¸ªæ¨¡æ¿å‚æ•°ç”¨ä¸ä¸Šï¼Œåªæ˜¯ä¸ºäº†å»çº¦æŸ<code>T</code>çš„ã€‚</p>
<h3 id="concept"><a href="#concept" class="headerlink" title="concept"></a>concept</h3><p>ä¸ªäººè§‰å¾—<code>concept</code>ç›¸è¾ƒäº<code>enable_if</code>æ›´åŠ ç®€æ´æ¸…æ™°ã€‚ä½†æ˜¯<code>concept</code>åœ¨<code>C++20</code>è¿›å…¥æ ‡å‡†ï¼Œå¯èƒ½è€ä»£ç è¿˜æ˜¯å¾—ç”¨<code>enable_if</code>.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> STR&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">requires</span> std::is_convertible_v&lt;STR,std::string&gt;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">PerSon</span><span class="params">(STR&amp;&amp; n)</span>:name(std::forward&lt;STR&gt;(n)) &#123;</span></span><br><span class="line">......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



]]></content>
      <tags>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>C++ build and debug with g++ in Windows Vscode</title>
    <url>/posts/4d82c4d4/</url>
    <content><![CDATA[<p>åœ¨<code>Windows Vscode</code>ä¸Šé…ç½®<code>C/C++</code>è°ƒè¯•ç¯å¢ƒã€‚</p>
<span id="more"></span>

<p>éœ€è¦åœ¨é¡¹ç›®æ–‡ä»¶å¤¹æ–°å»º<code>.vscode/</code>ï¼Œæ–°å»ºä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶ï¼š</p>
<h4 id="tasks-json"><a href="#tasks-json" class="headerlink" title="tasks.json"></a>tasks.json</h4><ul>
<li><code>tasks.json</code> ç”¨äº<code>C/C++</code> <code>build</code></li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppbuild&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C/C++: g++.exe build active file&quot;</span><span class="punctuation">,</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//custom the path of your g++</span></span><br><span class="line">      <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;D:\\software\\mingw64\\bin\\g++.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;-fdiagnostics-color=always&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;-O0&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;-g&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;$&#123;file&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// &quot;-I /path/to/includeFile/&quot; //can also set the include file path</span></span><br><span class="line">        <span class="string">&quot;-o&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</span> <span class="comment">//generate the executable file with the same name</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;$gcc&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;kind&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;isDefault&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;detail&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Task generated by Debugger.&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="launch-json"><a href="#launch-json" class="headerlink" title="launch.json"></a>launch.json</h4><ul>
<li><code>launch.json</code> ç”¨äº<code>C/C++</code> <code>Debug</code></li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C/C++: g++.exe build and debug active file&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppdbg&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;environment&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;externalConsole&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;MIMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gdb&quot;</span><span class="punctuation">,</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//custom the path of gdb.exe</span></span><br><span class="line">      <span class="attr">&quot;miDebuggerPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;D:\\software\\mingw64\\bin\\gdb.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;setupCommands&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Enable pretty-printing for gdb&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-enable-pretty-printing&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;ignoreFailures&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Set Disassembly Flavor to Intel&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-gdb-set disassembly-flavor intel&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;ignoreFailures&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// build the program before debugging</span></span><br><span class="line">      <span class="attr">&quot;preLaunchTask&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C/C++: g++.exe build active file&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://private-user-images.githubusercontent.com/143396699/442748654-66283faf-38d9-4c50-84bd-7dce103846e4.gif?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDcwNTM4MTgsIm5iZiI6MTc0NzA1MzUxOCwicGF0aCI6Ii8xNDMzOTY2OTkvNDQyNzQ4NjU0LTY2MjgzZmFmLTM4ZDktNGM1MC04NGJkLTdkY2UxMDM4NDZlNC5naWY_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwNTEyJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDUxMlQxMjM4MzhaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1lZjcyMDcyZDVhNzJjZmMzYzEwNWZjZjVkMmQ5OGFiNzNhMTlmZDQyMjEzMmRlZjk2Zjk5MTUwNjJkZGU5ZmU1JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.HPziooNnWdQXOvq6zPWpJvoYZ72awc_AIitAbf-TNac" alt="screenshots.gif (1916Ã—999)"></p>
<h4 id="debugger-console"><a href="#debugger-console" class="headerlink" title="debugger console"></a>debugger console</h4><p>å…¼å®¹<code>gdb</code>å‘½ä»¤(éœ€è¦åŠ <code>-exec</code>)ï¼Œå‘½ä»¤æ ¼å¼ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">-exec &lt;gdb command&gt;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">-exec p i</span><br><span class="line">-exec b 10</span><br></pre></td></tr></table></figure>

<p><a href="https://code.visualstudio.com/docs/cpp/cpp-debug">reference</a></p>
<blockquote>
<h2 id="GDB-LLDB-and-LLDB-MI-Commands-GDB-LLDB"><a href="#GDB-LLDB-and-LLDB-MI-Commands-GDB-LLDB" class="headerlink" title="GDB, LLDB, and LLDB-MI Commands (GDB&#x2F;LLDB)"></a><a href="https://code.visualstudio.com/docs/cpp/cpp-debug#_gdb-lldb-and-lldbmi-commands-gdblldb">GDB, LLDB, and LLDB-MI Commands (GDB&#x2F;LLDB)</a></h2><p>For the <code>C++ (GDB/LLDB)</code> debugging environment, you can execute GDB, LLDB and LLDB-MI commands directly through the debug console with the <code>-exec</code> command, but be careful, executing commands directly in the debug console is untested and might crash VS Code in some cases.</p>
</blockquote>
]]></content>
      <tags>
        <tag>C++</tag>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Collecting commonly used websites</title>
    <url>/posts/7c22bd6a/</url>
    <content><![CDATA[<p><strong style="color : orange">Some commonly used or valuable websites .</strong> </p>
<span id="more"></span>

<div class="link-grid"><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>Hackway</p><p>è®¡ç®—æœºä¸“ä¸šå­¦ä¹ è·¯çº¿</p>
<a href="https://hackway.org/docs/cs/intro"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>cs-self-learning</p><p>CSè‡ªå­¦æŒ‡å—</p>
<a href="https://csdiy.wiki"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>åæ ¡å…¬å¼€è¯¾ç¨‹è¯„ä»·ç½‘</p><p>CS Courses</p>
<a href="https://conanhujinming.github.io/comments-for-awesome-courses/"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>CSå…¬å¼€è¯¾ç¨‹å­¦ä¹ ç¾¤</p><p>ä¸€ä¸ªQQç¾¤</p>
<a href="https://zhuanlan.zhihu.com/p/253232863"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>ç¼–ç¨‹æŒ‡åŒ—</p><p>è®¡ç®—æœºå­¦ä¹ è·¯çº¿</p>
<a href="https://csguide.cn/"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>Hello FakeGPT</p><p>ChatGPTåŠ é€Ÿå™¨</p>
<a href="chat.zhille.io"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>Hello ç®—æ³•</p><p>ç®—æ³•å­¦ä¹ å…¥é—¨æ•™ç¨‹</p>
<a href="https://www.hello-algo.com/"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="https://pic.imgdb.cn/item/65115467c458853aef31fe7c.jpg"></object>
<p>Brian (Bojie) Li (01.me)</p><p>https://01.me/</p>
<a href="https://01.me/"></a>
</div></div>]]></content>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>Cppæ–°çŸ¥</title>
    <url>/posts/3ecf09f5/</url>
    <content><![CDATA[<p>C++ä¸€äº›æ–°çš„çŸ¥è¯†ç‚¹</p>
<span id="more"></span>

<h3 id="C-çŸ©é˜µè¿ç®—-è¿ç®—ç¬¦é‡è½½"><a href="#C-çŸ©é˜µè¿ç®—-è¿ç®—ç¬¦é‡è½½" class="headerlink" title="C++çŸ©é˜µè¿ç®—(è¿ç®—ç¬¦é‡è½½)"></a>C++çŸ©é˜µè¿ç®—(è¿ç®—ç¬¦é‡è½½)</h3><p><a href="https://mp.weixin.qq.com/s/C1c5XChVyVT4OSeNvpmaqQ">Link</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Matrix</span>&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="type">int</span> rows , cols ;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; data ;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="built_in">Matrix</span>(<span class="type">int</span> rows, <span class="type">int</span> cols , std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; data): <span class="built_in">rows</span>(rows), <span class="built_in">cols</span>(cols) , <span class="built_in">data</span>(data)&#123;&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="function"><span class="type">int</span> <span class="title">get_elem</span><span class="params">(<span class="type">int</span> row , <span class="type">int</span> col)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">return</span> data[row][col];</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; rows ; i++)&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; cols ; j++)&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="built_in">printf</span>(<span class="string">&quot;%d Â &quot;</span> , data[i][j]);</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Matrix <span class="keyword">operator</span>+(<span class="type">const</span> Matrix&amp; A) <span class="type">const</span>&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="function">Matrix <span class="title">result</span><span class="params">(rows , cols , data)</span></span>;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; rows ; i++)</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; cols ; j++)&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  result.data[i][j] += A.data[i][j];</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Matrix <span class="keyword">operator</span>-(<span class="type">const</span> Matrix&amp; A) <span class="type">const</span>&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="function">Matrix <span class="title">result</span><span class="params">(rows , cols , data)</span></span>;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; rows ; i++)</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; cols ; j++)&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  result.data[i][j] -= A.data[i][j];</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Matrix <span class="keyword">operator</span>*(<span class="type">const</span> Matrix&amp; A) <span class="type">const</span>&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">if</span>(cols != A.rows)&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  std::cout &lt;&lt; <span class="string">&quot;Invalid matrix dimensions&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="function">Matrix <span class="title">result</span><span class="params">(rows , A.cols , std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; (rows , std::vector&lt;<span class="type">int</span>&gt;(A.cols,<span class="number">0</span>)))</span></span>;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; rows ; i++)</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; A.cols ; j++)</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span> ; k &lt; cols ; k++)&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  result.data[i][j] += data[i][k] * A.data[k][j];</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="function">Matrix <span class="title">transpose</span><span class="params">()</span><span class="type">const</span></span>&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="function">Matrix <span class="title">res</span><span class="params">(cols , rows , data)</span></span>;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; cols ; i++)</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; rows ; j++)&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  res.data[i][j] = data[j][i];</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; data = &#123; &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125; , &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125; , &#123;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">Â  Â  std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; data1 = &#123; &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125; , &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125; , &#123;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125; , &#123;<span class="number">6</span>,<span class="number">6</span>,<span class="number">6</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">Â  Â  std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; data2 = &#123; &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125; , &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125; , &#123;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="function">Matrix <span class="title">A</span><span class="params">(<span class="number">3</span>,<span class="number">4</span>,data2)</span></span>;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="function">Matrix <span class="title">B</span><span class="params">(<span class="number">4</span>,<span class="number">3</span>,data1)</span></span>;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="function">Matrix <span class="title">C</span><span class="params">(<span class="number">3</span>,<span class="number">3</span>,data)</span></span>;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="comment">// C = A + B;</span></span><br><span class="line"></span><br><span class="line">Â  Â  C = A * B;</span><br><span class="line"></span><br><span class="line">Â  Â  A.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">Â  Â  B.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">Â  Â  C.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">Â  Â  C.<span class="built_in">transpose</span>().<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="C-11-tuple"><a href="#C-11-tuple" class="headerlink" title="C++11 tuple"></a>C++11 tuple</h3><p><a href="https://mp.weixin.qq.com/s/oPOqr5J0ES0NGO-L3eKvzA">Link</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;tuple&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::string name = <span class="string">&quot;Alice&quot;</span>;</span><br><span class="line">    <span class="type">int</span> age = <span class="number">21</span>;</span><br><span class="line">    <span class="type">double</span> grade = <span class="number">100.0</span>;</span><br><span class="line">    <span class="keyword">auto</span> student_tuple = std::<span class="built_in">make_tuple</span>(name , age , grade);</span><br><span class="line"></span><br><span class="line">    std::string name_from_student = std::<span class="built_in">get</span>&lt;<span class="number">0</span>&gt;(student_tuple);</span><br><span class="line">    <span class="type">int</span> age_of_student = std::<span class="built_in">get</span>&lt;<span class="number">1</span>&gt;(student_tuple);</span><br><span class="line">    <span class="type">double</span> grade_of_student = std::<span class="built_in">get</span>&lt;<span class="number">2</span>&gt;(student_tuple);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;name : &quot;</span> &lt;&lt; name_from_student &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;age  : &quot;</span> &lt;&lt; age_of_student    &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;grade: &quot;</span> &lt;&lt; grade_of_student  &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªåŠ¨è¡¥å…¨èƒŒåçš„ç®—æ³•-å­—å…¸æ ‘"><a href="#è‡ªåŠ¨è¡¥å…¨èƒŒåçš„ç®—æ³•-å­—å…¸æ ‘" class="headerlink" title="è‡ªåŠ¨è¡¥å…¨èƒŒåçš„ç®—æ³•(å­—å…¸æ ‘)"></a>è‡ªåŠ¨è¡¥å…¨èƒŒåçš„ç®—æ³•(å­—å…¸æ ‘)</h3><p><a href="https://mp.weixin.qq.com/s/L42BCgw-WczbWsiY9C0MeA">Link</a></p>
<p>Trieæ ‘ï¼ˆåˆç§°å‰ç¼€æ ‘æˆ–å­—å…¸æ ‘ï¼‰æ˜¯ä¸€ç§ç”¨äºå¿«é€Ÿæ£€ç´¢å­—ç¬¦ä¸²æ•°æ®é›†ä¸­çš„é”®çš„æ ‘å½¢æ•°æ®ç»“æ„ã€‚è¿™ç§ç»“æ„éå¸¸é€‚åˆå¤„ç†å­—ç¬¦ä¸²é›†åˆï¼Œç‰¹åˆ«æ˜¯å®ç°è‡ªåŠ¨è¡¥å…¨æˆ–æ‹¼å†™æ£€æŸ¥ç­‰åŠŸèƒ½ã€‚ä¸‹é¢ï¼Œæˆ‘å°†é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ä¾‹å­æ¥è§£é‡ŠTrieæ ‘çš„ç»“æ„å’Œå·¥ä½œåŸç†ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªTrieæ ‘ï¼Œæˆ‘ä»¬è¦åœ¨å…¶ä¸­å­˜å‚¨å•è¯â€œCATâ€ï¼Œâ€œCANâ€ï¼Œå’Œâ€œBATâ€ã€‚Trieæ ‘çš„ç»“æ„å°†å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">      Root</span><br><span class="line">     /    \</span><br><span class="line">    B      C</span><br><span class="line">    |      |</span><br><span class="line">    A      A</span><br><span class="line">   / \    / \</span><br><span class="line">  T   *  T   N</span><br><span class="line"> /         /</span><br><span class="line">*         *  </span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ªå›¾å½¢åŒ–è¡¨ç¤ºä¸­ï¼š</p>
<ul>
<li>æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚</li>
<li>æ ¹èŠ‚ç‚¹ï¼ˆRootï¼‰ä¸åŒ…å«å­—ç¬¦ï¼Œå®ƒæ˜¯æ‰€æœ‰å•è¯çš„èµ·å§‹ç‚¹ã€‚</li>
<li>æ¯æ¡ä»æ ¹èŠ‚ç‚¹åˆ°æŸä¸ªæ ‡è®°ä¸ºâ€œ<em>â€çš„èŠ‚ç‚¹çš„è·¯å¾„ä»£è¡¨ä¸€ä¸ªå•è¯ã€‚ä¾‹å¦‚ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°ç¬¬ä¸€ä¸ªâ€œ</em>â€çš„è·¯å¾„æ˜¯â€œBATâ€ã€‚</li>
<li>åˆ†æ”¯è¡¨ç¤ºå•è¯çš„ä¸åŒå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œBATâ€å’Œâ€œCATâ€å…±äº«ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œä½†ç¬¬äºŒä¸ªå­—ç¬¦ä¸åŒï¼Œå› æ­¤åœ¨ç¬¬äºŒå±‚åˆ†å¼€ã€‚</li>
</ul>
<p>ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬è¦æ·»åŠ å¦ä¸€ä¸ªå•è¯æ¯”å¦‚â€œCARâ€ï¼ŒTrieæ ‘å°†ä¼šæ›´æ–°ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">      Root</span><br><span class="line">     /    \</span><br><span class="line">    B      C</span><br><span class="line">    |      |</span><br><span class="line">    A      A</span><br><span class="line">   / \    / \</span><br><span class="line">  T   *  T   R</span><br><span class="line"> /       /   |</span><br><span class="line">*       *    *</span><br><span class="line">             |</span><br><span class="line">             *  </span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ªæ–°çš„ç»“æ„ä¸­ï¼Œâ€œCATâ€å’Œâ€œCARâ€å…±äº«å‰ä¸¤ä¸ªå­—ç¬¦â€œCAâ€ï¼Œä½†ç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸åŒï¼Œåœ¨â€œCARâ€ä¸­ä¸ºâ€œRâ€ï¼Œå› æ­¤åœ¨ç¬¬ä¸‰å±‚åˆ†å‰ã€‚</p>
<p><strong>æ“ä½œè¯´æ˜</strong></p>
<ol>
<li><strong>æ’å…¥</strong>ï¼šå½“æ’å…¥ä¸€ä¸ªæ–°å•è¯æ—¶ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸ºå•è¯çš„æ¯ä¸ªå­—ç¬¦åˆ›å»ºä¸€ä¸ªæ–°çš„å­èŠ‚ç‚¹ï¼ˆé™¤éè¯¥å­—ç¬¦å·²ç»å­˜åœ¨ï¼‰ã€‚åˆ°è¾¾å•è¯çš„æœ€åä¸€ä¸ªå­—ç¬¦æ—¶ï¼Œæ ‡è®°è¿™ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªå•è¯çš„ç»“æŸã€‚</li>
<li><strong>æœç´¢</strong>ï¼šä¸ºäº†æŸ¥æ‰¾ä¸€ä¸ªå•è¯ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ç€å•è¯çš„å­—ç¬¦ç§»åŠ¨ã€‚å¦‚æœèƒ½å¤Ÿåœ¨æ¯ä¸€æ­¥éƒ½æ‰¾åˆ°ç›¸åº”çš„å­—ç¬¦ï¼Œå¹¶ä¸”æœ€åä¸€ä¸ªå­—ç¬¦è¢«æ ‡è®°ä¸ºä¸€ä¸ªå•è¯çš„ç»“å°¾ï¼Œé‚£ä¹ˆè¯¥å•è¯å­˜åœ¨äºTrieæ ‘ä¸­ã€‚</li>
<li><strong>å‰ç¼€æœç´¢</strong>ï¼šå‰ç¼€æœç´¢ä¸å…¨è¯æœç´¢ç±»ä¼¼ï¼Œä½†ä¸éœ€è¦æœ€åä¸€ä¸ªå­—ç¬¦è¢«æ ‡è®°ä¸ºå•è¯çš„ç»“å°¾ã€‚å¦‚æœèƒ½å¤Ÿé¡ºç€å‰ç¼€çš„å­—ç¬¦åœ¨æ ‘ä¸­ç§»åŠ¨åˆ°æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆè¿™ä¸ªå‰ç¼€å­˜åœ¨äºæ ‘ä¸­ã€‚</li>
</ol>
<p>Trieæ ‘åœ¨å¤„ç†å¤§é‡å­—ç¬¦ä¸²ï¼Œå°¤å…¶æ˜¯è¿›è¡Œå¿«é€Ÿå‰ç¼€æŸ¥æ‰¾å’Œè¯æ±‡è‡ªåŠ¨è¡¥å…¨æ—¶éå¸¸æœ‰æ•ˆã€‚ç”±äºå®ƒåŸºäºå…±äº«å‰ç¼€æ¥å­˜å‚¨å•è¯ï¼Œå› æ­¤ç›¸æ¯”äºå…¶ä»–æ•°æ®ç»“æ„ï¼Œå®ƒåœ¨ç©ºé—´æ•ˆç‡ä¸Šé€šå¸¸æ›´ä¼˜ã€‚</p>
<p><strong>TrieNode è®¾è®¡</strong></p>
<p><code>TrieNode</code> ç”¨äºè¡¨ç¤ºTrieæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ã€‚æ¥ä¸‹æ¥è¯¦ç»†è§£é‡Šè¿™ä¸ªä»£ç ç‰‡æ®µï¼ŒåŒ…æ‹¬<code>TrieNode</code>çš„è®¾è®¡ä»¥åŠæ¯ä¸ªæˆå‘˜çš„ä½œç”¨ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">trie_node</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">bool</span> is_end_of_word;</span><br><span class="line">        std::unordered_map&lt;<span class="type">char</span> , trie_node*&gt; children;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">trie_node</span>(): <span class="built_in">is_end_of_word</span>(<span class="literal">false</span>)&#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol>
<li><code>bool isEndOfWord;</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå¸ƒå°”å‹æˆå‘˜å˜é‡ï¼Œç”¨äºæ ‡è®°å½“å‰èŠ‚ç‚¹æ˜¯å¦ä»£è¡¨ä¸€ä¸ªå•è¯çš„ç»“æŸã€‚å¦‚æœ<code>isEndOfWord</code>ä¸º<code>true</code>ï¼Œåˆ™è¡¨ç¤ºä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„æ„æˆä¸€ä¸ªå®Œæ•´çš„å•è¯ã€‚</li>
<li><code>unordered_map&lt;char, TrieNode*&gt; children;</code>ï¼šè¿™æ˜¯ä¸€ä¸ªæ— åºæ˜ å°„ï¼ˆ<code>unordered_map</code>ï¼‰ï¼Œç”¨äºå­˜å‚¨å½“å‰èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚Trieæ ‘çš„ä¸€ä¸ªå…³é”®ç‰¹æ€§æ˜¯æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªå­èŠ‚ç‚¹ï¼Œæ¯ä¸ªå­èŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªå­—ç¬¦ã€‚è¿™ä¸ª<code>unordered_map</code>å…è®¸æˆ‘ä»¬å°†å­—ç¬¦æ˜ å°„åˆ°ç›¸åº”çš„å­èŠ‚ç‚¹ã€‚</li>
<li><code>TrieNode() : isEndOfWord(false) &#123;&#125;</code>ï¼šè¿™æ˜¯<code>TrieNode</code>ç±»çš„æ„é€ å‡½æ•°ã€‚æ„é€ å‡½æ•°ç”¨äºåˆå§‹åŒ–æ–°åˆ›å»ºçš„<code>TrieNode</code>å¯¹è±¡ã€‚åœ¨è¿™é‡Œï¼Œæ„é€ å‡½æ•°å°†<code>isEndOfWord</code>åˆå§‹åŒ–ä¸º<code>false</code>ï¼Œè¡¨ç¤ºèŠ‚ç‚¹é»˜è®¤ä¸æ˜¯å•è¯çš„ç»“æŸã€‚</li>
</ol>
<p>ç°åœ¨è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç¤ºä¾‹æ¥è§£é‡Šå¦‚ä½•ä½¿ç”¨è¿™ä¸ª<code>TrieNode</code>ç±»æ¥æ„å»ºTrieæ ‘ï¼š</p>
<p>å‡è®¾æˆ‘ä»¬è¦åœ¨Trieæ ‘ä¸­æ’å…¥å•è¯â€CATâ€ï¼Œé¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ ¹èŠ‚ç‚¹ã€‚ç„¶åï¼Œæˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œåœ¨æ¯ä¸ªå­—ç¬¦ä½ç½®ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„<code>TrieNode</code>å¯¹è±¡ï¼Œå°†<code>isEndOfWord</code>è®¾ç½®ä¸º<code>false</code>ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å­—ç¬¦æ˜ å°„åˆ°ç›¸åº”çš„å­èŠ‚ç‚¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<ol>
<li>åˆ›å»ºæ ¹èŠ‚ç‚¹ï¼Œ<code>isEndOfWord</code>ä¸º<code>false</code>ã€‚</li>
<li>åœ¨æ ¹èŠ‚ç‚¹ä¸‹åˆ›å»ºå­—ç¬¦â€™Câ€™å¯¹åº”çš„å­èŠ‚ç‚¹ï¼Œ<code>isEndOfWord</code>ä¸º<code>false</code>ã€‚</li>
<li>åœ¨å­—ç¬¦â€™Câ€™å¯¹åº”çš„å­èŠ‚ç‚¹ä¸‹åˆ›å»ºå­—ç¬¦â€™Aâ€™å¯¹åº”çš„å­èŠ‚ç‚¹ï¼Œ<code>isEndOfWord</code>ä¸º<code>false</code>ã€‚</li>
<li>åœ¨å­—ç¬¦â€™Aâ€™å¯¹åº”çš„å­èŠ‚ç‚¹ä¸‹åˆ›å»ºå­—ç¬¦â€™Tâ€™å¯¹åº”çš„å­èŠ‚ç‚¹ï¼Œ<code>isEndOfWord</code>ä¸º<code>true</code>ï¼Œå› ä¸ºâ€CATâ€çš„æœ€åä¸€ä¸ªå­—ç¬¦è¡¨ç¤ºå•è¯çš„ç»“æŸã€‚</li>
</ol>
<p>è¿™å°±æ˜¯å¦‚ä½•ä½¿ç”¨<code>TrieNode</code>ç±»æ¥æ„å»ºTrieæ ‘çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸ªç±»çš„è®¾è®¡å…è®¸æˆ‘ä»¬è½»æ¾åœ°åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šé™„åŠ å­—ç¬¦å’Œæ ‡è®°å•è¯çš„ç»“æŸã€‚éšç€æ’å…¥æ›´å¤šçš„å•è¯ï¼ŒTrieæ ‘çš„ç»“æ„ä¼šä¸æ–­æ‰©å±•ã€‚</p>
<p><strong>å®Œæ•´ä»£ç </strong></p>
<p>è¿™æ®µä»£ç å®ç°äº†ä¸€ä¸ªç§°ä¸ºâ€œTrieâ€ï¼ˆä¹Ÿè¢«ç§°ä¸ºå‰ç¼€æ ‘æˆ–å­—å…¸æ ‘ï¼‰çš„æ•°æ®ç»“æ„:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">trie_node</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">bool</span> is_end_of_word;</span><br><span class="line">        std::unordered_map&lt;<span class="type">char</span> , trie_node*&gt; children;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">trie_node</span>(): <span class="built_in">is_end_of_word</span>(<span class="literal">false</span>)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">trie</span>&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        trie_node* root;</span><br><span class="line">        <span class="comment">//Recursively cleans up memory</span></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">clear_memory</span><span class="params">(trie_node* node)</span></span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> pair : node-&gt;children)</span><br><span class="line">                <span class="built_in">clear_memory</span>(pair.second);</span><br><span class="line">            <span class="keyword">delete</span> node;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">trie</span>()&#123;</span><br><span class="line">            root = <span class="keyword">new</span> trie_node;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(std::string word)</span></span>&#123;</span><br><span class="line">            trie_node* current = root;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">char</span> ch : word)&#123;</span><br><span class="line">                <span class="keyword">if</span>(current-&gt;children.<span class="built_in">find</span>(ch) == current-&gt;children.<span class="built_in">end</span>())&#123;</span><br><span class="line">                    current-&gt;children[ch] = <span class="keyword">new</span> trie_node;</span><br><span class="line">                &#125;</span><br><span class="line">                current = current-&gt;children[ch];</span><br><span class="line">            &#125;</span><br><span class="line">            current-&gt;is_end_of_word = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//search whether word is in trie tree or not</span></span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">search</span><span class="params">(std::string word)</span></span>&#123;</span><br><span class="line">            trie_node* current = root;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">char</span> ch : word)&#123;</span><br><span class="line">                <span class="keyword">if</span>(current-&gt;children.<span class="built_in">find</span>(ch) == current-&gt;children.<span class="built_in">end</span>())</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                current = current-&gt;children[ch]; </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> current != <span class="literal">nullptr</span> &amp;&amp; current-&gt;is_end_of_word;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//search whether prefix is the prefix of the word in trie tree or not</span></span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">start_with</span><span class="params">(std::string prefix)</span></span>&#123;</span><br><span class="line">            trie_node* current = root;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">char</span> ch : prefix)&#123;</span><br><span class="line">                <span class="keyword">if</span>(current-&gt;children.<span class="built_in">find</span>(ch) == current-&gt;children.<span class="built_in">end</span>())&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                current = current-&gt;children[ch];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        ~<span class="built_in">trie</span>()&#123;</span><br><span class="line">            <span class="built_in">clear_memory</span>(root);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    trie trie_tree;</span><br><span class="line">    trie_tree.<span class="built_in">insert</span>(<span class="string">&quot;nudt&quot;</span>);</span><br><span class="line">    trie_tree.<span class="built_in">insert</span>(<span class="string">&quot;hust&quot;</span>);</span><br><span class="line">    std::cout &lt;&lt; trie_tree.<span class="built_in">search</span>(<span class="string">&quot;hust&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; trie_tree.<span class="built_in">start_with</span>(<span class="string">&quot;nud&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="c-Pythonè°ƒç”¨shellå‘½ä»¤"><a href="#c-Pythonè°ƒç”¨shellå‘½ä»¤" class="headerlink" title="c++&#x2F;Pythonè°ƒç”¨shellå‘½ä»¤"></a>c++&#x2F;Pythonè°ƒç”¨shellå‘½ä»¤</h3><p><a href="https://mp.weixin.qq.com/s/ahXrzTlIJcQGW_ONPvRgJQ">å‚è€ƒé“¾æ¥</a><br><code>C++</code>è°ƒç”¨<code>shell</code>å‘½ä»¤:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* command = <span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="type">char</span>)*<span class="number">100</span>);</span><br><span class="line">	<span class="built_in">snprintf</span>(command , <span class="number">100</span> , <span class="string">&quot;sed -i &#x27;13c `define M_c %d&#x27; ../sim/testbench/mau_sau_tb_fp64.sv&quot;</span> , max_row);</span><br><span class="line">	<span class="built_in">system</span>(command);</span><br><span class="line">	<span class="built_in">free</span>(command);</span><br></pre></td></tr></table></figure>

<p><code>python</code>è°ƒç”¨<code>shell</code>å‘½ä»¤</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">os.system(<span class="string">&quot;echo &#x27;hello world&#x27;&quot;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="éå†æ•°ç»„çš„èƒŒå"><a href="#éå†æ•°ç»„çš„èƒŒå" class="headerlink" title="éå†æ•°ç»„çš„èƒŒå"></a>éå†æ•°ç»„çš„èƒŒå</h3><p><a href="https://mp.weixin.qq.com/s/36ouxHNRoX4ZZJ4dxmkjeg">æ•°ç»„æœ‰åºä¸å¦å¯¹éå†çš„å½±å“</a></p>
<p><a href="https://mp.weixin.qq.com/s/Mm8PqPM1vULK9Yr8tOnOgg">æ•°ç»„æŒ‰è¡Œä¸æŒ‰åˆ—éå†çš„å·®è·</a> </p>
<p>ä¸Šé¢è¿™ç¯‡æ–‡ç« å†™å¾—å¾ˆè¯¦ç»†äº†ï¼Œä»¥ä¸‹æ˜¯æ€»ç»“ä¸ä»£ç å®ç°ã€‚</p>
<ul>
<li>æ•°ç»„æœ‰åºä¸å¦å½±å“çš„æ˜¯CPUçš„åŠ¨æ€é¢„æµ‹ï¼Œæœ‰åºçš„æ•°ç»„åŠ¨æ€é¢„æµ‹å‡†ç¡®åº¦å¾ˆé«˜ã€‚</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SIZE 1e8</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">calc</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt; &amp;q)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">int</span> a = <span class="number">0</span> , b = <span class="number">0</span> , len = q.<span class="built_in">size</span>() ;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; len ; i++)&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="keyword">if</span>(q[i] &lt; <span class="number">500</span>) Â a++ ;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="keyword">else</span> b++ ;</span><br><span class="line"></span><br><span class="line">Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="keyword">return</span> a - b ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">Â  Â std::vector&lt;<span class="type">int</span>&gt; q ;</span><br><span class="line"></span><br><span class="line">Â  Â <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; SIZE ; i++)&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  q.<span class="built_in">push_back</span>(<span class="built_in">rand</span>() % <span class="number">1000</span>) ; <span class="comment">//æ— åºæ•°ç»„</span></span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="comment">// q.push_back(i) ; //æœ‰åºæ•°ç»„</span></span><br><span class="line"></span><br><span class="line">Â  Â &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">clock_t</span> start = <span class="built_in">clock</span>() ;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="built_in">calc</span>(q) ;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">clock_t</span> end = <span class="built_in">clock</span>() ; Â  Â </span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">double</span> cost = (<span class="type">double</span>) (end - start) / CLOCKS_PER_SEC ;</span><br><span class="line"></span><br><span class="line">Â  Â  std::<span class="built_in">printf</span>(<span class="string">&quot;Time cost : %.3fs\n&quot;</span> , cost) ;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="comment">//After sort</span></span><br><span class="line"></span><br><span class="line">Â  Â  std::<span class="built_in">sort</span>(q.<span class="built_in">begin</span>() , q.<span class="built_in">end</span>() ) ;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">clock_t</span> start1 = <span class="built_in">clock</span>() ;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="built_in">calc</span>(q) ;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">clock_t</span> end1 = <span class="built_in">clock</span>() ; Â  Â </span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">double</span> cost1 = (<span class="type">double</span>) (end1 - start1) / CLOCKS_PER_SEC ;</span><br><span class="line"></span><br><span class="line">Â  Â  std::<span class="built_in">printf</span>(<span class="string">&quot;Time cost after sort : %.3fs\n&quot;</span> , cost1) ;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Time cost : 0.570s<br>Time cost after sort : 0.129s</p>
</blockquote>
<h3 id="ä¼ å‚å°½é‡ä¼ å¼•ç”¨"><a href="#ä¼ å‚å°½é‡ä¼ å¼•ç”¨" class="headerlink" title="ä¼ å‚å°½é‡ä¼ å¼•ç”¨"></a>ä¼ å‚å°½é‡ä¼ å¼•ç”¨</h3><p>ä¼ å‚ç”¨å¼•ç”¨ï¼</p>
<ul>
<li>å¦‚æœæˆ‘ä»¬ç”¨ä»¥ä¸‹æ–¹å¼ä¼ å‚</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; M)</span></span></span><br></pre></td></tr></table></figure>

<p>å­å‡½æ•°ä¸­å°±ä¼šåˆå§‹åŒ–ä¸€ä¸ªå˜é‡<code>M</code>ï¼Œå¹¶å°†å½¢å‚<code>M</code>å¤åˆ¶ä¸€ä»½ç»™æ–°çš„<code>M</code> , è¿™æ ·ä¼šæŸå¤±æ€§èƒ½ã€‚</p>
<p><strong>ä¼ å¼•ç”¨çš„æœ¬è´¨å°±æ˜¯ä¼ åœ°å€</strong> ï¼Œ è¿™æ ·å¯ä»¥é¿å…å¤åˆ¶</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;M)</span></span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœè€ƒè™‘åˆ°ä¸ºé˜²æ­¢åœ¨<code>func</code>ä¸­è¯¯æ“ä½œä¿®æ”¹äº†ä¸»å‡½æ•°çš„<code>M</code> ï¼Œ å¯ä»¥è¿™æ ·ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">const</span> vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;M)</span></span></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·åœ¨<code>func</code>çš„ä½œç”¨åŸŸä¸­ï¼ŒMä¾¿ä¸å¯ä¿®æ”¹ï¼Œä¸ä¼šå½±å“ä¸»å‡½æ•°ä¸­çš„<code>M</code> .</p>
<ul>
<li>å®ä¾‹</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> vector&lt;<span class="type">int</span>&gt; vi ;</span><br><span class="line"><span class="keyword">typedef</span> vector&lt;<span class="type">float</span>&gt; vf ;</span><br><span class="line"><span class="keyword">typedef</span> vector&lt;vf&gt; matrix ;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">encode_CS45D</span><span class="params">(<span class="type">const</span> matrix &amp;M , vf &amp;val , vi &amp;nr , vi &amp;ptr , vi &amp;idx)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> m = M.<span class="built_in">size</span>() , n = M[<span class="number">0</span>].<span class="built_in">size</span>() ;</span><br><span class="line">    <span class="type">int</span> NNZ = <span class="number">0</span> , <span class="type">nr_t</span> = <span class="number">-1</span> , t = <span class="number">0</span> ;</span><br><span class="line">    <span class="comment">//NNZ : numble of zeros in each slash</span></span><br><span class="line">    <span class="comment">//nr_t : nr_temp</span></span><br><span class="line">    <span class="comment">//t indicate whenther there are all zeros in the slash</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> , j = <span class="number">0</span> ; i &lt; m ; i++)&#123;</span><br><span class="line">        t = <span class="number">0</span> , <span class="type">nr_t</span>++ ;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = i , l = <span class="number">0</span> ; (l &lt; n &amp;&amp; k &gt;= <span class="number">0</span>) ; k-- , l++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(M[k][l] != <span class="number">0</span>)&#123;</span><br><span class="line">                val.<span class="built_in">push_back</span>(M[k][l]) ;</span><br><span class="line">                idx.<span class="built_in">push_back</span>(l) ;</span><br><span class="line">                NNZ++ , t = <span class="number">1</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(t)   nr.<span class="built_in">push_back</span>(<span class="type">nr_t</span>) ;</span><br><span class="line">        <span class="keyword">if</span>(NNZ != ptr.<span class="built_in">back</span>())   ptr.<span class="built_in">push_back</span>(NNZ) ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = m <span class="number">-1</span> , j = <span class="number">1</span> ; j &lt; n ; j++)&#123;</span><br><span class="line">        t = <span class="number">0</span> , <span class="type">nr_t</span>++ ;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = i , l = j ; l &lt; n ; l++ , k--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(M[k][l] != <span class="number">0</span>)&#123;</span><br><span class="line">                val.<span class="built_in">push_back</span>(M[k][l]) ;</span><br><span class="line">                idx.<span class="built_in">push_back</span>(l) ;</span><br><span class="line">                NNZ++ , t = <span class="number">1</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(t)   nr.<span class="built_in">push_back</span>(<span class="type">nr_t</span>) ;</span><br><span class="line">        <span class="keyword">if</span>(NNZ != ptr.<span class="built_in">back</span>())   ptr.<span class="built_in">push_back</span>(NNZ) ;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåœ¨ä¼ å‚ä¸­ï¼ŒMçš„ä¼ å‚æ–¹å¼æ˜¯<code>matrix M</code> , åœ¨<code>Gdb</code>è°ƒè¯•ä¸­ï¼Œæ— æ³•<code>step</code>è¿›<code>encode_CS45D</code>è¿™ä¸ªå‡½æ•°ï¼Œè€Œæ˜¯ä¼šè¿›å…¥<code>M</code>çš„<strong>æ‹·è´å­ç¨‹åº</strong>ä¸­(æœªçŸ¥ï¼Œè¾ƒä¸ºåº•å±‚)</p>
<h3 id="C-æµ‹æ—¶æ¨¡æ¿"><a href="#C-æµ‹æ—¶æ¨¡æ¿" class="headerlink" title="C++æµ‹æ—¶æ¨¡æ¿"></a>C++æµ‹æ—¶æ¨¡æ¿</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> std::chrono::high_resolution_clock Clock;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> start = Clock::<span class="built_in">now</span>();</span><br><span class="line">    <span class="comment">//your test program</span></span><br><span class="line">    <span class="keyword">auto</span> end = Clock::<span class="built_in">now</span>();</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Time taken: &quot;</span></span><br><span class="line">		&lt;&lt; std::chrono::<span class="built_in">duration_cast</span>&lt;std::chrono::nanoseconds&gt;(end - start).<span class="built_in">count</span>()</span><br><span class="line">		&lt;&lt; <span class="string">&quot; nanoseconds&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="comment">//å…¶ä»–æ—¶é—´å•ä½ï¼šstd::chrono::seconds, std::chrono::milliseconds,</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å»<a href="https://ideone.com/">https://ideone.com/</a> (geeks for geeksåŒæ¬¾)è¿è¡Œç¨‹åºï¼Œæ’é™¤æœºå™¨å˜é‡å¹²æ‰°ã€‚</p>
<h3 id="RAII-and-smart-pointers"><a href="#RAII-and-smart-pointers" class="headerlink" title="RAII and smart pointers"></a>RAII and smart pointers</h3><p><a href="https://stackoverflow.com/questions/2321511/what-is-meant-by-resource-acquisition-is-initialization-raii">reference1</a></p>
<p><a href="https://www.geeksforgeeks.org/smart-pointers-cpp/">reference2</a></p>
<p><code>RAII</code>å³<code>Resource Acquisition is Initialization</code> , ä¸­æ–‡ç¿»è¯‘å«<code>èµ„æºè·å–å³åˆå§‹åŒ–</code> .å…¶å®è¿™ç§å«æ³•å¾ˆå®¹æ˜“è®©äººç–‘æƒ‘ï¼Œæ‘˜ä¸€ä¸ªstackoverflowä¸Šçš„å›ç­”:</p>
<blockquote>
<p>Itâ€™s a really terrible name for an incredibly powerful concept, and perhaps one of the number 1 things that C++ developers miss when they switch to other languages. There has been a bit of a movement to try to rename this concept as <strong>Scope-Bound Resource Management</strong>, though it doesnâ€™t seem to have caught on just yet.</p>
</blockquote>
<p>å«<code>Scope-Bound Resource Management</code>å¯èƒ½æ›´åˆé€‚ã€‚(å³èŒƒå›´é™åˆ¶èµ„æºç®¡ç†)</p>
<blockquote>
<p>When we say â€˜Resourceâ€™ we donâ€™t just mean memory - it could be file handles, network sockets, database handles, GDI objectsâ€¦ In short, things that we have a finite supply of and so we need to be able to control their usage. The â€˜Scope-boundâ€™ aspect means that the lifetime of the object is bound to the scope of a variable, so when the variable goes out of scope then the destructor will release the resource. A very useful property of this is that it makes for greater exception-safety. For instance, compare this:</p>
</blockquote>
<p>èµ„æºçš„ä½¿ç”¨ä¸€èˆ¬ç»å†ä¸‰ä¸ªæ­¥éª¤a.è·å–èµ„æº b.ä½¿ç”¨èµ„æº c.é”€æ¯èµ„æºï¼Œä½†æ˜¯èµ„æºçš„é”€æ¯å¾€å¾€æ˜¯ç¨‹åºå‘˜ç»å¸¸å¿˜è®°çš„ä¸€ä¸ªç¯èŠ‚ï¼Œæ‰€ä»¥ç¨‹åºç•Œå°±æƒ³å¦‚ä½•åœ¨ç¨‹åºå‘˜ä¸­è®©èµ„æºè‡ªåŠ¨é”€æ¯å‘¢ï¼Ÿc++ä¹‹çˆ¶ç»™å‡ºäº†è§£å†³é—®é¢˜çš„æ–¹æ¡ˆï¼šRAIIï¼Œå®ƒå……åˆ†çš„åˆ©ç”¨äº†C++è¯­è¨€å±€éƒ¨å¯¹è±¡è‡ªåŠ¨é”€æ¯çš„ç‰¹æ€§æ¥æ§åˆ¶èµ„æºçš„ç”Ÿå‘½å‘¨æœŸã€‚<code>RAII</code>å°±æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œè·å–èµ„æº(ä¾‹å¦‚å£°æ˜æŒ‡é’ˆ,æ‰“å¼€æ–‡ä»¶)å¿…é¡»åœ¨ä¸€ä¸ªèŒƒå›´(ç”Ÿå‘½å‘¨æœŸ)å†…ï¼Œç¦»å¼€èŒƒå›´(ç”Ÿå‘½å‘¨æœŸ)åéœ€è¦é‡Šæ”¾èµ„æºã€‚</p>
<p>ä¸¾ä¸€ä¸ªä¾‹å­(è™½ç„¶å¾ˆç”Ÿç¡¬):</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;random&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span>* array = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">100</span> ; i++)</span><br><span class="line">        array[i] = <span class="built_in">rand</span>();</span><br><span class="line">    <span class="comment">//use the numbers in array to do something.....</span></span><br><span class="line">    <span class="comment">//forget to delete array: delete[] array;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">1e6</span> ; i++)</span><br><span class="line">        <span class="built_in">fun</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šç¨‹åºå¯èƒ½ä¼šå‘ç”Ÿå†…å­˜æ³„éœ²ï¼ŒåŸå› æ˜¯<code>fun()</code>å†…çš„æŒ‡é’ˆ<code>array</code>æ²¡æœ‰è¢«é‡Šæ”¾ï¼Œåº”è¯¥åœ¨<code>fun()</code>æœ€ååŠ ä¸€å¥<code>delete array;</code></p>
<p>å®é™…ä¸Šï¼Œå¿˜è®°é‡Šæ”¾èµ„æºçš„äº‹åœ¨å¤§è§„æ¨¡ç¨‹åºä¸­ç»å¸¸å‘ç”Ÿ(åœ¨ä¸€äº›è°ƒç”¨è¿‡ç¨‹ä¸­ç”šè‡³éƒ½æ„è¯†ä¸åˆ°)ã€‚å¦‚ä½•å»é¿å…è¿™ç§æƒ…å†µï¼Œä¸€ç§ä¾¿æ˜¯å¦‚å±¥è–„å†°ï¼Œæ¯æ¬¡ç”³è¯·èµ„æºæ—¶ä¾¿é…å¥—é‡Šæ”¾èµ„æº;ä¸€ç§åˆ™æ˜¯è®©èµ„æºè‡ªåŠ¨é‡Šæ”¾ï¼Œå³èµ„æºå‡ºäº†ç”Ÿå‘½å‘¨æœŸåä¾¿è‡ªåŠ¨é‡Šæ”¾ã€‚</p>
<p>è¿™ç§æƒ…æ™¯å°±ç±»ä¼¼äºç±»çš„ææ„å‡½æ•°äº†ï¼Œå› æ­¤<code>RAII</code>çš„å®ç°ç»å¸¸æ˜¯å€ŸåŠ©ç±»å®Œæˆçš„ï¼Œå³æ„å»ºä¸€ä¸ªèµ„æºç±»ï¼Œç¦»å¼€ç”Ÿå‘½å‘¨æœŸåä¼šè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°é‡Šæ”¾èµ„æºã€‚ç”¨<code>RAII</code>æ€æƒ³å»é‡å†™ä»¥ä¸Šä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;random&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span>* array = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">100</span> ; i++)</span><br><span class="line">        array[i] = <span class="built_in">rand</span>();</span><br><span class="line">    <span class="comment">//use the numbers in array to do something.....</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">array</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">int</span>* array_;</span><br><span class="line">        <span class="built_in">array</span>()&#123;</span><br><span class="line">            array_ = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">100</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">100</span> ; i++)</span><br><span class="line">                array_[i] = <span class="built_in">rand</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="comment">//use array_ do something</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ~<span class="built_in">array</span>()&#123;</span><br><span class="line">            <span class="keyword">if</span>(array_ != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">                <span class="keyword">delete</span>[] array_;</span><br><span class="line">                array_ = <span class="literal">nullptr</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">1e6</span> ; i++)&#123;</span><br><span class="line">        <span class="comment">//fun();//memory leak</span></span><br><span class="line">        array _array;</span><br><span class="line">        _array.<span class="built_in">fun</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>smart pointer</strong></p>
<p>c++11å¼•å…¥çš„æ™ºèƒ½æŒ‡é’ˆå°±æ˜¯<code>RAII</code>æ€æƒ³çš„æœ€å¥½ä½“ç°</p>
<p><code>shared_ptr</code>  <code>unique_ptr</code>  <code>weak_ptr</code></p>
<p>ä»¥ä¸Šç¤ºä¾‹å‡½æ•°<code>fun()</code>å¯ä»¥ç”¨æ™ºèƒ½æŒ‡é’ˆé‡å†™ä¸º:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> _fun()&#123;</span><br><span class="line">    <span class="function">std::shared_ptr&lt;<span class="type">int</span>&gt; <span class="title">arr</span><span class="params">(<span class="keyword">new</span> <span class="type">int</span>[<span class="number">100</span>])</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">100</span> ; i++)&#123;</span><br><span class="line">        arr.<span class="built_in">get</span>()[i] = <span class="built_in">rand</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//use arr to do something</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//delete arr automatically</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ™ºèƒ½æŒ‡é’ˆéœ€è¦ç”¨<code>.get()</code>å¾—åˆ°åŸæ¥çš„æŒ‡é’ˆ(retrieve the raw pointer stored within a <code>shared_ptr</code>)</li>
<li>æ™ºèƒ½æŒ‡é’ˆåŒ…å«åœ¨<code>&lt;memory&gt;</code>åº“ä¸­</li>
<li>åˆæ¬¡ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆæ—¶Vscodeè§£é‡Šå™¨å¯èƒ½ä¼šæ£€å‡ºé”™è¯¯ï¼Œå¯èƒ½æ˜¯Vscodeæ£€æŸ¥å™¨ç”¨çš„c++ç‰ˆæœ¬ä½äºc++11,å¯ä»¥é‡æ–°ç”Ÿæˆä¸€ä¸‹<code>c_cpp_properties.json</code>,æ£€æŸ¥å…¶ä¸­çš„<code>cppStandard</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">recangle</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">int</span> length , breadth;</span><br><span class="line">        <span class="built_in">recangle</span>(<span class="type">int</span> l , <span class="type">int</span> b): <span class="built_in">length</span>(l) , <span class="built_in">breadth</span>(b)&#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">area</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>-&gt;length * <span class="keyword">this</span>-&gt;breadth ;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">circle</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">int</span> radius;</span><br><span class="line">        <span class="built_in">circle</span>(<span class="type">int</span> r):<span class="built_in">radius</span>(r)&#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">area</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> <span class="number">3.14</span> * <span class="keyword">this</span>-&gt;radius * <span class="keyword">this</span>-&gt;radius;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function">std::shared_ptr&lt;recangle&gt; <span class="title">p1</span><span class="params">(<span class="keyword">new</span> recangle(<span class="number">6</span>,<span class="number">8</span>))</span></span>;</span><br><span class="line">    <span class="function">std::shared_ptr&lt;recangle&gt; <span class="title">p2</span><span class="params">(p1)</span></span>;</span><br><span class="line">    <span class="function">std::weak_ptr&lt;recangle&gt; <span class="title">p2_</span><span class="params">(p2)</span></span>;</span><br><span class="line">    std::cout &lt;&lt; p2-&gt;<span class="built_in">area</span>() &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; p2.<span class="built_in">use_count</span>() &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::unique_ptr&lt;recangle&gt; <span class="title">p3</span><span class="params">(<span class="keyword">new</span> recangle(<span class="number">10</span>,<span class="number">10</span>))</span></span>;</span><br><span class="line">    <span class="comment">// std::unique_ptr&lt;recangle&gt; p4 = p3;//error:include\c++\bits\unique_ptr.h&quot;) cannot be referenced</span></span><br><span class="line"></span><br><span class="line">    std::unique_ptr&lt;recangle&gt; p4 = <span class="built_in">move</span>(p3);</span><br><span class="line">    std::cout &lt;&lt; p4-&gt;<span class="built_in">area</span>() &lt;&lt; std::endl;</span><br><span class="line">    <span class="comment">// std::shared_ptr&lt;int&gt; p5 = move(p4);//error:no suitable user-defined conversion from &quot;std::unique_ptr&lt;recangle, std::default_delete&lt;recangle&gt;&gt;&quot; to &quot;std::shared_ptr&lt;int&gt;&quot; existsC/C++(312)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>unique_ptr</code>å£°æ˜çš„æŒ‡é’ˆç‹¬è‡ªå æœ‰ä¸€æ®µèµ„æºï¼Œä¸å…è®¸å…¶ä»–æŒ‡é’ˆæŒ‡å‘è¿™æ®µèµ„æº</li>
<li>ä¸èƒ½å°†<code>unique_ptr</code>çš„ä½¿ç”¨æƒè½¬äº¤ç»™<code>shared_ptr</code> , åªèƒ½è½¬ç»™<code>unique_ptr</code></li>
<li>èƒ½ç”¨<code>.use_count()</code>å¾—å‡ºèµ„æºè¢«æŒ‡å‘çš„æŒ‡é’ˆæ•°ï¼Œå³æœ‰å‡ æ ¹<code>shared_ptr</code>æŒ‡å‘è¯¥èµ„æº</li>
<li><code>weak_ptr</code>æå‡ºçš„åŸå› :</li>
</ul>
<blockquote>
<p>Weak_ptr is a smart pointer that holds a non-owning reference to an object. Itâ€™s much more similar to shared_ptr except itâ€™ll not maintain a <strong>Reference Counter</strong>. In this case, a pointer will not have a stronghold on the object. The reason is if suppose pointers are holding the object and requesting for other objects then they may form a <strong>Deadlock.</strong> </p>
</blockquote>
<p><code>weak_ptr</code>æŒ‡å‘èµ„æºè€Œä¸å ç”¨èµ„æºï¼Œä¸å¢åŠ <code>reference counter</code>   (<code>.use_count()</code>)</p>
<p>è¿™æ˜¯ä¸ºäº†é˜²æ­¢<code>shared_ptr</code>å‘ç”Ÿæ­»é”(<code>deadlock</code>)</p>
<p><strong>Deadlock</strong>:</p>
<blockquote>
<p>æ­»é”æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç”±äºç«äº‰èµ„æºæˆ–è€…ç”±äºå½¼æ­¤é€šä¿¡è€Œé€ æˆçš„ä¸€ç§é˜»å¡çš„ç°è±¡ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½å°†æ— æ³•æ¨è¿›ä¸‹å»ã€‚è¿™ç§æƒ…å†µåœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­å°¤ä¸ºå¸¸è§ï¼Œå½“ä¸¤ä¸ªæˆ–æ›´å¤šçš„çº¿ç¨‹<strong>äº’ç›¸ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æº</strong>æ—¶ï¼Œå°±å¯èƒ½å‘ç”Ÿæ­»é”ã€‚</p>
<p>åœ¨C++ä¸­ï¼Œshared_ptræ™ºèƒ½æŒ‡é’ˆå¯èƒ½ä¼šå¯¼è‡´æ­»é”ï¼Œç‰¹åˆ«æ˜¯å½“ä¸¤ä¸ªshared_ptrå¯¹è±¡äº’ç›¸å¼•ç”¨æ—¶ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªç±»Aå’ŒBï¼Œå®ƒä»¬äº’ç›¸æŒæœ‰<strong>å¯¹æ–¹çš„shared_ptr</strong>ï¼Œè¿™å°±å¯èƒ½å¯¼è‡´æ­»é”ã€‚å› ä¸ºæ¯ä¸ªshared_ptréƒ½åœ¨ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æºï¼Œä½†ç”±äºå®ƒä»¬éƒ½åœ¨ç­‰å¾…ï¼Œæ‰€ä»¥æ²¡æœ‰ä¸€ä¸ªshared_pträ¼šé‡Šæ”¾èµ„æºï¼Œä»è€Œå¯¼è‡´æ­»é”</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    shared_ptr&lt;B&gt; pb_;</span><br><span class="line">    <span class="comment">//åº”ä¿®æ”¹æˆ: weak_ptr&lt;B&gt; pb_;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    shared_ptr&lt;A&gt; pa_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">shared_ptr&lt;A&gt; <span class="title">pa</span><span class="params">(<span class="keyword">new</span> A())</span></span>;</span><br><span class="line">    <span class="function">shared_ptr&lt;B&gt; <span class="title">pb</span><span class="params">(<span class="keyword">new</span> B())</span></span>;</span><br><span class="line">    pa-&gt;pb_ = pb;</span><br><span class="line">    pb-&gt;pa_ = pa;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å­¦äº†<code>RAII</code>åï¼Œæƒ³ç€å»é‡æ„ä»¥å‰çš„é¡¹ç›®ï¼Œå°½é‡ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œä½†å‘ç°è¿˜æ˜¯ä¸èƒ½å®Œå…¨æ›¿ä»£:</p>
<ul>
<li>æ™ºèƒ½æŒ‡é’ˆä¸€æ—¦æŒ‡å‘äº†æŸå—èµ„æºï¼Œè¯¥æ™ºèƒ½æŒ‡é’ˆä¹Ÿæ— æ³•å†ä¿®æ”¹ã€‚è¿™æ„å‘³ç€ä¸èƒ½åƒè£¸æŒ‡é’ˆä¸€æ ·å¯ä¼ å…¥å‡½æ•°ã€è¿”å›å‚æ•°ã€‚ä¾‹å¦‚åœ¨å†™é“¾è¡¨æ—¶ç”¨æ™ºèƒ½æŒ‡é’ˆåè€Œä¼šæœ‰å¾ˆå¤šéº»çƒ¦ï¼Œå› ä¸ºä½ ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ™ºèƒ½æŒ‡é’ˆå°±æŠŠä½ çš„ç»“ç‚¹é‡Šæ”¾äº†:joy: åŸºäºæ­¤ï¼Œæ™ºèƒ½æŒ‡é’ˆ<strong>ä¸é€‚åˆä¼ å…¥å‡½æ•°ã€è¢«å‡½æ•°(æˆ–ç±»)åå¤è°ƒç”¨</strong>ï¼Œå› ä¸ºä½ ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ä»–ä¼šè¢«é‡Šæ”¾ã€‚</li>
<li>å°è¯•è¿‡åï¼Œä»ç„¶è§‰å¾—C++çš„æŒ‡é’ˆè¿˜æ˜¯æ¯”è¾ƒéš¾æ§åˆ¶çš„ã€‚æ‰€ä»¥å°½é‡å°‘ç”¨æŒ‡é’ˆ(å°½é‡ä¸ç”¨<code>new</code> )å§ï¼Œç”¨ä¸€äº›æˆç†Ÿçš„ç¬¦åˆ<code>RAII</code>è§„èŒƒçš„å®¹å™¨(<code>link</code>,<code>vecter</code>,<code>string</code>.et)ä¸é…å¥—çš„è¿­ä»£å™¨ä»£æ›¿.å¦‚æœå®åœ¨è¦ç”¨æŒ‡é’ˆï¼Œä¸€å®šæ…ä¹‹åˆæ…ã€‚:cry:  <strong>C++ä¸å–œæ¬¢èœé¸Ÿ</strong></li>
</ul>
<p>PS:å°è¯•ç”¨<code>list</code>å®ç°é“¾è¡¨(é€ é“¾è¡¨è½®å­æ˜¯å†…å­˜æ³„æ¼çš„é‡ç¾åŒº)</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">linked_list</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        list&lt;T&gt; L;</span><br><span class="line"></span><br><span class="line">        T <span class="keyword">operator</span>[] (<span class="type">int</span> idx)&#123;</span><br><span class="line">            <span class="keyword">auto</span> it = L.<span class="built_in">begin</span>();</span><br><span class="line">            <span class="built_in">advance</span>(it,idx);</span><br><span class="line">            <span class="keyword">return</span> *it;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> _insert(T elem , <span class="type">int</span> idx)&#123;</span><br><span class="line">            <span class="keyword">if</span>(idx &lt; <span class="number">0</span> || idx &gt; L.<span class="built_in">size</span>())&#123;cout &lt;&lt; <span class="string">&quot;please input a valid idx\n&quot;</span>; <span class="keyword">return</span> <span class="number">-1</span>;&#125;</span><br><span class="line">            <span class="keyword">auto</span> it = L.<span class="built_in">begin</span>();</span><br><span class="line">            <span class="built_in">advance</span>(it,idx);</span><br><span class="line">            L.<span class="built_in">insert</span>(it,elem);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">push_back</span><span class="params">(T elem)</span></span>&#123;</span><br><span class="line">            L.<span class="built_in">push_back</span>(elem);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">is_empty</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> !L.<span class="built_in">size</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">delete_elem</span><span class="params">(T elem)</span></span>&#123;</span><br><span class="line">            L.<span class="built_in">remove</span>(elem);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span></span>&#123;</span><br><span class="line">            L.<span class="built_in">clear</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> i : L)&#123;</span><br><span class="line">                cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    linked_list&lt;<span class="type">int</span>&gt; _L;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">30</span> ; ++i)&#123;</span><br><span class="line">        _L.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    _L._insert(<span class="number">666</span>,<span class="number">16</span>);</span><br><span class="line">    _L.<span class="built_in">delete_elem</span>(<span class="number">19</span>);</span><br><span class="line">    _L.<span class="built_in">show</span>();</span><br><span class="line">    cout &lt;&lt; _L[<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="Virtual-function-å¤šæ€"><a href="#Virtual-function-å¤šæ€" class="headerlink" title="Virtual function &amp; å¤šæ€"></a>Virtual function &amp; å¤šæ€</h3><p>è™šå‡½æ•°æ˜¯å®ç°ç±»å¤šæ€çš„ä¸€ç§æ–¹æ³•ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// C++ program to illustrate</span></span><br><span class="line"><span class="comment">// concept of Virtual Functions</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">base</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;print base class\n&quot;</span>; &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;show base class\n&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">derived</span> : <span class="keyword">public</span> base &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;print derived class\n&quot;</span>; &#125;<span class="comment">//å¯¹baseç±»ä¸­çš„printæ–¹æ³•è¿›è¡Œé‡è½½</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;show derived class\n&quot;</span>; &#125;<span class="comment">//baseä¸­show()æ–¹æ³•ä¸æ˜¯è™šå‡½æ•°ï¼Œæ— æ³•é‡è½½</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	base* bptr = <span class="keyword">new</span> derived;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Virtual function, binded at runtime</span></span><br><span class="line">	bptr-&gt;<span class="built_in">print</span>();<span class="comment">//print derived class\n</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// Non-virtual function, binded at compile time</span></span><br><span class="line">	bptr-&gt;<span class="built_in">show</span>();<span class="comment">//show base class\n</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ¯ä¸ªåŒ…å«è™šå‡½æ•°çš„ç±»éƒ½æœ‰ä¸€ä¸ªè™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰ï¼Œè¿™æ˜¯ä¸ºäº†æ”¯æŒè¿è¡Œæ—¶å¤šæ€ã€‚è™šå‡½æ•°è¡¨æ˜¯ä¸€ä¸ªæŒ‡å‘å‡½æ•°æŒ‡é’ˆçš„æ•°ç»„ï¼Œè¿™äº›å‡½æ•°æŒ‡é’ˆå¯¹åº”äºç±»ä¸­çš„æ¯ä¸ªè™šå‡½æ•°ã€‚é€šè¿‡è¿™ä¸ªæœºåˆ¶ï¼Œç¨‹åºå¯ä»¥åœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹æ¥è°ƒç”¨æ­£ç¡®çš„å‡½æ•°ã€‚</li>
<li><strong>VTable &amp; VPtr :</strong> <ol>
<li><strong>è™šæ‹Ÿå‡½æ•°è¡¨ï¼ˆVTableï¼‰</strong>ï¼šå½“ä¸€ä¸ªç±»ä¸­å£°æ˜äº†è™šå‡½æ•°ï¼ˆvirtual methodï¼‰ï¼Œç¼–è¯‘å™¨ä¼šä¸ºè¿™ä¸ªç±»åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿå‡½æ•°è¡¨ï¼ˆVTableï¼‰ã€‚è¿™ä¸ªè¡¨ä¸­å­˜å‚¨äº†ç±»ä¸­æ‰€æœ‰è™šå‡½æ•°çš„åœ°å€ã€‚</li>
<li><strong>è™šæ‹ŸæŒ‡é’ˆï¼ˆVPtrï¼‰</strong>ï¼šç¼–è¯‘å™¨è¿˜ä¼šä¸ºæ¯ä¸ªç±»å®ä¾‹åˆ›å»ºä¸€ä¸ªè™šæ‹ŸæŒ‡é’ˆï¼ˆVPtrï¼‰ï¼Œå¹¶å°†å…¶åˆå§‹åŒ–ä¸ºæŒ‡å‘è¯¥ç±»çš„VTableã€‚</li>
<li><strong>VTableçš„å…±äº«</strong>ï¼šä¸€ä¸ªç±»çš„VTableæ˜¯æ‰€æœ‰è¯¥ç±»å®ä¾‹å…±äº«çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç¼–è¯‘å™¨åªä¸ºè¿™ä¸ªç±»åˆ›å»ºä¸€ä¸ªVTableå®ä¾‹ï¼Œç„¶åæ‰€æœ‰è¯¥ç±»çš„å¯¹è±¡éƒ½å…±äº«è¿™ä¸ªVTableã€‚</li>
<li><strong>VPtrçš„ç‹¬ç«‹æ€§</strong>ï¼šå°½ç®¡VTableæ˜¯å…±äº«çš„ï¼Œä½†æ¯ä¸ªç±»å®ä¾‹éƒ½æœ‰è‡ªå·±çš„VPtrã€‚</li>
<li><strong>ç±»å¯¹è±¡å¤§å°</strong>ï¼šå¦‚æœä¸€ä¸ªç±»å¯¹è±¡è‡³å°‘åŒ…å«ä¸€ä¸ªè™šå‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡çš„å¤§å°å°†æ˜¯è¯¥ç±»æ•°æ®æˆå‘˜çš„å¤§å°åŠ ä¸ŠVPtrçš„å¤§å°ã€‚åœ¨C++ä¸­ï¼Œå¯ä»¥é€šè¿‡sizeofæ“ä½œç¬¦æ¥è·å–è¿™ä¸ªå¤§å°</li>
</ol>
</li>
<li>å¤šæ€å‡½æ•°çš„è§£ææ˜¯åœ¨è¿è¡Œæ—¶(runtime)å®Œæˆçš„ã€‚(ä¸åƒä¸€èˆ¬å‡½æ•°æ˜¯åœ¨ç¼–è¯‘æ—¶å®Œæˆè§£æã€‚)</li>
<li>è™šå‡½æ•°ä¸èƒ½æ˜¯é™æ€å‡½æ•°(static)</li>
<li>åº”è¯¥ä½¿ç”¨åŸºç±»ç±»å‹çš„<strong>æŒ‡é’ˆæˆ–å¼•ç”¨</strong>æ¥<strong>è®¿é—®è™šå‡½æ•°</strong>ï¼Œä»¥å®ç°è¿è¡Œæ—¶å¤šæ€æ€§ã€‚</li>
<li>æŒ‡å‘<code>derived</code>çš„æŒ‡é’ˆå¯ä»¥æ˜¯<code>base</code>(åŸºç±»)ç±»å‹ (<code>base* bptr = new derived;</code>) , åœ¨æ‰§è¡Œ<code>bptr-&gt;print()</code>æ—¶é¦–å…ˆä¼šå°è¯•æ‰§è¡Œ<code>baseç±»</code>ä¸­çš„<code>print</code>æ–¹æ³•ï¼Œå½“å‘è§‰<code>base::print()</code>å‡½æ•°æ˜¯è™šå‡½æ•°æ—¶ï¼Œä¼šä»è™šå‡½æ•°åœ°å€è¡¨ä¸­æŸ¥æ‰¾<code>derived::print()</code>çš„åœ°å€å»æ‰§è¡Œ<code>derived::print()</code>ã€‚è€Œ<code>base::show()</code>ä¸æ˜¯è™šå‡½æ•°ï¼Œç¼–è¯‘å™¨ä¸ä¼šä»è™šå‡½æ•°è¡¨ä¸­æŸ¥æ‰¾<code>derived::show()</code>(è™šå‡½æ•°è¡¨ä¸­ä¹Ÿæ²¡æœ‰è¯¥åœ°å€)ï¼Œå› æ­¤<code>bptr-&gt;show</code>æ‰§è¡Œçš„æ˜¯<code>base::show()</code>ã€‚</li>
<li>ä¸‹é¢æ˜¯ä¸€ä¸ªä½“ç°è¿è¡Œæ—¶å¤šæ€çš„ä¾¿åˆ©æ€§çš„ä¾‹å­ï¼š</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸºç±» Shape</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// è™šææ„å‡½æ•°ç¡®ä¿æ´¾ç”Ÿç±»çš„èµ„æºè¢«æ­£ç¡®é‡Šæ”¾</span></span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">Shape</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// çº¯è™šå‡½æ•° Drawï¼Œå®šä¹‰äº†ä¸€ä¸ªæ¥å£</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Draw</span><span class="params">()</span> <span class="type">const</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ´¾ç”Ÿç±» Circle</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> : <span class="keyword">public</span> Shape &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Draw</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Drawing a circle.&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ´¾ç”Ÿç±» Rectangle</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span> : <span class="keyword">public</span> Shape &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Draw</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Drawing a rectangle.&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ª Shape æŒ‡é’ˆæ•°ç»„</span></span><br><span class="line">    Shape* shapes[<span class="number">2</span>];</span><br><span class="line">    shapes[<span class="number">0</span>] = <span class="keyword">new</span> <span class="built_in">Circle</span>();</span><br><span class="line">    shapes[<span class="number">1</span>] = <span class="keyword">new</span> <span class="built_in">Rectangle</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡ Shape æŒ‡é’ˆè°ƒç”¨ Draw å‡½æ•°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> shape : shapes) &#123;</span><br><span class="line">        shape-&gt;<span class="built_in">Draw</span>();  <span class="comment">// åŠ¨æ€ç»‘å®šåˆ°æ­£ç¡®çš„ Draw å®ç°</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¸…ç†èµ„æº</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> shape : shapes) &#123;</span><br><span class="line">        <span class="keyword">delete</span> shape;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨ <code>main</code> å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª <code>Shape</code> æŒ‡é’ˆæ•°ç»„ <code>shapes</code>ï¼Œå¹¶å°† <code>Circle</code> å’Œ <code>Rectangle</code> å¯¹è±¡çš„åœ°å€å­˜å…¥å…¶ä¸­ã€‚</li>
<li>å½“æˆ‘ä»¬é€šè¿‡ <code>Shape</code> æŒ‡é’ˆè°ƒç”¨ <code>Draw()</code> æ—¶ï¼Œå®é™…ä¸Šä¼šè°ƒç”¨ <code>Circle</code> æˆ– <code>Rectangle</code> ä¸­çš„ <code>Draw()</code> æ–¹æ³•ã€‚è¿™æ˜¯å› ä¸º <code>Draw()</code> æ˜¯è™šå‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šåœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹æ¥å†³å®šè°ƒç”¨å“ªä¸ªç‰ˆæœ¬çš„ <code>Draw()</code></li>
<li>å¦‚æœå°†æ¥éœ€è¦æ·»åŠ æ–°çš„å›¾å½¢ç±»å‹ï¼ˆä¾‹å¦‚ <code>Triangle</code>ï¼‰ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„æ´¾ç”Ÿç±»å¹¶å®ç° <code>Draw()</code> æ–¹æ³•å³å¯ã€‚ä¸éœ€è¦ä¿®æ”¹ç°æœ‰çš„ä»£ç ï¼Œå°±å¯ä»¥å°†æ–°çš„å›¾å½¢ç±»å‹åŠ å…¥åˆ°ç³»ç»Ÿä¸­ã€‚è¿™ç§è®¾è®¡ä½¿å¾—ç³»ç»Ÿæ›´åŠ çµæ´»å’Œæ˜“äºç»´æŠ¤ã€‚</li>
</ul>
<p><strong>ä½†è™šå‡½æ•°å¸¦æ¥çš„æŸ¥è¡¨å¼€é”€ä¹Ÿæ˜¯è¾ƒå¤§çš„ï¼Œå› æ­¤å¯ä»¥é€šè¿‡CRTPè¿™ç§è®¾è®¡æ¨¡å¼æ¥é¿å…</strong></p>
<h3 id="CRTP-Curiously-recurring-template-pattern"><a href="#CRTP-Curiously-recurring-template-pattern" class="headerlink" title="CRTP(Curiously recurring template pattern)"></a>CRTP(Curiously recurring template pattern)</h3><p>å°†æ´¾ç”Ÿç±»ä½œä¸ºæ¨¡æ¿å‚æ•°ä¼ å…¥åŸºç±»</p>
<p><a href="https://www.geeksforgeeks.org/curiously-recurring-template-pattern-crtp-2/">reference</a></p>
<p>ä»¥ä¸‹çš„ä¾‹å­å±•ç¤ºäº†å½“è™šå‡½æ•°è¢«å¤§é‡è°ƒç”¨æ—¶æ‰€å¸¦æ¥çš„å¼€é”€ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// A simple C++ program to demonstrate run-time</span></span><br><span class="line"><span class="comment">// polymorphism</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> std::chrono::high_resolution_clock Clock;</span><br><span class="line"></span><br><span class="line"><span class="comment">// To store dimensions of an image</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dimension</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Dimension</span>(<span class="type">int</span> _X, <span class="type">int</span> _Y)</span><br><span class="line">	&#123;</span><br><span class="line">		mX = _X;</span><br><span class="line">		mY = _Y;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">int</span> mX, mY;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Base class for all image types</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Image</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Draw</span><span class="params">()</span> </span>= <span class="number">0</span>;<span class="comment">//è™šå‡½æ•°ç­‰äº0ï¼Œè¡¨ç¤ºè¯¥ç±»çš„ä»»ä½•æ´¾ç”Ÿç±»éƒ½è¦é‡æ–°å®šä¹‰Draw()</span></span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> Dimension <span class="title">GetDimensionInPixels</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	<span class="type">int</span> dimensionX;</span><br><span class="line">	<span class="type">int</span> dimensionY;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// For Tiff Images</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TiffImage</span> : <span class="keyword">public</span> Image &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Draw</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">	<span class="function">Dimension <span class="title">GetDimensionInPixels</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">Dimension</span>(dimensionX, dimensionY);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// There can be more derived classes like PngImage,</span></span><br><span class="line"><span class="comment">// BitmapImage, etc</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Driver code that calls virtual function</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// An image type</span></span><br><span class="line">	Image* pImage = <span class="keyword">new</span> TiffImage;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Store time before virtual function calls</span></span><br><span class="line">	<span class="keyword">auto</span> then = Clock::<span class="built_in">now</span>();</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Call Draw 1000 times to make sure performance</span></span><br><span class="line">	<span class="comment">// is visible</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; ++i)</span><br><span class="line">		pImage-&gt;<span class="built_in">Draw</span>();</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Store time after virtual function calls</span></span><br><span class="line">	<span class="keyword">auto</span> now = Clock::<span class="built_in">now</span>();</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Time taken: &quot;</span></span><br><span class="line">		&lt;&lt; std::chrono::<span class="built_in">duration_cast</span>&lt;std::chrono::nanoseconds&gt;(now - then).<span class="built_in">count</span>()</span><br><span class="line">		&lt;&lt; <span class="string">&quot; nanoseconds&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Output : </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Time taken: 2613 nanoseconds</span><br></pre></td></tr></table></figure>

<p>When a method is declared virtual, compiler secretly does two things for us: </p>
<ol>
<li>Defines a VPtr in first 4 bytes of the class object</li>
<li>Inserts code in constructor to initialize VPtr to point to the VTable</li>
</ol>
<p><strong>é‡‡ç”¨CRTPæ–¹æ³•æ¥å®ç°é™æ€å¤šæ€ï¼Œå‡å»è™šå‡½æ•°è¡¨çš„åŠ¨æ€å¼€é”€</strong> ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Image program (similar to above) to demonstrate</span></span><br><span class="line"><span class="comment">// working of CRTP</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> std::chrono::high_resolution_clock Clock;</span><br><span class="line"></span><br><span class="line"><span class="comment">// To store dimensions of an image</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dimension</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Dimension</span>(<span class="type">int</span> _X, <span class="type">int</span> _Y)</span><br><span class="line">	&#123;</span><br><span class="line">		mX = _X;</span><br><span class="line">		mY = _Y;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">int</span> mX, mY;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Base class for all image types. The template</span></span><br><span class="line"><span class="comment">// parameter T is used to know type of derived</span></span><br><span class="line"><span class="comment">// class pointed by pointer.</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Image</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Draw</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="comment">// Dispatch call to exact type</span></span><br><span class="line">		<span class="built_in">static_cast</span>&lt;T*&gt;(<span class="keyword">this</span>)-&gt;<span class="built_in">Draw</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function">Dimension <span class="title">GetDimensionInPixels</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="comment">// Dispatch call to exact type</span></span><br><span class="line">		<span class="built_in">static_cast</span>&lt;T*&gt;(<span class="keyword">this</span>)-&gt;<span class="built_in">GetDimensionInPixels</span>();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	<span class="type">int</span> dimensionX, dimensionY;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// For Tiff Images</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TiffImage</span> : <span class="keyword">public</span> Image&lt;TiffImage&gt; &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Draw</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="comment">// Uncomment this to check method dispatch</span></span><br><span class="line">		<span class="comment">// cout &lt;&lt; &quot;TiffImage::Draw() called&quot; &lt;&lt; endl;</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function">Dimension <span class="title">GetDimensionInPixels</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">Dimension</span>(dimensionX, dimensionY);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// There can be more derived classes like PngImage,</span></span><br><span class="line"><span class="comment">// BitmapImage, etc</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Driver code</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// An Image type pointer pointing to Tiffimage</span></span><br><span class="line">	Image&lt;TiffImage&gt;* pImage = <span class="keyword">new</span> TiffImage;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Store time before virtual function calls</span></span><br><span class="line">	<span class="keyword">auto</span> then = Clock::<span class="built_in">now</span>();</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Call Draw 1000 times to make sure performance</span></span><br><span class="line">	<span class="comment">// is visible</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; ++i)</span><br><span class="line">		pImage-&gt;<span class="built_in">Draw</span>();</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Store time after virtual function calls</span></span><br><span class="line">	<span class="keyword">auto</span> now = Clock::<span class="built_in">now</span>();</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Time taken: &quot;</span></span><br><span class="line">		&lt;&lt; std::chrono::<span class="built_in">duration_cast</span>&lt;std::chrono::nanoseconds&gt;(now - then).<span class="built_in">count</span>()</span><br><span class="line">		&lt;&lt; <span class="string">&quot; nanoseconds&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Output :</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Time taken: 732 nanoseconds</span><br></pre></td></tr></table></figure>

<ul>
<li><code>Image&lt;TiffImage&gt;* pImage = new TiffImage;</code>  </li>
<li>ä¼ å…¥åŸºç±»<code>Image</code>çš„æ¨¡æ¿å‚æ•°ä¸º<code>TiffImage</code>ï¼Œé‚£ä¹ˆ<code>pImage</code>çš„<code>draw()</code>å‡½æ•°ä¸º<code>static_cast&lt;TiffImage*&gt;(this)-&gt;Draw();</code></li>
</ul>
<p>æ‰§è¡Œ<code>pImage-&gt;Draw();</code>æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå…ˆæ‰¾<code>Image</code>ç±»ï¼Œæ‰§è¡Œ<code>Image::Draw()</code>  : <code>static_cast&lt;TiffImage*&gt;(this)-&gt;GetDimensionInPixels();</code>å°†<code>this</code>æŒ‡é’ˆè½¬æˆ<code>TiffImage*</code>å‹ï¼Œå†å»è®¿é—®<code>TiffImage::GetDimensionInPixels()</code></p>
<ul>
<li>CRTPæ˜¯é™æ€ç»‘å®šï¼Œå®ƒé€šè¿‡æ¨¡æ¿å®ç°å¤šæ€ï¼Œåœ¨ç¼–è¯‘æ—¶å°±å·²ç»ç¡®å®šäº†è¦è°ƒç”¨çš„å…·ä½“å‡½æ•°ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶ã€‚</li>
</ul>
<p><strong>CRTPå®ç°ç±»è®¡æ•°</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> CountedType&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">objectCounter</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">inline</span> <span class="type">static</span> std::<span class="type">size_t</span> count = <span class="number">0</span>;<span class="comment">//å¿…é¡»åŠ ä¸Šinlineæ‰èƒ½åœ¨ç±»ä¸­å¯¹é™æ€å˜é‡èµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">objectCounter</span>()&#123;</span><br><span class="line">        ++count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">objectCounter</span>(objectCounter&lt;CountedType&gt; <span class="type">const</span>&amp;)&#123;</span><br><span class="line">        ++count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">objectCounter</span>(objectCounter&lt;CountedType&gt; <span class="type">const</span>&amp;&amp; )&#123;</span><br><span class="line">        ++count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">objectCounter</span>()&#123;</span><br><span class="line">        --count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> std::<span class="type">size_t</span> <span class="title">live</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> CharT&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyString</span> : <span class="keyword">public</span> objectCounter&lt; MyString&lt;CharT&gt; &gt;&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">MyString</span>()&#123;&#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">MyString</span>()&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    MyString&lt;<span class="type">char</span>&gt; s1, s2;</span><br><span class="line"></span><br><span class="line">    <span class="function">MyString&lt;<span class="type">char</span>&gt; <span class="title">s3</span><span class="params">(s2)</span></span>;</span><br><span class="line"></span><br><span class="line">    MyString&lt;<span class="type">wchar_t</span>&gt; ws1, ws2;</span><br><span class="line">    </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;num of MyString&lt;char&gt;: &quot;</span> &lt;&lt; MyString&lt;<span class="type">char</span>&gt;::<span class="built_in">live</span>() &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;num of MyString&lt;wchar_t&gt;: &quot;</span> &lt;&lt; MyString&lt;<span class="type">wchar_t</span>&gt;::<span class="built_in">live</span>() &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>objectCounter</code>æ˜¯æ¥å—ä¸€ä¸ªæ¨¡æ¿å‚æ•°<code>CountedType</code>çš„è®¡æ•°å™¨ã€‚å®ƒç”¨äºè®°å½•<code>CountedType</code>è¿™ä¸ªç±»çš„å®ä¾‹ä¸ªæ•°ã€‚</p>
<p><code>MyString</code>æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„å­—ç¬¦ä¸²classï¼Œæ¥å—ä¸€ä¸ªå­—ç¬¦ç±»å‹<code>CharT</code>ä½œä¸ºæ¨¡æ¿å‚æ•°ã€‚å®ƒç»§æ‰¿è‡ª<code>objectCounter&lt; MyString&lt;CharT&gt; &gt;</code>ï¼Œä½¿å¾—<code>objectCounter</code>å¯ä»¥å¯¹<code>MyString&lt;CharT&gt;</code>è¿›è¡Œè®¡æ•°ã€‚</p>
<p>æ¨¡æ¿çš„å®ä¾‹åŒ–ï¼šç†è§£è¿™ä¸ªé—®é¢˜æ—¶ï¼Œ å¯ä»¥æƒ³è±¡ç¼–è¯‘å™¨ä¼šå®ä¾‹åŒ–å“ªäº›æ¨¡æ¿ã€‚<code>MyString&lt;char&gt;</code>ä¼šå®ä¾‹åŒ–ä¸¤ä¸ªæ¨¡æ¿ï¼š<code>objectCounter&lt;MyString&lt;char&gt;&gt;</code> and <code>MyString&lt;char&gt;</code>ã€‚è°ƒç”¨<code>MyString&lt;char&gt;</code>çš„æ„é€ å‡½æ•°åï¼Œä¼šéšå¼è°ƒç”¨<code>objectCounter&lt; MyString&lt;char&gt;&gt;</code>çš„æ„é€ å‡½æ•°ï¼Œä»è€Œä½¿<code>MyString&lt;char&gt;&gt;::count</code>åŠ ä¸€ã€‚</p>
<p>ç±»çš„å®ä¾‹åŒ–ï¼š<code>MyString&lt;char&gt;</code>ç»§æ‰¿è‡ª<code>objectCounter&lt; MyString&lt;char&gt;&gt;</code> , å› æ­¤<code>MyString&lt;char&gt;</code>çš„æ„é€ å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ã€ç§»åŠ¨æ„é€ å‡½æ•°ã€ææ„å‡½æ•°éƒ½ä¼šéšå¼è°ƒç”¨çˆ¶ç±»ç›¸åº”çš„å‡½æ•°ï¼Œä»è€Œå®ç°ç±»çš„å®ä¾‹è®¡æ•°ã€‚</p>
<p>#cpp </p>
]]></content>
      <tags>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>Customized Website Article Link</title>
    <url>/posts/4bc5178d/</url>
    <content><![CDATA[<h3 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h3><p>In the default setting of Hexo and Next , my article â€˜s usl is long and ugly ,  so I want to customize my articleâ€™s lick ,which is concise and static .  Fortunately , I finally find a hexo plugin called <code>hexo-abbrlink</code> , which is really amazing !   Here is the link :  <a href="https://github.com/rozbo/hexo-abbrlink">rozbo&#x2F;hexo-abbrlink: create one and only link for every post for hexo (github.com)</a></p>
<span id="more"></span>

<h3 id="Install-and-Configure-it"><a href="#Install-and-Configure-it" class="headerlink" title="Install and Configure it"></a>Install and Configure it</h3><ol>
<li><strong>Add plugin to Hexo :</strong></li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>Modify <code>config.yml</code></strong></li>
</ol>
<p><strong>Change the origin code</strong> </p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br></pre></td></tr></table></figure>

<p><strong>into</strong>(You can choose one of two ways below :)</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink/</span></span><br></pre></td></tr></table></figure>

<p><strong>or</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:addrlink.html</span></span><br></pre></td></tr></table></figure>

<p><strong style = "color = red ">Be careful : </strong> </p>
<p>There is a <code>/</code> in the end of <code>permalink: posts/:abbrlink/</code> ,  and not in <code>permalink: posts/:addrlink.html</code> !    This <code>/</code>  is really important .</p>
<ol start="3">
<li><strong>Add the codes below in the end of file <code>config.yml</code></strong></li>
</ol>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># abbrlink config</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span>      <span class="comment">#support crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span>        <span class="comment">#support dec(default) and hex</span></span><br><span class="line">  <span class="attr">drafts:</span> <span class="literal">false</span>   <span class="comment">#(true)Process draft,(false)Do not process draft. false(default) </span></span><br><span class="line">  <span class="comment"># Generate categories from directory-tree</span></span><br><span class="line">  <span class="comment"># depth: the max_depth of directory-tree you want to generate, should &gt; 0</span></span><br><span class="line">  <span class="attr">auto_category:</span></span><br><span class="line">     <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment">#true(default)</span></span><br><span class="line">     <span class="attr">depth:</span>        <span class="comment">#3(default)</span></span><br><span class="line">     <span class="attr">over_write:</span> <span class="literal">false</span> </span><br><span class="line">  <span class="attr">auto_title:</span> <span class="literal">false</span> <span class="comment">#enable auto title, it can auto fill the title by path</span></span><br><span class="line">  <span class="attr">auto_date:</span> <span class="literal">false</span> <span class="comment">#enable auto date, it can auto fill the date by time today</span></span><br><span class="line">  <span class="attr">force:</span> <span class="literal">false</span> <span class="comment">#enable force mode,in this mode, the plugin will ignore the cache, and calc the abbrlink for every post even it already had abbrlink. This only updates abbrlink rather than other front variables.</span></span><br></pre></td></tr></table></figure>

<p>You can modifly the parameters <code>alg</code> and <code>rep</code> according to your preference , and their meaning is as follow :</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">alg</span> <span class="string">--</span> <span class="string">Algorithm</span> <span class="string">(currently</span> <span class="string">support</span> <span class="string">crc16</span> <span class="string">and</span> <span class="string">crc32,</span> <span class="string">which</span> <span class="string">crc16</span> <span class="string">is</span> <span class="string">default)</span></span><br><span class="line"><span class="string">rep</span> <span class="string">--</span> <span class="string">Represent</span> <span class="string">(the</span> <span class="string">generated</span> <span class="string">link</span> <span class="string">could</span> <span class="string">be</span> <span class="string">presented</span> <span class="string">in</span> <span class="string">hex</span> <span class="string">or</span> <span class="string">dec</span> <span class="string">value)</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>Final Nagging</strong></li>
</ol>
<ul>
<li>If  your article â€˜s  URL  is still the style <code>:year/:month/:day/:title/</code> ,  you may forget to change <code>permalink: :year/:month/:day/:title/</code>  into  <code>permalink: posts/:abbrlink/</code>  or <code>permalink: posts/:addrlink.html</code>  .   Another reason may be <code>&quot;GitHub just can&#39;t response at once&quot;</code>  , so just wait for minutes patiently ~</li>
<li>Just donâ€™t forget the <code>/</code> in the end of <code>permalink: posts/:abbrlink/</code></li>
</ul>
<p><del>Actually , I had fallen into two traps mentioned above .</del></p>
<ul>
<li><strong>Thatâ€™s all .</strong></li>
</ul>
]]></content>
      <tags>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>DataStructure</title>
    <url>/posts/ba907200/</url>
    <content><![CDATA[<p style = "color : #f03752 ; font-size : 24px">It's the note I made when learned data structure . </p>

<p>Ref : <a href="https://www.bilibili.com/video/BV1nJ411V7bd/?spm_id_from=333.337.search-card.all.click&vd_source=da5120fea3f8bb8d2fe1984a02a9a745">æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€ï¼ˆé’å²›å¤§å­¦-ç‹å“ï¼‰_å“”å“©å“”å“©_bilibili</a></p>
<span id="more"></span>

<h1 id="Representation-and-Implementation-of-ADT"><a href="#Representation-and-Implementation-of-ADT" class="headerlink" title="Representation and Implementation of ADT"></a>Representation and Implementation of ADT</h1><p><strong>EX :  Arithmetic Operations on Complex Numbers</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">float</span> real;</span><br><span class="line">    <span class="type">float</span> imag;</span><br><span class="line">&#125; Complex;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">assign</span><span class="params">(Complex &amp;A, <span class="type">float</span> real, <span class="type">float</span> imag)</span> </span>&#123;</span><br><span class="line">    A.real = real;</span><br><span class="line">    A.imag = imag;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(Complex A)</span></span>&#123;</span><br><span class="line">    cout &lt;&lt; A.real &lt;&lt; <span class="string">&#x27;+&#x27;</span> &lt;&lt; A.imag &lt;&lt; <span class="string">&#x27;i&#x27;</span> &lt;&lt; endl ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(Complex &amp;A , Complex B , Complex C)</span></span>&#123;</span><br><span class="line">    A.real = B.real + C.real ;</span><br><span class="line">    A.imag = B.imag + C.imag ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">minus</span><span class="params">(Complex &amp;A , Complex B , Complex C)</span></span>&#123;</span><br><span class="line">    A.real = B.real - C.real ;</span><br><span class="line">    A.imag = B.imag - C.imag ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">multiply</span><span class="params">(Complex &amp;A , Complex B , Complex C)</span></span>&#123;</span><br><span class="line">    A.real = B.real * C.real - B.imag * C.imag ;</span><br><span class="line">    A.imag = B.real * C.imag + B.imag * C.real ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">divide</span><span class="params">(Complex &amp;A , Complex B , Complex C)</span></span>&#123;</span><br><span class="line">    A.real = (B.real * C.real + B.imag * C.imag) / (C.real * C.real + C.imag * C.imag) ;</span><br><span class="line">    A.imag = ( - B.real * C.imag + B.imag * C.real ) / (C.real * C.real + C.imag * C.imag) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Complex A , B , C ;</span><br><span class="line">    <span class="built_in">assign</span>(A , <span class="number">1</span> , <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">assign</span>(B , <span class="number">3</span> , <span class="number">4</span>) ;</span><br><span class="line">    <span class="built_in">assign</span>(C , <span class="number">5</span> , <span class="number">6</span>) ;</span><br><span class="line">    <span class="built_in">divide</span>(A , B , C) ;</span><br><span class="line">    <span class="built_in">print</span>(A) ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Linear-List"><a href="#Linear-List" class="headerlink" title="Linear List"></a>Linear List</h1><h2 id="Squence-Linear-List"><a href="#Squence-Linear-List" class="headerlink" title="Squence Linear List"></a>Squence Linear List</h2><h3 id="EX1-Hornerâ€™s-rules-or-Qin-Jiushao-ç§¦ä¹éŸ¶-â€™s-algorithm"><a href="#EX1-Hornerâ€™s-rules-or-Qin-Jiushao-ç§¦ä¹éŸ¶-â€™s-algorithm" class="headerlink" title="EX1. Hornerâ€™s rules or Qin Jiushao(ç§¦ä¹éŸ¶)â€™s algorithm"></a><strong>EX1. Hornerâ€™s rules or Qin Jiushao(ç§¦ä¹éŸ¶)â€™s algorithm</strong></h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 9 </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> K 1e7 <span class="comment">// numbers of loop</span></span></span><br><span class="line"><span class="type">double</span> a[<span class="number">10</span>] = &#123; <span class="number">2.1</span> , <span class="number">3.4</span> , <span class="number">2</span> , <span class="number">1.3</span> , <span class="number">3</span> , <span class="number">8.8</span> , <span class="number">4.3</span> , <span class="number">5.3</span> , <span class="number">5.3</span> , <span class="number">4.3</span>&#125; ;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">func1</span><span class="params">(<span class="type">double</span> x , <span class="type">double</span> *a )</span></span>&#123;</span><br><span class="line">    <span class="type">double</span> res = a[<span class="number">0</span>] ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span> ; i &lt;= N ; i++)&#123;</span><br><span class="line">        res += a[i] * <span class="built_in">pow</span>(x , i) ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res ;</span><br><span class="line">    <span class="comment">//std:: cout &lt;&lt; &quot;the result of polynominal by func1 is &quot; &lt;&lt; res &lt;&lt; std::endl ; </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">func2</span><span class="params">(<span class="type">double</span> x , <span class="type">double</span> *a)</span></span>&#123;</span><br><span class="line">    <span class="comment">// Qin Jiushao&#x27;s algorithm</span></span><br><span class="line">    <span class="type">double</span> res = a[<span class="number">9</span>] ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = N ; i &gt; <span class="number">0</span> ; i--)&#123;</span><br><span class="line">        res = a[i - <span class="number">1</span>] + res * x ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res ;</span><br><span class="line">    <span class="comment">//std::cout &lt;&lt; &quot;the resulr of polynominal by func2 is &quot; &lt;&lt; res &lt;&lt; std::endl ;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">time_func1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">clock_t</span> start , stop ;</span><br><span class="line">    start = <span class="built_in">clock</span>() ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; K ; i++)&#123;</span><br><span class="line">        <span class="built_in">func1</span>( <span class="number">2.4</span> , a ) ;   </span><br><span class="line">    &#125;</span><br><span class="line">    stop = <span class="built_in">clock</span>() ;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;func1 cost &quot;</span> &lt;&lt; (<span class="built_in">double</span>(stop - start)) / CLK_TCK / K &lt;&lt; <span class="string">&quot; s per time&quot;</span> &lt;&lt; std::endl ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">time_func2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">clock_t</span> start , stop ;</span><br><span class="line">    start = <span class="built_in">clock</span>() ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; K ; i++)&#123;</span><br><span class="line">        <span class="built_in">func2</span>( <span class="number">2.4</span> , a ) ;   </span><br><span class="line">    &#125;</span><br><span class="line">    stop = <span class="built_in">clock</span>() ;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;func2 cost &quot;</span> &lt;&lt; (<span class="built_in">double</span>(stop - start)) / CLK_TCK / K  &lt;&lt; <span class="string">&quot; s per time&quot;</span> &lt;&lt; std::endl ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">double</span> x ; </span><br><span class="line">    std::cin &gt;&gt; x ; </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;the result of func1 is &quot;</span> &lt;&lt; <span class="built_in">func1</span>(x , a) &lt;&lt; std::endl ;    </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;the result of func2 is &quot;</span> &lt;&lt; <span class="built_in">func2</span>(x , a) &lt;&lt; std::endl ;    </span><br><span class="line">    <span class="built_in">func2</span>(x , a) ;</span><br><span class="line">    <span class="built_in">time_func1</span>() ;</span><br><span class="line">    <span class="built_in">time_func2</span>() ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="C-dynamic-memory-allocation"><a href="#C-dynamic-memory-allocation" class="headerlink" title="C++ dynamic memory allocation"></a>C++ dynamic memory allocation</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>* p = <span class="keyword">new</span> <span class="type">int</span> ;</span><br><span class="line"><span class="type">int</span>* p2 = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">10</span>] ; <span class="comment">//allocate 10 int memory to p2</span></span><br><span class="line"><span class="keyword">delete</span> p , p2;</span><br></pre></td></tr></table></figure>

<h3 id="Convenient-way-of-passing-values-in-C"><a href="#Convenient-way-of-passing-values-in-C" class="headerlink" title="Convenient way of passing values in C++"></a>Convenient way of passing values in C++</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap_1</span><span class="params">(<span class="type">int</span>&amp; a , <span class="type">int</span>&amp; b)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> temp = a ;</span><br><span class="line">    a = b ;</span><br><span class="line">    b = temp ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">2</span> , b = <span class="number">9</span> ;</span><br><span class="line">    <span class="built_in">swap_1</span>(a , b) ;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;a = &quot;</span> &lt;&lt; a &lt;&lt; <span class="string">&quot; b = &quot;</span> &lt;&lt; b &lt;&lt; endl ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Representation-of-LinearList"><a href="#Representation-of-LinearList" class="headerlink" title="Representation of LinearList"></a>Representation of LinearList</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ElementType int </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 20 </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">SqList</span>&#123;</span><br><span class="line">    ElementType  *element ;</span><br><span class="line">    <span class="type">int</span> length ;</span><br><span class="line">&#125;SqList ;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InitList_Sq</span><span class="params">(SqList &amp;L)</span></span>&#123;</span><br><span class="line">    <span class="comment">//Initial the Squence Linear List</span></span><br><span class="line">    L.element = <span class="keyword">new</span> ElementType[MaxSize] ;</span><br><span class="line">    <span class="keyword">if</span>(!L.element)  &#123;</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        L.length = <span class="number">0</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DestroyList</span><span class="params">(SqList &amp;L)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L.element)   <span class="keyword">delete</span> L.element ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ClearList</span><span class="params">(SqList &amp;L)</span></span>&#123;</span><br><span class="line">    L.length = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetLength</span><span class="params">(SqList &amp;L)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span>  L.length ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">IsEmpty</span><span class="params">(SqList &amp;L)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L.length)    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">else</span>    <span class="keyword">return</span> <span class="number">1</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetEle</span><span class="params">(SqList &amp;L , <span class="type">int</span> i , ElementType &amp;e)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">1</span> || i &gt; L.length)   <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">else</span> e = L.element[i] ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">LocateEle</span> <span class="params">(SqList &amp;L , ElementType e)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; L.length ; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(L.element[i] == e)   <span class="keyword">return</span> i ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ListInsert_Sq</span><span class="params">(SqList &amp;L , ElementType e , <span class="type">int</span> i )</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt; L.length || (L.length + <span class="number">1</span>) &gt; MaxSize)   <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = L.element[L.length - <span class="number">1</span>] ; j &gt;= i ; j--)&#123;</span><br><span class="line">        L.element[j + <span class="number">1</span>] = L.element[j] ;</span><br><span class="line">    &#125;</span><br><span class="line">    L.element[i] = e ;</span><br><span class="line">    L.length++ ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintList_Sq</span><span class="params">(SqList &amp;L)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; L.length ; i++)&#123;</span><br><span class="line">        cout &lt;&lt; L.element[i] &lt;&lt; <span class="string">&quot; &quot;</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ListDelete_Sq</span><span class="params">(SqList &amp;L , <span class="type">int</span> i )</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt; L.length - <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span> ; j &lt; L.length ; j++)&#123;</span><br><span class="line">        L.element[j - <span class="number">1</span>] = L.element[j] ; </span><br><span class="line">    &#125;</span><br><span class="line">    L.length-- ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">union_list</span><span class="params">(SqList &amp;La , SqList Lb)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> length = <span class="built_in">GetLength</span>(Lb) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="built_in">GetLength</span>(Lb) ; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">LocateEle</span>(La , Lb.element[i]) == <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="built_in">ListInsert_Sq</span>(La , Lb.element[i] , <span class="built_in">GetLength</span>(La)) ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge_list_Sq</span><span class="params">(SqList &amp;Lc , SqList La , SqList Lb )</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> length_a = <span class="built_in">GetLength</span>(La) , length_b = <span class="built_in">GetLength</span>(Lb) ;</span><br><span class="line">    Lc.length = length_a + length_b ;</span><br><span class="line">    Lc.element = <span class="keyword">new</span> ElementType[Lc.length] ;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span> , j = <span class="number">0</span> , k = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; length_a &amp;&amp; j &lt; length_b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(La.element[i] &lt; Lb.element[j])&#123;</span><br><span class="line">            Lc.element[k++] = La.element[i++] ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> Lc.element[k++] = Lb.element[j++] ;</span><br><span class="line">    &#125;</span><br><span class="line">    pc-&gt;next = pa ? pa : pb ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SqList L ;</span><br><span class="line">    <span class="built_in">InitList_Sq</span>(L) ; </span><br><span class="line">    <span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">1</span> , <span class="number">3</span> , <span class="number">5</span> , <span class="number">7</span> , <span class="number">9</span>&#125; ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">5</span> ; i++)&#123;</span><br><span class="line">        L.element[i] = a[i] ;</span><br><span class="line">    &#125;</span><br><span class="line">    L.length = <span class="number">5</span> ;</span><br><span class="line">    <span class="built_in">ListDelete_Sq</span>(L , <span class="number">4</span>) ;</span><br><span class="line">    <span class="built_in">PrintList_Sq</span>(L) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Advantages and Disadvantages of Squence Linear List :</strong></p>
<p><strong>Advantages :</strong></p>
<ul>
<li><strong>Storing physical location relationships represents logical relationships .</strong></li>
<li><strong>Can get any elements quickly .</strong></li>
</ul>
<p><strong>Disadvantage:</strong></p>
<ul>
<li><strong>Too many steps to move elements  in the option of Insert and Delete elements .</strong></li>
</ul>
<h2 id="Linked-Linear-List"><a href="#Linked-Linear-List" class="headerlink" title="Linked Linear List"></a>Linked Linear List</h2><p>I write a new article about linked linear list <a href="">HERE</a></p>
]]></content>
  </entry>
  <entry>
    <title>Deploy your website</title>
    <url>/posts/f1f00c7b/</url>
    <content><![CDATA[<h3 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h3><p>æˆ‘ä»¬åœ¨ä½¿ç”¨<a href="https://benkangpeng.gitee.io/2023/09/18/Hello%20Hexo-NEXT/">Hexo+NexTæ­å»º</a>å¥½ä¸ªäººåšå®¢å,åªèƒ½åœ¨æœ¬åœ°ç«¯å£è®¿é—®ï¼Œå…¶ä»–äººæ— æ³•è®¿é—®(æœ‰ä¸€ç§å†…ç½‘ç©¿é€çš„æ–¹æ³•å¯ä»¥å°†ç”µè„‘ç«¯å£æš´éœ²ï¼Œä»è€Œè¾¾åˆ°â€ä¸Šçº¿â€œçš„åŠŸèƒ½ã€‚å°šæœªäº†è§£    æ‰¾åˆ°äº†:<a href="https://www.bilibili.com/video/BV1z14y1r7Fc/?spm_id_from=333.999.0.0&vd_source=da5120fea3f8bb8d2fe1984a02a9a745">Here</a>)ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>Github pages</code> å’Œ<code>Gitee pages</code> ä¸Šçº¿ç½‘ç«™ä»è€Œç™½å«–ä¸€å°åªèƒ½æ­è½½<code>é™æ€ç½‘é¡µ</code>çš„æœåŠ¡å™¨  ï¼ˆ<del>æ˜¯ä¸æ˜¯æœ‰ç§ç™½å«–çš„å¿«ä¹</del>ï¼‰ä»¥ä¸‹æ˜¯ä¸Šçº¿æ­¥éª¤ã€‚</p>
<span id="more"></span>

<h3 id="Github-pages"><a href="#Github-pages" class="headerlink" title="Github pages"></a>Github pages</h3><h4 id="ä¸»è¦æ­¥éª¤"><a href="#ä¸»è¦æ­¥éª¤" class="headerlink" title="ä¸»è¦æ­¥éª¤"></a>ä¸»è¦æ­¥éª¤</h4><ul>
<li><p><strong>æ³¨å†ŒGitHubã€æ–°å»ºä»“åº“</strong></p>
<p>æ–°å»ºä¸€ä¸ªä»“åº“ï¼Œæ³¨æ„ä»“åº“åä¸€å®šæ˜¯ç”¨æˆ·åä¸github.ioçš„ç»„åˆï¼Œä¾‹å¦‚<code>benkangpeng.github.io</code></p>
</li>
<li><p><strong>ç”Ÿæˆssh-key</strong></p>
<p>å¦‚æœæœªé…ç½®è¿‡git ï¼Œæœªè·å¾—<code>ssh key</code> çš„è¯ï¼Œéœ€è¦é…ç½®<code>git</code>å¹¶è·å¾—<code>ssh key</code>(æˆ‘ç†è§£ä¸ºç”µè„‘ç¡¬ä»¶ã€é‚®ç®±å¯¹åº”çš„ç¼–ç ã€‚é€šè¿‡è¯¥ç¼–ç å¯ä»¥æ‰¾åˆ°å”¯ä¸€çš„è®¡ç®—æœºï¼Œ<code>GitHub</code>å°±æ˜¯é€šè¿‡<code>ssh key</code>ä¸è®¡ç®—æœºè¿›è¡ŒåŠ å¯†æ•°æ®ä¼ è¾“çš„ã€‚è®¡ç®—æœºç½‘ç»œæ²¡å­¦ ï¼Œä¸€å®šå¾—è¡¥è¡¥:cry:)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;benkangpeng&quot;</span><br><span class="line">git config --global user.email &quot;benkangpeng@163.com&quot;</span><br><span class="line">ssh-keygen -t rsa -C &quot;benkangpeng@163.com&quot;  # ä¹‹åä¸‰æ¬¡å›è½¦</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®ç»ˆç«¯è¾“å‡ºçš„ä¿¡æ¯æ‰¾åˆ°<code>id_rsa.pub</code>çš„ä½ç½®,æˆ–è€…é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Connect computer with GitHub by ssh-key</strong></p>
<p><strong>å°†ssh-keyåŠ å…¥åˆ°githubä¸Š</strong>ï¼šç‚¹å‡»<code>ä¸ªäººå¤´åƒè¿›å…¥ä¸ªäººç©ºé—´</code> â†’ <code>SSH and GPG keys</code>â†’ <code>New SSH key </code>,Titleéšæ„(æœ€å¥½æ ‡æ˜æ˜¯å“ªå°ç”µè„‘ï¼‰ï¼Œ<code>Key</code>ç²˜ä¸Šåˆšæ‰å¤åˆ¶çš„<code>id_rsa.pub</code> ï¼Œæ·»åŠ æˆåŠŸåä¼šæ”¶åˆ°Githubçš„é‚®ä»¶ã€‚</p>
<p><strong>å°è¯•æœ¬æœºä¸Githubé€šä¿¡</strong>ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Hi BenkangPeng! Youâ€™ve successfully authenticated, but GitHub does not provide shell access.</p>
</blockquote>
<p>è‹¥æ˜¾ç¤ºä»¥ä¸Šç»“æœï¼Œåˆ™è¡¨æ˜é€šä¿¡æˆåŠŸã€‚</p>
</li>
<li><p>ä¿®æ”¹<code>Hexo</code> é…ç½®æ–‡ä»¶</p>
<p><code>_config.yml </code>æ–‡ä»¶ä¸­æ‰¾åˆ°<code>deploy</code>ä¸€é¡¹ï¼Œä¿®æ”¹ä¸º</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">https://github.com/benkangpeng/benkangpeng.github.io.git</span></span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>type</code>è¡¨ç¤º<code>the type of site deploying</code> , å³ç½‘ç«™å‘å¸ƒçš„æ–¹å¼ï¼Œæˆ‘ä»¬é€šè¿‡<code>git</code>å‘å¸ƒ</p>
<p><code>repository</code>åˆ™å¡«å†™ä¹‹å‰å»ºç«‹çš„ä»“åº“çš„åœ°å€ï¼ŒååŠ ä¸Šåç¼€<code>.git</code></p>
</li>
<li><p>å®‰è£…<code>hexoéƒ¨ç½²æ’ä»¶</code>(æœ€å¥½åœ¨æ ¹ç›®å½•å®‰è£…æ’ä»¶)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP-FR84659 MINGW64 /d/Hexo/blog (master)</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†æ–‡ä»¶ä¸Šä¼ åˆ°<code>Github</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g  # hexo generate</span><br><span class="line">hexo d  # hexo deploy</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ç›¸å…³æ–‡ä»¶å·²ä¸Šä¼ åˆ°å¯¹åº”çš„ä»“åº“ä¸­ï¼Œä½†å¦‚æœæ­¤æ—¶ä½ è¾“å…¥<code>https:\\benkangpeng.github.io</code>ç»“æœæ˜¯<code>404</code>ï¼ŒåŸå› æ˜¯æœªå°†è¯¥ä»“åº“è®¾ç½®ä¸º<code>GitHub pages</code> .</p>
<p>åœ¨ä»“åº“é¡µé¢å³è¾¹çš„ä¾§è¾¹æ ä¸­æœ‰ä¸€ä¸ª<code>è®¾ç½®</code>çš„é½¿è½®å›¾æ ‡ï¼Œç‚¹å‡»â†’å‹¾é€‰<code>Use your GitHub Pages website</code>â†’<code>Save Changes</code></p>
</li>
<li><p><strong>å¤§åŠŸå‘Šæˆ</strong>ï¼Œè¾“å…¥<code>https:\\benkangpeng.github.io</code>æŸ¥çœ‹ç½‘é¡µå§ï¼</p>
</li>
</ul>
<h3 id="Gitee-pages"><a href="#Gitee-pages" class="headerlink" title="Gitee pages"></a>Gitee pages</h3><p>å› ä¸ºGitee pagesçš„éƒ¨ç½²ä¸Githubç±»ä¼¼(<del>æ¯•ç«ŸæŠ„æ¥çš„</del>)ï¼Œä»¥ä¸‹æ­¥éª¤è¾ƒä¸ºç®€ç•¥ï¼Œå¯å‚è€ƒç€Githubçš„é…ç½®æ­¥éª¤è¿›è¡Œã€‚</p>
<h4 id="ä¸»è¦æ­¥éª¤-1"><a href="#ä¸»è¦æ­¥éª¤-1" class="headerlink" title="ä¸»è¦æ­¥éª¤:"></a>ä¸»è¦æ­¥éª¤:</h4><ul>
<li><p><strong>Giteeæ³¨å†Œè´¦å·</strong>å¹¶å®åè®¤è¯(å¯¹ï¼Œå°±æ˜¯è¿™ä¹ˆç‹—:dog:)</p>
</li>
<li><p><strong>æ–°å»ºä»“åº“</strong></p>
<p>æ­¤å¤„ä¸€å®šè¦æ³¨æ„ä»“åº“åä¸ç”¨æˆ·åä¸€è‡´ï¼Œä¾‹å¦‚æˆ‘çš„æ˜¯<code>benkangpeng</code>,ä¸Githubä¸åŒ(GitHubæ˜¯benkangpeng.github.io)</p>
</li>
<li><p><strong>Gitå…¨å±€è®¾ç½®ã€è·å–ssh-key</strong>(åŒä¸Šé¢çš„Github)</p>
<p>å·²ç»è®¾ç½®è¿‡å…¨å±€è®¾ç½®ã€è·å–è¿‡ssh-keyï¼Œåˆ™æ— éœ€è¿›è¡Œæ“ä½œã€‚é‡å¤æ“ä½œä¼šæ”¹å˜è®¡ç®—æœºçš„ssh-keyï¼Œä¸ä¹‹å‰åœ¨Githubç»‘å®šçš„ssh-keyä¸åŒäº†ï¼Œå¯¼è‡´Githubä¸è®¡ç®—æœºæ— æ³•é€šä¿¡ã€‚æœ€ä¼˜è§£ï¼šå›ºå®šè®¡ç®—æœºçš„ssh-keyä¸å˜ï¼ŒGithubã€Giteeå…±ç”¨ä¸€ä¸ªã€‚æ­¤åä¹Ÿä¸è¦å˜æ›´ssh-key.</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;benkangpeng&quot;</span><br><span class="line">git config --global user.email &quot;benkangpeng@163.com&quot;</span><br><span class="line">ssh-keygen -t rsa -C &quot;benkangpeng@163.com&quot;  # ä¹‹åä¸‰æ¬¡å›è½¦</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®ç»ˆç«¯è¾“å‡ºçš„ä¿¡æ¯æ‰¾åˆ°<code>id_rsa.pub</code>çš„ä½ç½®,æˆ–è€…é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>SSH-keyå¡«å…¥Gitee</strong></p>
<p>ç‚¹å¤´åƒâ†’è®¾ç½®â†’SSHå…¬é’¥</p>
</li>
<li><p><strong>ç¬¬ä¸€æ¬¡é€šä¿¡</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh -T git@gitee.com</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Hi BenkangPeng(@benkangpeng)! Youâ€™ve successfully authenticated, but GITEE.COM does not provide shell access.</p>
</blockquote>
<p><del>å’±ä¹Ÿä¸æ‡‚<code>doesÂ notÂ provideÂ shell access</code>æ˜¯å•¥æ„æ€ï¼ŒGiteeåƒåœ¾å°±å®Œäº‹äº†</del></p>
</li>
<li><p><strong>ä¿®æ”¹<code>hexo</code>  <code>_config.yml</code></strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="comment">#repository: https://github.com/benkangpeng/benkangpeng.github.io.git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">https://gitee.com/benkangpeng/benkangpeng.git</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å®‰è£…hexoéƒ¨ç½²æ’ä»¶</strong>(å®‰è£…è¿‡çš„æ— éœ€é‡å¤å®‰è£…)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>éƒ¨ç½²ã€ä¸Šä¼ åˆ°Gitee</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶å¯ä»¥çœ‹åˆ°ç›¸å…³æ–‡ä»¶å·²ä¸Šä¼ åˆ°Giteeä»“åº“ä¸­ã€‚</p>
</li>
<li><p><strong>å°†ä»“åº“è®¾ç½®ä¸ºGitee Pages</strong></p>
<p>â‘ è¿›å…¥ä»“åº“â†’ä¸Šé¢çš„è¾¹æ¡† <code>ç®¡ç†</code>â†’å‘ä¸‹æ»‘ï¼Œå‹¾é€‰<code>å¼€æº</code>â†’<code>ä¿å­˜</code></p>
<p>â‘¡è¿›å…¥ä»“åº“â†’ä¸Šé¢çš„è¾¹æ¡† <code>æœåŠ¡</code>â†’<code>Gitee Pages</code> â†’ å‹¾é€‰<code>å¼ºåˆ¶ä½¿ç”¨HTTPS</code>â†’<code>å¯åŠ¨</code></p>
</li>
</ul>
]]></content>
      <tags>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>Gdbå­¦ä¹ ç¬”è®°</title>
    <url>/posts/a06a32e/</url>
    <content><![CDATA[<p>ä»¥å‰å­¦è¿‡ä¸€ä¸ªCçš„è°ƒè¯•å·¥å…·<code>gdb</code>ï¼Œé‡æ–°çœ‹äº†ä¸€ä¸‹èµ„æ–™å¤ä¹ ã€‚èµ„æ–™æ˜¯<code>LinuxC</code>ä¹¦ä¸Šçš„ä¸€ä¸ªç« èŠ‚ï¼Œå½“ç„¶è¿™æœ¬ä¹¦ä¹Ÿæ˜¯ååˆ†æ¨èã€‚<a href="https://link.zhihu.com/?target=http://staff.ustc.edu.cn/~guoyan/os12/LinuxC.pdf">Download Pdf</a>    <a href="https://akaedu.github.io/book/">View Online</a>  <a href="https://www.zhihu.com/question/34069391">ç›¸å…³è®¨è®º</a></p>
<span id="more"></span>

<h1 id="å•æ­¥æ‰§è¡Œ"><a href="#å•æ­¥æ‰§è¡Œ" class="headerlink" title="å•æ­¥æ‰§è¡Œ"></a>å•æ­¥æ‰§è¡Œ</h1><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç¤ºä¾‹ç¨‹åº</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add_range</span><span class="params">(<span class="type">int</span> low, <span class="type">int</span> high)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i, sum;</span><br><span class="line">    <span class="keyword">for</span> (i = low; i &lt;= high; i++)</span><br><span class="line">        sum = sum + i;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> result[<span class="number">100</span>];</span><br><span class="line">    result[<span class="number">0</span>] = <span class="built_in">add_range</span>(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">    result[<span class="number">1</span>] = <span class="built_in">add_range</span>(<span class="number">1</span>, <span class="number">100</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;result[0]=%d\nresult[1]=%d\n&quot;</span>, result[<span class="number">0</span>], result[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ç”Ÿæˆå¹¶è¿›å…¥<code>gdb</code></strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">g++ -g test.cpp -o main</span> </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gdb main</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>å•æ­¥æ‰§è¡Œ</strong><ul>
<li><code>list</code>åˆ—å‡ºæºç¨‹åº. <code>list 23</code>è¡¨ç¤ºä»ç¬¬23è¡Œå¼€å§‹åˆ—å‡ºæºç¨‹åºã€‚ç®€å†™ä¸º<code>l</code></li>
<li><code>å›è½¦</code>é‡å¤æ‰§è¡Œä¸Šä¸€æ¬¡çš„æŒ‡ä»¤</li>
<li><code>n</code> è¡¨ç¤º<code>next</code>ä¸‹ä¸€æ­¥</li>
<li><code>s</code> ï¼Œ <code>step</code>, è¿›å…¥è¢«è°ƒç”¨å‡½æ•°</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">start <span class="comment"># å¼€å§‹è¿è¡Œç¨‹åº</span></span></span><br><span class="line">Thread 1 hit Temporary breakpoint 1, main () at test.cpp:12</span><br><span class="line">12          result[0] = add_range(1, 10);</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">n <span class="comment"># nextå•æ­¥è¿è¡Œåˆ°ä¸‹ä¸€æ­¥</span></span></span><br><span class="line">(gdb) n</span><br><span class="line">13          result[1] = add_range(1, 100);</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¦‚æœæˆ‘ä»¬è¦è¿›å…¥å­å‡½æ•°add_rangeæŸ¥çœ‹è¿è¡Œè¿‡ç¨‹å‘¢  -&gt; `s`è¡¨ç¤ºstep</span></span><br><span class="line">(gdb) s</span><br><span class="line">add_range (low=1, high=100) at test.cpp:5</span><br><span class="line">5           for (i = low; i &lt;= high; i++)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>æ‰“å°å‚æ•°å€¼</strong><ul>
<li><code>i locals</code>æ˜¾ç¤ºå½“å‰æ ˆå¸§å˜é‡ä¿¡æ¯</li>
<li><code>p &lt;variable&gt;</code> æ‰“å°å˜é‡</li>
<li><code>set var &lt;variable&gt; = &lt;data&gt;</code>ä¿®æ”¹å˜é‡</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Thread 1 hit Temporary breakpoint 1, main () at test.cpp:12</span><br><span class="line">12          result[0] = add_range(1, 10);</span><br><span class="line">(gdb) s</span><br><span class="line">add_range (low=1, high=10) at test.cpp:5</span><br><span class="line">5           for (i = low; i &lt;= high; i++)</span><br><span class="line">(gdb) i locals  # info local æ˜¾ç¤ºå½“å‰æ ˆå¸§ä¸­çš„å˜é‡</span><br><span class="line">i = 32760</span><br><span class="line">sum = 501247388</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ­¤å¤„å°±å¯ä»¥å‘ç°ç¨‹åºçš„é—®é¢˜ï¼šæ²¡æœ‰èµ‹åˆå€¼</span></span><br><span class="line">(gdb) n</span><br><span class="line">6               sum = sum + i;</span><br><span class="line">(gdb) i locals</span><br><span class="line">i = 1</span><br><span class="line">sum = 501247388</span><br><span class="line">(gdb) set var sum = 0 # ä¿®æ”¹sumçš„å€¼</span><br><span class="line">(gdb) n</span><br><span class="line">5           for (i = low; i &lt;= high; i++)</span><br><span class="line">(gdb) p sum # print sum</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">1 = 1 <span class="comment"># $1æ˜¯ä¸´æ—¶å˜é‡ï¼Œä¸´æ—¶æ˜¾ç¤º</span></span></span><br><span class="line">(gdb)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>æ ˆå¸§</strong><ul>
<li><code>bt</code>æ˜¾ç¤ºæ ˆå¸§</li>
<li><code>f &lt;numble&gt;</code>é€‰ä¸­ã€è¿›å…¥æ ˆå¸§</li>
</ul>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">Thread <span class="number">1</span> hit Temporary breakpoint <span class="number">1</span>, <span class="built_in">main</span> () at test.c:<span class="number">10</span></span><br><span class="line"><span class="number">10</span>          <span class="type">int</span> result[<span class="number">5</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">(gdb) n</span><br><span class="line"><span class="number">11</span>          result[<span class="number">0</span>] = <span class="built_in">Sum</span>(<span class="number">1</span> , <span class="number">10</span>) ;</span><br><span class="line">(gdb) <span class="function">s</span></span><br><span class="line"><span class="function"><span class="title">Sum</span> <span class="params">(low=<span class="number">1</span>, high=<span class="number">10</span>)</span> at test.c:<span class="number">3</span></span></span><br><span class="line"><span class="function"><span class="number">3</span>           int i =</span> <span class="number">0</span> , sum = <span class="number">0</span> ;</span><br><span class="line">(gdb) n</span><br><span class="line"><span class="number">4</span>           <span class="keyword">for</span>(i = low ; i &lt;= high ; i++)&#123;</span><br><span class="line">(gdb)</span><br><span class="line"><span class="number">5</span>               sum += i ;</span><br><span class="line">(gdb) p result</span><br><span class="line">No symbol <span class="string">&quot;result&quot;</span> in current context.</span><br><span class="line"><span class="comment">// å½“å‰æ ˆå¸§æ²¡æœ‰&quot;result&quot;</span></span><br><span class="line">(gdb) bt <span class="comment">// æ˜¾ç¤ºå½“å‰æ ˆå¸§ backtrace</span></span><br><span class="line">#<span class="number">0</span>  <span class="built_in">Sum</span> (low=<span class="number">1</span>, high=<span class="number">10</span>) at test.c:<span class="number">5</span></span><br><span class="line">#<span class="number">1</span>  <span class="number">0x00000000004015c2</span> <span class="function">in <span class="title">main</span> <span class="params">()</span> at test.c:<span class="number">11</span></span></span><br><span class="line"><span class="function">(gdb) f <span class="number">1</span> // frame <span class="number">1</span> , <span class="number">1</span>ä¸ºbtåˆ—å‡ºæ¥çš„æ ˆå¸§ç¼–å·</span></span><br><span class="line"><span class="function">#<span class="number">1</span>  <span class="number">0x00000000004015c2</span> in main () at test.c:<span class="number">11</span></span></span><br><span class="line"><span class="function"><span class="number">11</span>          result[<span class="number">0</span>] =</span> <span class="built_in">Sum</span>(<span class="number">1</span> , <span class="number">10</span>) ;</span><br><span class="line">(gdb) p result</span><br><span class="line">$<span class="number">1</span> = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>&#125;</span><br></pre></td></tr></table></figure>



<h1 id="æ–­ç‚¹è°ƒè¯•"><a href="#æ–­ç‚¹è°ƒè¯•" class="headerlink" title="æ–­ç‚¹è°ƒè¯•"></a>æ–­ç‚¹è°ƒè¯•</h1><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>, i = <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span> input[<span class="number">8</span>] ;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, input);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; input[i] != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line">        sum = sum*<span class="number">10</span> + input[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;input=%d\n&quot;</span>, sum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸ŠCç¨‹åºçš„åŠŸèƒ½æ˜¯ï¼šè¾“å…¥<code>å­—ç¬¦å‹</code>çš„æ•°å­—(<code>æœ€é«˜ä¸ƒä½</code>ï¼‰ï¼Œè¾“å‡ºå¯¹åº”çš„<code>æ•´æ•°</code>ï¼Œå¦‚æ­¤å¾ªç¯ã€‚</p>
<p>ä½†åˆæ˜¯ç±»ä¼¼çš„ç»“æœï¼Œç¬¬ä¸€æ¬¡è¾“å‡ºæ­£ç¡®ï¼Œä¹‹åçš„è¾“å‡ºé”™è¯¯ã€‚(å…¶å®ä¸€çœ¼èƒ½çœ‹å‡ºsumæ²¡æœ‰ç½®é›¶)</p>
<p>æ¥ä¸‹æ¥è¿›è¡Œ<code>debug</code>:</p>
<ul>
<li><code>display &lt;variable&gt;</code> è®¾ç½®å˜é‡æ˜¾ç¤º ï¼Œ <code>undisplay &lt;variable&gt;</code>å…³é—­æŸä¸ªå˜é‡æ˜¾ç¤º</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="number">4</span>           <span class="type">int</span> sum = <span class="number">0</span>, i = <span class="number">0</span>;</span><br><span class="line">(gdb) n</span><br><span class="line"><span class="number">7</span>               <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, input);</span><br><span class="line">(gdb)</span><br><span class="line"><span class="number">1234</span></span><br><span class="line"><span class="number">8</span>               <span class="keyword">for</span> (i = <span class="number">0</span>; input[i] != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line">(gdb) display sum	<span class="comment">//æ˜¾ç¤ºå˜é‡</span></span><br><span class="line"><span class="number">1</span>: sum = <span class="number">0</span></span><br><span class="line">(gdb) display input[i]</span><br><span class="line"><span class="number">2</span>: input[i] = <span class="number">49</span> <span class="string">&#x27;1&#x27;</span></span><br><span class="line">(gdb) n</span><br><span class="line"><span class="number">9</span>               sum = sum*<span class="number">10</span> + input[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="number">1</span>: sum = <span class="number">0</span></span><br><span class="line"><span class="number">2</span>: input[i] = <span class="number">49</span> <span class="string">&#x27;1&#x27;</span></span><br><span class="line">(gdb) n</span><br><span class="line"><span class="number">8</span>               <span class="keyword">for</span> (i = <span class="number">0</span>; input[i] != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line"><span class="number">1</span>: sum = <span class="number">1</span></span><br><span class="line"><span class="number">2</span>: input[i] = <span class="number">49</span> <span class="string">&#x27;1&#x27;</span></span><br><span class="line">(gdb)</span><br><span class="line"><span class="number">9</span>               sum = sum*<span class="number">10</span> + input[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="number">1</span>: sum = <span class="number">1</span></span><br><span class="line"><span class="number">2</span>: input[i] = <span class="number">50</span> <span class="string">&#x27;2&#x27;</span></span><br><span class="line">(gdb)</span><br><span class="line"><span class="number">8</span>               <span class="keyword">for</span> (i = <span class="number">0</span>; input[i] != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line"><span class="number">1</span>: sum = <span class="number">12</span></span><br><span class="line"><span class="number">2</span>: input[i] = <span class="number">50</span> <span class="string">&#x27;2&#x27;</span></span><br></pre></td></tr></table></figure>



<p><strong>å°±è¿™æ ·è·Ÿè¸ªäº†å‡ ä¸ªå¾ªç¯ä¼¼ä¹æ²¡æœ‰é”™è¯¯ã€‚å¦‚æœæˆ‘ä»¬ä¸åƒè¿™æ ·é‡å¤è·Ÿè¸ªï¼Œå¯ä»¥è®¾ç½®æ–­ç‚¹ï¼Œè®©ç¨‹åºè‡ªç„¶è¿è¡Œåˆ°æˆ‘ä»¬æƒ³è¦åœæ­¢çš„ä½ç½®ã€‚</strong></p>
<ul>
<li><code>b &lt;lineNumber&gt;</code>è®¾ç½®æ–­ç‚¹ , <code>b</code> :  <code>breakpoint</code> </li>
<li><code>c</code> è¿ç»­æ‰§è¡Œï¼Œç›´åˆ°æ–­ç‚¹å¤„ <code>continue</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line">[New Thread 18408.0x4c14]</span><br><span class="line">input=1234</span><br><span class="line"></span><br><span class="line">Thread 1 hit Breakpoint 2, main () at test.c:7</span><br><span class="line">7               scanf(&quot;%s&quot;, input);</span><br><span class="line">1: sum = 1234</span><br><span class="line">2: input[i] = 0 &#x27;\000&#x27;</span><br><span class="line">(gdb) n</span><br><span class="line">5678</span><br><span class="line">8               for (i = 0; input[i] != &#x27;\0&#x27;; i++)</span><br><span class="line">1: sum = 1234</span><br><span class="line">(gdb) n</span><br><span class="line">9               sum = sum*10 + input[i] - &#x27;0&#x27;;</span><br><span class="line">1: sum = 1234</span><br></pre></td></tr></table></figure>

<p><strong>å¦‚æ­¤ä¾¿æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ï¼šä¸‹ä¸€æ¬¡å¾ªç¯ä¸­ï¼Œsumä¼šåœ¨ä¸Šä¸€æ¬¡å¾ªç¯è¾“å…¥çš„åŸºç¡€ä¸Šè¿›è¡Œç´¯åŠ </strong></p>
<p>åªè¦åœ¨æ¯ä¸€æ¬¡è¾“å…¥è¾“å‡ºç»“æŸåå°†sumç½®é›¶å³å¯ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>, i = <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span> input[<span class="number">8</span>] ;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, input);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; input[i] != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line">        sum = sum*<span class="number">10</span> + input[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;input=%d\n&quot;</span>, sum);</span><br><span class="line">        sum = <span class="number">0</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>i b</code> æŸ¥çœ‹æ‰€æœ‰æ–­ç‚¹ä¿¡æ¯<code>info breakpoints</code></li>
<li><code>delete breakpoints &lt;num&gt;</code> åˆ é™¤æ‰€æŒ‡çš„ç¼–å·æ–­ç‚¹</li>
<li><code>disable breakpoints &lt;num&gt;</code>ç¦ç”¨æ‰€æŒ‡ç¼–å·æ–­ç‚¹</li>
<li><code>enable breakpoints &lt;num&gt;</code></li>
<li><code>run</code> ä»å¤´å¼€å§‹è¿ç»­è€Œéå•æ­¥æ‰§è¡Œç¨‹åº</li>
<li><code> b &lt;num&gt; if &lt;command&gt;</code> è®¾ç«‹è§¦å‘æ–­ç‚¹çš„æ¡ä»¶ï¼Œä¾‹å¦‚<code>b 7 if sum != 0</code></li>
</ul>
<h1 id="è§‚å¯Ÿç‚¹"><a href="#è§‚å¯Ÿç‚¹" class="headerlink" title="è§‚å¯Ÿç‚¹"></a>è§‚å¯Ÿç‚¹</h1><p>ä¾ç„¶æ˜¯ä¹‹å‰çš„ä¾‹å­ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="type">char</span> input[<span class="number">5</span>] ;</span><br><span class="line">   <span class="type">int</span> sum ;</span><br><span class="line">   <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">    sum = <span class="number">0</span> ;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span> , input) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; input[i] != <span class="string">&#x27;\0&#x27;</span> ; i++)&#123;</span><br><span class="line">        sum = sum * <span class="number">10</span> + input[i] - <span class="string">&#x27;0&#x27;</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;input = &quot;</span> &lt;&lt; sum &lt;&lt; endl ;</span><br><span class="line">   &#125; </span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¦‚æœæˆ‘ä»¬æ²¡æœ‰æ³¨æ„åˆ°æ•°ç»„é•¿åº¦ï¼Œè¾“å…¥äº†é•¿åº¦å¤§äº4çš„å­—ç¬¦ä¸²ï¼Œ<code>input</code>äº§ç”Ÿäº†è¶Šç•Œä¼šå‘ç”Ÿä»€ä¹ˆ</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Thread 1 hit Temporary breakpoint 6, main () at test.cpp:7</span><br><span class="line">7           sum = 0 ;</span><br><span class="line">(gdb) n</span><br><span class="line">8           scanf(&quot;%s&quot; , input) ;</span><br><span class="line">(gdb)</span><br><span class="line">12345</span><br><span class="line">9           for(int i = 0 ; input[i] != &#x27;\0&#x27; ; i++)&#123;</span><br><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line">input = 123407</span><br></pre></td></tr></table></figure>

<p><strong>æˆ‘ä»¬å‘ç°è¾“å‡ºä¹Ÿæ˜¯ä¸å¯¹çš„ ï¼Œ ä½† ï¼š</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">(gdb) n</span><br><span class="line">8           scanf(&quot;%s&quot; , input) ;</span><br><span class="line">(gdb)</span><br><span class="line">12345</span><br><span class="line">9           for(int i = 0 ; input[i] != &#x27;\0&#x27; ; i++)&#123;</span><br><span class="line">(gdb) p input</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">13 = <span class="string">&quot;12345&quot;</span></span></span><br><span class="line">(gdb) x/8b input # ä»¥byteä¸ºå•ä½ï¼Œæ‰“å°inputå8ä¸ªbyteåœ°å€çš„ä¿¡æ¯</span><br><span class="line">0x61fe13:       49      50      51      52      53      0       0       0</span><br></pre></td></tr></table></figure>

<p><strong>æˆ‘ä»¬è¾“å…¥<code>12345</code>åï¼ŒæŸ¥çœ‹inputå†…çš„å€¼ï¼Œå‘ç°æŒ‰ç…§ç¨‹åºé€»è¾‘ï¼Œ<code>for</code>å¾ªç¯ä¹Ÿä¼šåœ¨<code>i = 5</code>å¤„ç»“æŸ</strong></p>
<p><strong>ç»“æœåº”è¯¥ä»ä¸º12345</strong> ,  <strong>è«é<code>input[5]æœ‰å˜åŒ–ï¼Ÿ</code></strong></p>
<ul>
<li><code>watch &lt;varible&gt;</code>è§‚å¯Ÿç‚¹å˜é‡è¢«è®¿é—®ä¿®æ”¹æ—¶ï¼Œç¨‹åºä¸­æ–­</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Thread 1 hit Temporary breakpoint 11, main () at test.cpp:7</span><br><span class="line">7           sum = 0 ;</span><br><span class="line">(gdb) n</span><br><span class="line">8           scanf(&quot;%s&quot; , input) ;</span><br><span class="line">(gdb)</span><br><span class="line">12345</span><br><span class="line">9           for(int i = 0 ; input[i] != &#x27;\0&#x27; ; i++)&#123;</span><br><span class="line">(gdb) i watchpoints</span><br><span class="line">No watchpoints.</span><br><span class="line">(gdb) watch input [5]</span><br><span class="line">Hardware watchpoint 12: input [5]</span><br><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line"></span><br><span class="line">Thread 1 hit Hardware watchpoint 12: input [5]</span><br><span class="line"></span><br><span class="line">Old value = 0 &#x27;\000&#x27;</span><br><span class="line">New value = 1 &#x27;\001&#x27;</span><br><span class="line">0x0000000000401607 in main () at test.cpp:9</span><br><span class="line">9           for(int i = 0 ; input[i] != &#x27;\0&#x27; ; i++)&#123;</span><br><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line"></span><br><span class="line">Thread 1 hit Hardware watchpoint 12: input [5]</span><br><span class="line"></span><br><span class="line">Old value = 1 &#x27;\001&#x27;</span><br><span class="line">New value = 2 &#x27;\002&#x27;</span><br><span class="line">0x0000000000401607 in main () at test.cpp:9</span><br><span class="line">9           for(int i = 0 ; input[i] != &#x27;\0&#x27; ; i++)&#123;</span><br><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line"></span><br><span class="line">Thread 1 hit Hardware watchpoint 12: input [5]</span><br><span class="line"></span><br><span class="line">Old value = 2 &#x27;\002&#x27;</span><br><span class="line">New value = 3 &#x27;\003&#x27;</span><br><span class="line">0x0000000000401607 in main () at test.cpp:9</span><br><span class="line">9           for(int i = 0 ; input[i] != &#x27;\0&#x27; ; i++)&#123;</span><br></pre></td></tr></table></figure>

<p><strong>æˆ‘ä»¬å‘ç°æ¯ä¸€æ¬¡forå¾ªç¯è¿è¡Œæ—¶<code>input[5]</code>ä¼šï¼‹1 ï¼Œ å¯çŸ¥ i &#x3D; 5 æ—¶ ï¼Œ sum &#x3D; 12345 * 10  + 5 - 48  &#x3D; 123407</strong></p>
<p><strong>ä¹Ÿå°±æ˜¯è¯´<code>input[5]å¯¹åº”çš„å°±æ˜¯i</code> , æ¢å¥è¯è¯´ï¼Œiçš„åœ°å€æ˜¯ &amp;input[5]</strong></p>
<p><strong>ä¿®æ”¹</strong>ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="type">char</span> input[<span class="number">5</span>] ;</span><br><span class="line">   <span class="type">int</span> sum ;</span><br><span class="line">   <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">    sum = <span class="number">0</span> ;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span> , input) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; input[i] != <span class="string">&#x27;\0&#x27;</span> ; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(input[i] &lt; <span class="string">&#x27;0&#x27;</span> || input[i] &gt; <span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;invalid input !&quot;</span> &lt;&lt; endl ;</span><br><span class="line">            sum = <span class="number">-1</span> ;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        sum = sum * <span class="number">10</span> + input[i] - <span class="string">&#x27;0&#x27;</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;input = &quot;</span> &lt;&lt; sum &lt;&lt; endl ;</span><br><span class="line">   &#125; </span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>Gitå­¦ä¹ ç¬”è®°</title>
    <url>/posts/a91eaa72/</url>
    <content><![CDATA[<p>Gitå­¦ä¹ ç¬”è®° by ã€Š<a href="https://git-scm.com/book/zh/v2">ProGit</a>ã€‹</p>
<span id="more"></span>

<h1 id="Gitè®¾è®¡ç†å¿µ"><a href="#Gitè®¾è®¡ç†å¿µ" class="headerlink" title="Gitè®¾è®¡ç†å¿µ"></a>Gitè®¾è®¡ç†å¿µ</h1><ul>
<li><p><strong>Gitç›´æ¥è®°å½•å¿«ç…§ï¼Œè€Œéå·®å¼‚æ¯”è¾ƒ</strong></p>
</li>
<li><p>åŸºäºå·®å¼‚**(Delta-based)** , åƒCSVã€Subversionã€Perforceã€‚å®ƒä»¬å¦‚ä½•å»ºç«‹æ–°ç‰ˆæœ¬ï¼šåœ¨ç‰ˆæœ¬1çš„åŸºç¡€ä¸Šï¼Œå»ºç«‹ä¸€ä¸ªè®°å½•<code>ç‰ˆæœ¬2(æ–°ç‰ˆæœ¬)</code>ä¸<code>ç‰ˆæœ¬1</code>å·®å¼‚çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬ç§°å…¶ä¸º$\Delta1$ .å½“æˆ‘ä»¬éœ€è¦è¯»å–ç‰ˆæœ¬2æ—¶ï¼Œå¯ä»¥é€šè¿‡**$ç‰ˆæœ¬1 + \Delta1$** è®¡ç®—å¾—å‡ºç‰ˆæœ¬2ã€‚</p>
</li>
<li><p>Gitå¿«ç…§æµ<strong>ï¼Œæäº¤åï¼Œå»ºç«‹ä¸€ä¸ªæ–°çš„å¿«ç…§ï¼šå¯¹</strong>ä¿®æ”¹è¿‡çš„æ–‡ä»¶<strong>å»ºç«‹ä¸€ä¸ªæ–°çš„å¿«ç…§å¹¶ä¿å­˜å…¶ç´¢å¼•ï¼Œå¯¹</strong>æœªä¿®æ”¹çš„æ–‡ä»¶<strong>å¹¶ä¸é‡æ–°å­˜å‚¨</strong>ï¼Œè€Œæ˜¯<strong>åªä¿ç•™ä¸€ä¸ªé“¾æ¥</strong>æŒ‡å‘æ—§æ–‡ä»¶</p>
</li>
</ul>
<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img src="https://git-scm.com/book/en/v2/images/deltas.png" alt="åŸºäºå·®å¼‚æ¯”è¾ƒ"></div><div class="group-picture-column"><img src="https://git-scm.com/book/en/v2/images/snapshots.png" alt="æ•°æ®æµ-å¿«ç…§"></div></div></div>

<h1 id="Git-åŸºç¡€"><a href="#Git-åŸºç¡€" class="headerlink" title="Git åŸºç¡€"></a>Git åŸºç¡€</h1><h2 id="Gitå·¥ä½œçŠ¶æ€"><a href="#Gitå·¥ä½œçŠ¶æ€" class="headerlink" title="Gitå·¥ä½œçŠ¶æ€"></a>Gitå·¥ä½œçŠ¶æ€</h2><p><strong>ä¸‰ç§çŠ¶æ€ï¼š</strong><code>å·²æäº¤(committed)</code>ã€<code>å·²ä¿®æ”¹(modified)</code>ã€<code>å·²æš‚å­˜(staged) </code>, å¯¹åº”ä¸‰ä¸ªé˜¶æ®µï¼š<code>å·¥ä½œåŒº</code>ã€<code>æš‚å­˜åŒº</code>ã€<code>Gitç›®å½•(ä»“åº“)</code>ã€‚</p>
<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img src="https://git-scm.com/book/en/v2/images/areas.png" alt="Gitä¸‰ä¸ªé˜¶æ®µ"></div><div class="group-picture-column"><img src="https://git-scm.com/book/en/v2/images/lifecycle.png" alt="æ–‡ä»¶çŠ¶æ€å˜åŒ–å‘¨æœŸ"></div></div></div>

<h2 id="Gité…ç½®"><a href="#Gité…ç½®" class="headerlink" title="Gité…ç½®"></a>Gité…ç½®</h2><p>å®‰è£…Gitåæ·»åŠ ç”¨æˆ·ä¿¡æ¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;benkangpeng&quot;</span><br><span class="line">git config --global user.email benkangpeng@163.com</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> /c/user/my_project</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git init <span class="comment"># åˆå§‹åŒ–git</span></span></span><br></pre></td></tr></table></figure>

<h2 id="GitåŸºæœ¬æ“ä½œ"><a href="#GitåŸºæœ¬æ“ä½œ" class="headerlink" title="GitåŸºæœ¬æ“ä½œ"></a>GitåŸºæœ¬æ“ä½œ</h2><h3 id="è·å–mannul"><a href="#è·å–mannul" class="headerlink" title="è·å–mannul"></a>è·å–mannul</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git &lt;verb&gt; -h</span><br></pre></td></tr></table></figure>

<p>ex :  <code>git add -h</code></p>
<h3 id="git-init"><a href="#git-init" class="headerlink" title="git init"></a>git init</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> /my_project/</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git init</span></span><br></pre></td></tr></table></figure>

<p>åˆå§‹åŒ–Gitä»“åº“ï¼Œæ­¤æ—¶ä¼šåœ¨my_projectæ–‡ä»¶å¤¹ä¸­ç”Ÿæˆ<code>.git</code>å­ç›®å½•ç”¨äºå­˜æ”¾ç‰ˆæœ¬æ§åˆ¶æ–‡ä»¶ã€‚æ³¨æ„ï¼š<strong>æ­¤æ—¶è¿˜æ²¡å¯¹é¡¹ç›®æ–‡ä»¶è¿›è¡Œè·Ÿè¸ª</strong> , è¿˜éœ€è¦<code>git add</code>è·Ÿè¸ªæ‰€éœ€æ–‡ä»¶ã€‚</p>
<p>git add</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git *.c  <span class="comment"># è·Ÿè¸ªæ‰€æœ‰åç¼€ä¸º.cæ–‡ä»¶</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git README.md</span></span><br></pre></td></tr></table></figure>

<p><code>git add</code>å†…æ¶µï¼š</p>
<p>è¦æš‚å­˜è¿™æ¬¡æ›´æ–°ï¼Œéœ€è¦è¿è¡Œ <code>git add</code> å‘½ä»¤ã€‚ è¿™æ˜¯ä¸ª<strong>å¤šåŠŸèƒ½</strong>å‘½ä»¤ï¼šâ‘ å¯ä»¥ç”¨å®ƒå¼€å§‹è·Ÿè¸ªæ–°æ–‡ä»¶ï¼Œâ‘¡æˆ–è€…æŠŠå·²è·Ÿè¸ªçš„æ–‡ä»¶æ”¾åˆ°æš‚å­˜åŒºï¼Œè¿˜èƒ½ç”¨äºåˆå¹¶æ—¶æŠŠæœ‰å†²çªçš„æ–‡ä»¶æ ‡è®°ä¸ºå·²è§£å†³çŠ¶æ€ç­‰ã€‚ å°†è¿™ä¸ªå‘½ä»¤ç†è§£ä¸ºâ€œ<u>ç²¾ç¡®åœ°å°†å†…å®¹æ·»åŠ åˆ°<strong>ä¸‹ä¸€æ¬¡æäº¤</strong>ä¸­</u>â€è€Œä¸æ˜¯â€œå°†ä¸€ä¸ªæ–‡ä»¶æ·»åŠ åˆ°é¡¹ç›®ä¸­â€è¦æ›´åŠ åˆé€‚ã€‚ </p>
<h3 id="git-status"><a href="#git-status" class="headerlink" title="git status"></a>git status</h3><p>æ˜¾ç¤ºå½“å‰æ–‡ä»¶å¤¹gitçŠ¶å†µã€‚</p>
<blockquote>
<p>On branch master</p>
<p>No commits yet</p>
<p>Changes to be committed:<br>  (use â€œgit rm â€“cached <file>â€¦â€ to unstage)<br>        new file:   README.md</p>
<p>Untracked files:<br>  (use â€œgit add <file>â€¦â€ to include in what will be committed)<br>        CONTRIBUTING.md</p>
</blockquote>
<p>å¦‚ä¸Šæ˜¾ç¤ºçš„æ˜¯ï¼Œ<code>README.md</code>å·²è¢«è·Ÿè¸ªï¼Œè€Œ<code>CONTRIBUTING.md</code>æœªè¢«è·Ÿè¸ªã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git add CONTRIBUTING.md</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> `My project` &gt; README.md</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git status</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>On branch master</p>
<p>No commits yet</p>
<p>Changes to be committed:<br>  (use â€œgit rm â€“cached <file>â€¦â€ to unstage)<br>        new file:   CONTRIBUTING.md<br>        new file:   README.md</p>
<p>Changes not staged for commit:<br>  (use â€œgit add <file>â€¦â€ to update what will be committed)<br>  (use â€œgit restore <file>â€¦â€ to discard changes in working directory)<br>        modified:   README.md</p>
</blockquote>
<ul>
<li>æ­¤æ—¶<code>CONTRIBUTING.md</code>å·²ç»è¢«è·Ÿè¸ª</li>
<li>æç¤ºæœ‰<code>å¾…æäº¤çš„ä¿®æ”¹</code> (changes to be committed) ,  <code>CONTRIBUTING.md</code>å’Œ<code>README.md</code>æ²¡æœ‰æäº¤ã€‚(è‡³äºchanges , å³<code>new file</code> , gitå°†<code>åˆ›ç«‹æ–‡ä»¶</code>ä¹Ÿè§†ä¸º<code>changes</code>)</li>
<li><code>Changes not staged for commit</code> ï¼š æˆ‘ä»¬åˆšæ‰å‘<code>README,md</code>å†™å…¥äº†<code>My project</code> , ä½†æ²¡æœ‰å°†æ–°ç‰ˆæœ¬çš„<code>README.md</code>æ·»åŠ è¿›å…¥æš‚å­˜åŒº<code>stage</code> ã€‚å¯æ‰§è¡Œæ“ä½œ<code>git add README.md</code></li>
<li>ä¸Šé¢è¿™æ¡å†ä¸€æ¬¡ä½“ç°äº†<code>git add</code>çš„åŒé‡å‘½ä»¤ï¼Œæˆ–å°†å…¶ç†è§£ä¸º<code>ä¸ºæ–‡ä»¶æäº¤(commit)åšå¥½é¢„å¤‡</code></li>
</ul>
<h3 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h3><p>åˆ›å»º<code>.gitignore</code>æ–‡ä»¶å¿½ç•¥è¿½è¸ª</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">touch</span> .gitignore</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git add .gitignore</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">You must add .gitignore into the staging area to make it work .</span></span><br></pre></td></tr></table></figure>

<p>å¸¸è§è¯­æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å¿½ç•¥æ‰€æœ‰çš„ .a æ–‡ä»¶</span><br><span class="line">*.a</span><br><span class="line"># ä½†è·Ÿè¸ªæ‰€æœ‰çš„ lib.aï¼Œå³ä¾¿ä½ åœ¨å‰é¢å¿½ç•¥äº† .a æ–‡ä»¶</span><br><span class="line">!lib.a</span><br><span class="line"># åªå¿½ç•¥å½“å‰ç›®å½•ä¸‹çš„ TODO æ–‡ä»¶ï¼Œè€Œä¸å¿½ç•¥ subdir/TODO</span><br><span class="line">/TODO</span><br><span class="line"># å¿½ç•¥ä»»ä½•ç›®å½•ä¸‹åä¸º build çš„æ–‡ä»¶å¤¹</span><br><span class="line">build/</span><br><span class="line"># å¿½ç•¥ doc/notes.txtï¼Œä½†ä¸å¿½ç•¥ doc/server/arch.txt</span><br><span class="line">doc/*.txt</span><br><span class="line"># å¿½ç•¥ doc/ ç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•ä¸‹çš„ .pdf æ–‡ä»¶</span><br><span class="line">doc/**/*.pdf</span><br></pre></td></tr></table></figure>

<h3 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h3><ul>
<li><p><code>git diff</code> æŸ¥çœ‹<strong>åŒä¸€</strong>æ–‡ä»¶<code>å·²æš‚å­˜</code>ä¸<code>æœªæš‚å­˜</code>çš„ä¸¤ä¸ªç‰ˆæœ¬çš„å·®å¼‚</p>
<p>eg.  åœ¨<code>README.md</code>ä¸­æ·»åŠ ä¸€è¡Œ<code>å“ˆå“ˆ</code> ï¼Œno stage ,  ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹:</p>
</li>
</ul>
<blockquote>
<p>$ git diff README.md<br>diff â€“git a&#x2F;README.md b&#x2F;README.md<br>index 6fcadd0..b2f8c83 100644<br>â€” a&#x2F;README.md<br>+++ b&#x2F;README.md<br>@@ -1 +1,3 @@<br>My project~<br>+<br>+å“ˆå“ˆ<br>\ No newline at end of file</p>
</blockquote>
<ul>
<li><code>git diff --staged</code> æŸ¥çœ‹<code>å·²æš‚å­˜æ–‡ä»¶</code>ä¸<code>æœ€åä¸€æ¬¡æäº¤æ–‡ä»¶</code>çš„å·®å¼‚.</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git diff --staged README.md</span></span><br></pre></td></tr></table></figure>



<h3 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h3><p>æ¯æ¬¡å‡†å¤‡æäº¤å‰ï¼Œå…ˆç”¨ <code>git status</code> çœ‹ä¸‹ï¼Œä½ æ‰€éœ€è¦çš„æ–‡ä»¶æ˜¯ä¸æ˜¯éƒ½<strong>å·²æš‚å­˜</strong>èµ·æ¥äº†ï¼Œ ç„¶åå†è¿è¡Œæäº¤å‘½ä»¤ <code>git commit</code>ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit -m <span class="string">&quot;the first commit&quot;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>-m</code> : æ·»åŠ æäº¤ä¿¡æ¯message</p>
</li>
<li><p>â€œthe first commitâ€ : æäº¤çš„ä¿¡æ¯ï¼ŒåŒºåˆ†æ¯ä¸€æ¬¡æäº¤åšäº†å“ªäº›å¤§ä½“çš„ä¿®æ”¹</p>
</li>
<li><p><code>git commit -a</code>è·³è¿‡æš‚å­˜åŒºï¼Œç›´æ¥å°†ä¸ºæš‚å­˜çš„æ–‡ä»¶commit .</p>
</li>
</ul>
<h3 id="git-rm"><a href="#git-rm" class="headerlink" title="git rm"></a>git rm</h3><ul>
<li>å¦‚æœä½ æƒ³ä»ç£ç›˜æ ¹æœ¬åˆ é™¤<code>æœªæš‚å­˜çš„æ–‡ä»¶</code>:</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">rm</span> PROJECT.md</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ä»æš‚å­˜åŒºåˆ é™¤(å–æ¶ˆè·Ÿè¸ª)æ–‡ä»¶(ä»ä¿å­˜åœ¨ç£ç›˜é‡Œï¼‰ï¼š</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">rm</span> -f PROJECT.md <span class="comment">#-force , å¼ºåˆ¶åˆ é™¤</span></span></span><br></pre></td></tr></table></figure>

<h3 id="git-mv"><a href="#git-mv" class="headerlink" title="git mv"></a>git mv</h3><ul>
<li><code>git mv</code> ç§»åŠ¨æ–‡ä»¶ or é‡å‘½åæ–‡ä»¶ã€‚</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">mv</span> Project.md PROJECT.md</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°å‘½ä»¤ç›¸å½“äºï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">mv</span> Project.md PROJECT.md</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">rm</span> Project.md <span class="comment"># ä»æš‚å­˜åŒºç§»é™¤Project.md</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git add PROJECT.md <span class="comment"># è·Ÿè¸ªPROJECT.md</span></span></span><br></pre></td></tr></table></figure>

<h3 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h3><ul>
<li><code>git log</code> æ˜¾ç¤ºæ‰€æœ‰æäº¤æ—¥å¿—</li>
<li><code>git log -2</code> æ˜¾ç¤ºæœ€è¿‘ä¸¤æ¡æ—¥å¿—</li>
<li><code>git log -p</code> æŒ‰è¡¥ä¸æ ¼å¼æ˜¾ç¤ºæ¯ä¸ªæäº¤å¼•å…¥çš„å·®å¼‚</li>
<li><code>git log --pretty=oneline</code>æ˜¾ç¤ºæ ¼å¼ä¸ºä¸€è¡Œ</li>
<li>æ­¤å¤–è¿˜æœ‰ä¸€äº›å‚æ•°è¿‡æ»¤æ—¥å¿—å†…å®¹ï¼Œä¾‹å¦‚<code>--since``--author</code>ç­‰ï¼Œå¯æŸ¥æ–‡æ¡£ã€‚</li>
</ul>
<h3 id="git-commit-â€“amend"><a href="#git-commit-â€“amend" class="headerlink" title="git commit â€“amend"></a>git commit â€“amend</h3><ul>
<li>æäº¤åå‘ç°ä¸Šä¸€æ¬¡æäº¤æœ‰äº›è®¸ç‘•ç–µï¼Œä¾‹å¦‚messageå†™é”™äº†ã€æ²¡æœ‰è·Ÿè¸ªä¸ŠæŸä¸ªæ–‡ä»¶ ï¼Œä½†åˆä¸æƒ³å†ä¸€æ¬¡æäº¤ï¼Œæƒ³è¦†ç›–ä¸Šä¸€æ¬¡æäº¤ã€‚</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit --amend -m <span class="string">&quot;the right message&quot;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h3><ul>
<li>å¼ºåˆ¶é‡ç½®(åˆ é™¤)æŸä¸ªcommit, ä¾‹å¦‚<code>git reset --hard HEAD~1</code>åˆ é™¤ä¸Šä¸€æ¬¡æäº¤ã€‚</li>
<li>å–æ¶ˆæš‚å­˜çš„æ–‡ä»¶ï¼Œä¾‹å¦‚å°†<code>CONTRIBUTING.md</code>æ–‡ä»¶å–å‡º&#96;&#96;stageing area<code>,</code>git reset HEAD CONTRIBUTING.md&#96;</li>
</ul>
<h3 id="git-rebase"><a href="#git-rebase" class="headerlink" title="git rebase"></a>git rebase</h3><p><a href="https://git-scm.com/book/en/v2/Git-Branching-Rebasing">ğŸ”—å®˜æ–¹æ–‡æ¡£-å†™å¾—å¾ˆå¥½</a></p>
<p><code>git rebase</code>å‘½ä»¤æ˜¯ç”¨äºè§£å†³å¼€å‘è€…ä»“åº“ä¸ä¸Šæ¸¸<code>upstream</code>ä»“åº“ä¹‹é—´åŒæ­¥é—®é¢˜çš„å‘½ä»¤ã€‚</p>
<img src="https://pic1.imgdb.cn/item/6824495358cb8da5c8f18c52.png" alt="git rebaseç¤ºæ„å›¾">

<p>ä»¥<code>TVM</code>ä¸ºä¾‹ï¼Œä½ <code>fork</code>å®Œtvmåï¼Œæäº¤äº†ä¸¤ä¸ªcommitï¼Œåœ¨æ­¤æœŸé—´ï¼Œtvm upstreamåˆæ›´æ–°äº†ä¸¤ä¸ªcommitï¼Œè¿™æ—¶å¦‚ä½•å°†ä½ çš„commitè´¡çŒ®ç»™ä¸Šæ¸¸å‘¢ï¼Ÿ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git fetch upstream #å°†ä¸Šæ¸¸ä»“åº“æ›´æ–°åˆ°æœ¬åœ°ï¼Œä½†ä¸åˆå¹¶(ä¸git pullä¸åŒ)</span><br><span class="line">git switch main</span><br><span class="line">git rebase upstream/main #ä»¥upstreamä¸ºåŸºï¼Œå°†ä½ çš„commitè´´åˆ°upstreamä¹‹å(æ³¨æ„ï¼šå¹¶ä¸æ˜¯å˜æ›´Upstream/mainï¼Œè€Œæ˜¯æ”¹å˜äº†origin/main)</span><br><span class="line">git push origin main #æ›´æ–°origin</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åœ¨githubä¸Šcontribute</span></span><br></pre></td></tr></table></figure>

<p><code>git rebase</code>çš„å·¥ä½œæµç¨‹ï¼š</p>
<p>å¦‚æœ<code>git rebase</code>å‘ç”Ÿå†²çªï¼Œåˆ™éœ€è¦æ‰‹åŠ¨è§£å†³å†²çªï¼Œå¹¶:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git add &lt;conflicit file&gt;</span><br><span class="line">git rebase upstream --continue</span><br></pre></td></tr></table></figure>



<h3 id="æ–‡ä»¶ç‰ˆæœ¬å›æº¯"><a href="#æ–‡ä»¶ç‰ˆæœ¬å›æº¯" class="headerlink" title="*æ–‡ä»¶ç‰ˆæœ¬å›æº¯"></a>*æ–‡ä»¶ç‰ˆæœ¬å›æº¯</h3><p>æ¡ˆä¾‹ï¼š<code>commit log</code>å¦‚ä¸‹ï¼Œè‡ªä»<code>git clone</code>ä»¥æ¥ï¼Œæˆ‘æäº¤äº†<code>version 1</code>å’Œ<code>version2</code>.æ•´ä¸ªé¡¹ç›®åªæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼š<code>check.md</code>å’Œ<code>README.md</code>. æˆ‘ç°åœ¨æƒ³å°†<code>check.md</code>è¿˜åŸåˆ°<code>version 1</code>çš„çŠ¶æ€ï¼Œä½†<code>README.md</code>ä¸ç”¨è¿˜åŸã€‚(å¯ä»¥ç†è§£ä¸ºæˆ‘åçŸ¥åè§‰æ„è¯†åˆ°<code>version2</code>ä¸­å¯¹<code>check.md</code>çš„ä¿®æ”¹æ˜¯é”™è¯¯çš„ã€‚)</p>
<blockquote>
<p>$ git log â€“pretty&#x3D;oneline<br>bc03ee1185c084b514ff44a9520ab5d29777b600 (HEAD) version2<br>3d44a28a78ffba2eab8d0718e34c3f7463cfa2a1 version 1<br>86d413d821c361c0245859fddd9c6258f698f16f (tag: v1.0, origin&#x2F;main, origin&#x2F;HEAD) colle<br>ct some ways to github<br>1bfa40c95f5b2a5a086421889e60321ef056fbc0 (tag: v0.1) the first commit by git push<br>a41ee579c6756e653d380b2e08426ea74f77841d (tag: v0.0) Create README.md</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git reset 3d44a  <span class="comment"># 3d44aæ˜¯version1çš„æ•ˆéªŒç ï¼Œæ²¡å†™å®Œæ•´</span></span></span><br><span class="line">Unstaged changes after reset:</span><br><span class="line">M       README.md</span><br><span class="line">M       check.md</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ°version1å,æœ¬åœ°æ–‡ä»¶æ˜¯æ²¡æœ‰å‘ç”Ÿå˜åŒ–çš„(ä»æ˜¯version2çš„snapshot),å› æ­¤ä¼šæç¤º`unstaged changes</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git status</span></span><br><span class="line">HEAD detached from 86d413d</span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line">        modified:   README.md</span><br><span class="line">        modified:   check.md</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚ä½•æ¢å¤check.mdï¼Œä¸Šé¢çš„ä¿¡æ¯ä¹Ÿæç¤ºæˆ‘ä»¬äº†â€œgit restore &lt;file&gt;â€</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git restore check.md &amp;&amp; git add README.md</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --pretty=oneline</span></span><br><span class="line">3d44a28a78ffba2eab8d0718e34c3f7463cfa2a1 (HEAD) version 1</span><br><span class="line">86d413d821c361c0245859fddd9c6258f698f16f (tag: v1.0, origin/main, origin/HEAD) colle</span><br><span class="line">ct some ways to github</span><br><span class="line">1bfa40c95f5b2a5a086421889e60321ef056fbc0 (tag: v0.1) the first commit by git push</span><br><span class="line">a41ee579c6756e653d380b2e08426ea74f77841d (tag: v0.0) Create README.md</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">END</span></span><br></pre></td></tr></table></figure>

<p><del>ä½†ä»¥ä¸Šåšæ³•åˆ é™¤äº†version2çš„æäº¤ä¿¡æ¯ã€‚æ˜¯å¦å­˜åœ¨æ–¹æ³•ï¼Œåªè¿›è¡Œå•ä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å›æº¯å‘¢ï¼Ÿç°åœ¨è¿˜æ²¡è§£å†³â€¦â€¦</del></p>
<h3 id="å•æ–‡ä»¶ç‰ˆæœ¬å›æº¯"><a href="#å•æ–‡ä»¶ç‰ˆæœ¬å›æº¯" class="headerlink" title="*å•æ–‡ä»¶ç‰ˆæœ¬å›æº¯"></a>*å•æ–‡ä»¶ç‰ˆæœ¬å›æº¯</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --pretty=oneline</span></span><br><span class="line">05bfc3c25ca3ee80247f3ec24b4936d2d7e7d2c1 (HEAD) version3</span><br><span class="line">245a8ddd0c2bfc01c2444930e2ed11b04320d354 version2</span><br><span class="line">3d44a28a78ffba2eab8d0718e34c3f7463cfa2a1 version 1</span><br><span class="line">86d413d821c361c0245859fddd9c6258f698f16f (tag: v1.0, origin/main, origin/HEAD) colle</span><br><span class="line">ct some ways to github</span><br><span class="line">1bfa40c95f5b2a5a086421889e60321ef056fbc0 (tag: v0.1) the first commit by git push</span><br><span class="line">a41ee579c6756e653d380b2e08426ea74f77841d (tag: v0.0) Create README.md</span><br></pre></td></tr></table></figure>

<ul>
<li>å°†<code>check.md</code>å›æº¯åˆ°ç‰ˆæœ¬1ï¼Œå…¶ä»–æ–‡ä»¶ä¸å˜ï¼Œ<code>git checkout &lt;hash&gt; check.md</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout 3d44a28a check.md</span></span><br><span class="line">Updated 1 path from aab7394</span><br></pre></td></tr></table></figure>

<h3 id="ä¸è¿œç¨‹ä»“åº“è”åŠ¨"><a href="#ä¸è¿œç¨‹ä»“åº“è”åŠ¨" class="headerlink" title="ä¸è¿œç¨‹ä»“åº“è”åŠ¨"></a>ä¸è¿œç¨‹ä»“åº“è”åŠ¨</h3><ul>
<li><code>git remote add &lt;name&gt; &lt;url&gt;</code> æ·»åŠ è¿œç¨‹ä»“åº“ï¼Œä¾‹å¦‚<code>git remote add getback https://github.com/BenkangPeng/GetBack.git</code> , ä¹‹åå¯ç”¨åç§°<code>getback</code>ä»£æ›¿ç½‘å€è¿›è¡Œæ“ä½œã€‚ç±»ä¼¼äº<code>C</code>é‡Œçš„<code>#define</code></li>
<li><code>git remote -v</code>æ˜¾ç¤ºå·²æ·»åŠ çš„è¿œç¨‹ä»“åº“, <code>git remote</code>ç®€ç•¥æ˜¾ç¤ºã€‚</li>
<li><code>git remote rename name1 name2</code> ä¿®æ”¹ä»“åº“<strong>ä»£ç§°</strong>ï¼Œå®é™…è¿œç¨‹ä»“åº“(æ¯”å¦‚Githubä¸Šçš„ä»“åº“ï¼‰åç§°æ²¡è¢«ä¿®æ”¹ã€‚</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote add getback https://github.com/BenkangPeng/GetBack.git</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote -v</span></span><br><span class="line">getback https://github.com/BenkangPeng/GetBack.git (fetch)</span><br><span class="line">getback https://github.com/BenkangPeng/GetBack.git (push)</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote rename getback GetBack</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote</span></span><br><span class="line">GetBack</span><br></pre></td></tr></table></figure>

<ul>
<li><code>git fetch</code> è·å–ä»“åº“çš„æ›´æ–°ã€‚ä¾‹å¦‚ï¼Œä½ åœ¨1å¹´ä»¥å‰<code>clone</code>äº†ä»“åº“<code>A</code> , ä½†åœ¨è¿‡å»ä¸€å¹´å†…ï¼Œä»“åº“<code>A</code>å…¶ä»–å¼€æºè´¡çŒ®è€…æäº¤äº†è®¸å¤šå†…å®¹ï¼Œç”šè‡³äº§ç”Ÿäº†åˆ†æ”¯ï¼Œ<code>git fetch &lt;url&gt;</code>å°†ä»“åº“<code>A</code>çš„è¿™äº›æ›´æ–°æ•°æ®ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä½†ä¸ä¼šæ”¹å˜æœ¬åœ°çŠ¶æ€ï¼š<strong>ä¸ä¼šè‡ªåŠ¨åˆå¹¶åˆ†æ”¯æˆ–ä¿®æ”¹ä½ å½“å‰çš„å·¥ä½œ</strong>ã€‚å½“ç„¶ä½ å¯ä»¥æ‰‹åŠ¨åˆå¹¶åˆ†æ”¯ã€æ›´æ–°æœ¬åœ°ä»“åº“ã€‚</li>
<li><code>git clone &lt;url&gt;</code>å…‹éš†ä»“åº“ã€‚å°†<code>&lt;url&gt;</code>å¯¹åº”çš„ä»“åº“å…‹éš†åˆ°æœ¬åœ°ï¼Œä¸<code>git fetch</code>ä¸åŒçš„æ˜¯ï¼Œå®ƒå°†è¦†ç›–æœ¬åœ°å·¥ä½œã€‚</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">clone</span> https://github.com/BenkangPeng/GetBack.git</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> GetBack/</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote -v</span></span><br><span class="line">origin  https://github.com/BenkangPeng/GetBack.git (fetch)</span><br><span class="line">origin  https://github.com/BenkangPeng/GetBack.git (push)</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å…‹éš†å®Œä»“åº“åï¼Œgitä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªoriginçš„è¿œç¨‹ä»“åº“ï¼Œå¯¹åº”çš„å°±æ˜¯å…‹éš†çš„ä»“åº“url</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¯¹GetBackè¿›è¡Œä¿®æ”¹â€¦â€¦</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push origin main</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å°†æœ¬åœ°çš„mainåˆ†æ”¯(ä¸»æ”¯)æäº¤åˆ°è¿œç¨‹ä»“åº“origin</span></span><br></pre></td></tr></table></figure>

<p>å…³äº<code>ä¸»åˆ†æ”¯</code> <code>master</code>æ”¹ä¸º<code>main</code>ï¼Œè¿˜é¢‡æœ‰æ„å‘³ã€‚<a href="https://github.com/github/renaming">github&#x2F;renaming</a>        <a href="https://zhuanlan.zhihu.com/p/257179306">ä¹å­ on çŸ¥ä¹</a></p>
<h3 id="Tag"><a href="#Tag" class="headerlink" title="Tag"></a>Tag</h3><ul>
<li><code>git tag -a &lt;v1.0&gt; -m &quot;version 1.0&quot;</code> æ·»åŠ <code>annotated tag</code> , <code>git tag v1.0</code>æ·»åŠ <code>lightweight</code>æ ‡ç­¾ã€‚</li>
<li><code>git tag</code>æ˜¾ç¤ºæ‰€æœ‰æ ‡ç­¾ï¼Œ<code>git show &lt;v1.0&gt; </code>æ˜¾ç¤ºæŸä¸ªæ ‡ç­¾ä¿¡æ¯</li>
<li><code>git tag &lt;version&gt; &lt;verify code&gt;</code>ä¸ºä¹‹å‰æŸä¸€æ¬¡<code>commit</code>è¡¥å……<code>tag</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --pretty=oneline</span></span><br><span class="line">dd0a36aec54a58a9f3427f5f33b1ee97802949b0 (HEAD -&gt; master, tag: v1.0) </span><br><span class="line">3d4057629e1e3515667c7e826817a9ab5a29f306 the second commit</span><br><span class="line">349775b9754e9113e549a9d734707bff38f2e3b4 the first commit</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag v0.0 34977</span></span><br></pre></td></tr></table></figure>

<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>git push</code>ä¸ä¼šé¡ºå¸¦å°†æ¯ä¸€ä¸ª<code>commit</code> çš„<code>tag</code>æäº¤ï¼Œéœ€æ‰‹åŠ¨è®¾ç½®ã€‚<code>git push origin &lt;tagname&gt;</code>ä¸Šä¼ å•ä¸ª<code>tag</code>  ,  <code>git push origin --tags </code>æ¨é€æ‰€æœ‰<code>tags</code></li>
<li><code>git tag -d &lt;tagname&gt;</code>åˆ é™¤æ ‡ç­¾ï¼Œä½†ä¸ä¼šåˆ é™¤è¿œç¨‹ä»“åº“(&#96;&#96;remote<code>)çš„</code>tags<code> , éœ€ç”¨</code>git push origin â€“delete <tagname>&#96;</li>
</ul>
<h1 id="Gitåˆ†æ”¯"><a href="#Gitåˆ†æ”¯" class="headerlink" title="Gitåˆ†æ”¯"></a>Gitåˆ†æ”¯</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch testing	<span class="comment">#åˆ›ç«‹åˆ†æ”¯testing</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout testing  <span class="comment">#åˆ‡æ¢åˆ°testing</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä»¥ä¸Šä¸¤æ¡å‘½ä»¤å¯åˆå¹¶ä¸º git checkout -b testing</span> </span><br><span class="line">Switched to branch &#x27;testing&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">do</span> some changes</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout main  <span class="comment">#å›åˆ°ä¸»åˆ†æ”¯</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch <span class="comment">#æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>git merge &lt;branch&gt;</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">touch</span> polynorminal.cpp</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">edit polynorminal.cpp</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git add polynorminal.cpp</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit -m <span class="string">&quot;touch a new .cpp file&quot;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout -b AddFunc2</span></span><br><span class="line">Switched to a new branch &#x27;AddFunc2&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">edit polynorminal.cpp</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit -a -m <span class="string">&quot;have added the func2&quot;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout main</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git merge AddFunc2</span></span><br><span class="line">Updating 87ba74e..869b2a7</span><br><span class="line">Fast-forward</span><br><span class="line"> polynorminal.cpp | 11 ++++++++++-</span><br><span class="line"> 1 file changed, 10 insertions(+), 1 deletion(-)</span><br></pre></td></tr></table></figure>

<div class="note info"><p>åœ¨<code>main</code>ä¸­åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå¯èƒ½å‡ºç°åˆå¹¶å†²çªï¼Œè¿™æ˜¯å› ä¸ºåˆ†æ”¯ä¸­æ–‡ä»¶ä¿®æ”¹è¿‡å¤§ï¼Œ<code>git</code>ä¸çŸ¥é“å¦‚ä½•å°†<code>main</code>ä¸<code>branch</code>ä¸¤ä¸ªæ–‡ä»¶ç‰ˆæœ¬åˆå¹¶ï¼Œæ­¤æ—¶éœ€æ‰‹åŠ¨åˆå¹¶ã€ä¿®æ”¹æ–‡ä»¶ï¼Œå¹¶<code>commit</code></p>
</div>

<ul>
<li><code>git branch -d &lt;branch&gt;</code>åˆ é™¤åˆ†æ”¯ï¼ˆä½†ä¸èƒ½åˆ é™¤æœªåˆå¹¶çš„åˆ†æ”¯ï¼‰</li>
<li><code>git branch --no-merged</code>æŸ¥çœ‹æœªåˆå¹¶çš„åˆ†æ”¯</li>
</ul>
<h3 id="Gitç‰ˆæœ¬å›æº¯-by-branch"><a href="#Gitç‰ˆæœ¬å›æº¯-by-branch" class="headerlink" title="Gitç‰ˆæœ¬å›æº¯(by branch)"></a>Gitç‰ˆæœ¬å›æº¯(by branch)</h3><p>æˆ‘ä¸€ç›´æ˜¯ç”¨<code>git reset --hard &lt;hash_id&gt;</code>è¿›è¡Œç‰ˆæœ¬å›æº¯ï¼Œä½†è¿™æ ·ä¼šä¸¢å¤±ä¹‹åçš„commitï¼Œå¯¼è‡´ç‰ˆæœ¬æ··ä¹±ã€‚ç°åœ¨æƒ³åˆ°ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ç”¨åˆ†æ”¯æ¥è¿›è¡Œå›æº¯æŸ¥çœ‹ã€‚(å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬ç¡®å®šè¦å›åˆ°æŸä¸ªcommité‡æ–°å·¥ä½œï¼Œå¹¶ç¡®å®šè¦ä¸¢å¤±ä¹‹åçš„commitï¼Œä¹Ÿå¯ä»¥ç¡¬é‡ç½®ã€‚)</p>
<p><strong>æŸ¥çœ‹å½“å‰åˆ†æ”¯</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --oneline --decorate --graph --all</span></span><br><span class="line">* a1ebf62 (master) c2b91</span><br><span class="line">| * 831fee6 (testing) 87ab2</span><br><span class="line">|/</span><br><span class="line">* 8a4b1b7 f30ab</span><br><span class="line">* cd426be 34ac2</span><br><span class="line">* d922070 98ca9</span><br><span class="line">* e339fae å®Œæˆç¨ å¯†</span><br><span class="line">| * bfbf7ce (HEAD -&gt; sparse) sparse v1.0</span><br><span class="line">| * eb62cc0 å®Œæˆä¸»ä½“</span><br><span class="line">|/</span><br><span class="line">* b6a6d16 3rd commit</span><br><span class="line">* f64efae 2nd commit</span><br><span class="line">* 8bd0d82 1st commit</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬æ­£åœ¨<code>sparse</code>åˆ†æ”¯ä¸Šï¼Œå› ä¸ºæ”¹åŠ¨è¾ƒå¤§ï¼Œæƒ³å›åˆ°ç¨ å¯†ç‰ˆæœ¬ä¸ŠæŸ¥çœ‹ç¨ å¯†ç‰ˆæœ¬çš„æºç ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout -b check_dense_version e339fae</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">= git branch check_dense_version e339fae &amp;&amp; git checkout check_denser_version</span></span><br><span class="line">Switched to a new branch &#x27;check_dense_version&#x27;</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --oneline --decorate --graph --all</span></span><br><span class="line">* a1ebf62 (master) c2b91</span><br><span class="line">| * 831fee6 (testing) 87ab2</span><br><span class="line">|/</span><br><span class="line">* 8a4b1b7 f30ab</span><br><span class="line">* cd426be 34ac2</span><br><span class="line">* d922070 98ca9</span><br><span class="line">* e339fae (HEAD -&gt; check_dense_version) å®Œæˆç¨ å¯†</span><br><span class="line">| * bfbf7ce (sparse) sparse v1.0</span><br><span class="line">| * eb62cc0 å®Œæˆä¸»ä½“</span><br><span class="line">|/</span><br><span class="line">* b6a6d16 3rd commit</span><br><span class="line">* f64efae 2nd commit</span><br><span class="line">* 8bd0d82 1st commit</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶æ•´ä¸ªå·¥ä½œç›®å½•çš„æ–‡ä»¶éƒ½å˜æˆäº†<code>e3319fae</code>æ—¶çš„ç‰ˆæœ¬ã€‚åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬è¿è¡Œä»£ç å¯¼è‡´ä¸€äº›æ–‡ä»¶å‘ç”Ÿäº†ä¿®æ”¹ï¼Œå·¥ä½œç›®å½•ä¸å¹²å‡€ï¼Œæ˜¯ä¸èƒ½ç›´æ¥<code>switch</code>å›<code>sparse</code>çš„ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git switch sparse</span> </span><br><span class="line">error: Your local changes to the following files would be overwritten by checkout:</span><br><span class="line">        a.txt</span><br><span class="line">Please commit your changes or stash them before you switch branches.</span><br><span class="line">Aborting</span><br></pre></td></tr></table></figure>

<p>æç¤ºæ˜¾ç¤ºå¦‚æœæˆ‘ä»¬è¦æ›´æ¢åˆ†æ”¯ï¼Œéœ€è¦<code>commit</code> æˆ–è€…<code>stash</code></p>
<ul>
<li>å¦‚æœæˆ‘ä»¬ä¸éœ€è¦æäº¤ï¼Œå¯ä»¥å°†æ–‡ä»¶å˜æ›´å–æ¶ˆæ‰ï¼Œå†<code>switch</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git restore .  <span class="comment">#å°†æ‰€æœ‰è¢«ä¿®æ”¹çš„æ–‡ä»¶å¤åŸ</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git switch sparse</span> </span><br><span class="line">Switched to branch &#x27;sparse&#x27;</span><br><span class="line">* a1ebf62 (master) c2b91</span><br><span class="line">| * 831fee6 (testing) 87ab2</span><br><span class="line">|/</span><br><span class="line">* 8a4b1b7 f30ab</span><br><span class="line">* cd426be 34ac2</span><br><span class="line">* d922070 98ca9</span><br><span class="line">* e339fae (check_dense_version) å®Œæˆç¨ å¯†</span><br><span class="line">| * bfbf7ce (HEAD -&gt; sparse) sparse v1.0</span><br><span class="line">| * eb62cc0 å®Œæˆä¸»ä½“</span><br><span class="line">|/</span><br><span class="line">* b6a6d16 3rd commit</span><br><span class="line">* f64efae 2nd commit</span><br><span class="line">* 8bd0d82 1st commit</span><br></pre></td></tr></table></figure>

<p><strong><code>git stash</code></strong></p>
<p>å¦‚æœæˆ‘ä»¬åœ¨<code>sparse</code>åˆ†æ”¯ä¸‹å·¥ä½œç›®å½•æœ‰ä¿®æ”¹æœªæäº¤ï¼Œé‚£ä¹ˆåˆ‡æ¢åˆ†æ”¯ä¹‹å‰éœ€è¦å°†ä¿®æ”¹å­˜å…¥<code>stash</code>ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --oneline --decorate --graph --all</span></span><br><span class="line">* a1ebf62 (master) c2b91</span><br><span class="line">* 8a4b1b7 f30ab</span><br><span class="line">* cd426be 34ac2</span><br><span class="line">* d922070 98ca9</span><br><span class="line">* e339fae å®Œæˆç¨ å¯†</span><br><span class="line">| * bfbf7ce (HEAD -&gt; sparse) sparse v1.0</span><br><span class="line">| * eb62cc0 å®Œæˆä¸»ä½“</span><br><span class="line">|/</span><br><span class="line">* b6a6d16 3rd commit</span><br><span class="line">* f64efae 2nd commit</span><br><span class="line">* 8bd0d82 1st commit</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch temp e339fae</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git switch temp</span></span><br><span class="line">error: Your local changes to the following files would be overwritten by checkout:</span><br><span class="line">        a.txt</span><br><span class="line">Please commit your changes or stash them before you switch branches.</span><br><span class="line">Aborting</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">log</span> --oneline --decorate --graph --all</span></span><br><span class="line">* a1ebf62 (master) c2b91</span><br><span class="line">* 8a4b1b7 f30ab</span><br><span class="line">* cd426be 34ac2</span><br><span class="line">* d922070 98ca9</span><br><span class="line">* e339fae (temp) å®Œæˆç¨ å¯†</span><br><span class="line">| * bfbf7ce (HEAD -&gt; sparse) sparse v1.0</span><br><span class="line">| * eb62cc0 å®Œæˆä¸»ä½“</span><br><span class="line">|/</span><br><span class="line">* b6a6d16 3rd commit</span><br><span class="line">* f64efae 2nd commit</span><br><span class="line">* 8bd0d82 1st commit</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git stash save <span class="string">&quot;uncommit modify in sparse&quot;</span></span></span><br><span class="line">Saved working directory and index state On sparse: uncommit modify in sparse</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git switch temp</span></span><br><span class="line">Switched to branch &#x27;temp&#x27;</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git switch sparse</span> </span><br><span class="line">Switched to branch &#x27;sparse&#x27;</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git stash list</span></span><br><span class="line">stash@&#123;0&#125;: On sparse: uncommit modify in sparse</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git stash pop 0</span></span><br><span class="line">On branch sparse</span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line">        modified:   a.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span><br><span class="line">Dropped refs/stash@&#123;0&#125; (6679d6d8daf8a44c45d289fe82c7aab9a5430eb0)</span><br></pre></td></tr></table></figure>

<p><strong>git stashç›¸å…³å‘½ä»¤</strong></p>
<ol>
<li><code>git stash save [message]</code>ï¼šå°†å½“å‰å·¥ä½œç›®å½•çš„ä¿®æ”¹ä¿å­˜åˆ°ä¸€ä¸ªstashåˆ—è¡¨ä¸­ï¼Œå¹¶é™„å¸¦ä¸€æ¡å¯é€‰çš„æè¿°ä¿¡æ¯ã€‚</li>
<li><code>git stash list</code>ï¼šåˆ—å‡ºæ‰€æœ‰çš„stashåˆ—è¡¨ã€‚</li>
<li><code>git stash apply [stash_id]</code>ï¼šå°†æŒ‡å®šçš„stashåº”ç”¨åˆ°å½“å‰å·¥ä½œç›®å½•ï¼Œä½†ä¸ä»stashåˆ—è¡¨ä¸­åˆ é™¤ã€‚</li>
<li><code>git stash pop [stash_id]</code>ï¼šå°†æŒ‡å®šçš„stashåº”ç”¨åˆ°å½“å‰å·¥ä½œç›®å½•ï¼Œå¹¶ä»stashåˆ—è¡¨ä¸­åˆ é™¤ã€‚</li>
<li><code>git stash drop [stash_id]</code>ï¼šä»stashåˆ—è¡¨ä¸­åˆ é™¤æŒ‡å®šçš„stashã€‚</li>
<li><code>git stash branch [branch_name] [stash_id]</code>ï¼šåŸºäºæŒ‡å®šçš„stashåˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œå¹¶å°†stashåº”ç”¨åˆ°æ–°åˆ†æ”¯ä¸Šã€‚</li>
<li><code>git stash pop --index [stash_id]</code>ï¼šå°†æŒ‡å®šçš„stashåº”ç”¨åˆ°å½“å‰å·¥ä½œç›®å½•å’Œç´¢å¼•ï¼ˆæš‚å­˜åŒºï¼‰ï¼Œå¹¶ä»stashåˆ—è¡¨ä¸­åˆ é™¤</li>
</ol>
]]></content>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>Instruction Of Typora</title>
    <url>/posts/bfc69175/</url>
    <content><![CDATA[<p>Typoraæ˜¯ä¸€ä¸ªåŸºäºmarkdownè¯­æ³•çš„è½»é‡çº§è½¯ä»¶ï¼Œä»¥ä¸‹æ˜¯æˆ‘åœ¨å­¦ä¹ markdownè¯­æ³•æ—¶çš„ä¸€äº›ç¬”è®°ã€‚</p>

<span id="more"></span>

<p><a href="https://pan.baidu.com/s/1A0PSXm8SgOlyFYxgQ7yaDg?pwd=jwuf#list/path=%2F">Typoraè½¯ä»¶åˆ†äº«</a>æå–ç ï¼šjwuf</p>
<h3 id="Living-preview"><a href="#Living-preview" class="headerlink" title="Living preview"></a>Living preview</h3><p>Living preview(å®æ—¶é¢„è§ˆ)è¿™ä¹Ÿç®—æ˜¯Typoraçš„ä¸€ä¸ªç‰¹ç‚¹å§ç›¸å½“äºæœ‰é“äº‘ç¬”è®°ä¸­çš„å³çª—å£é¢„è§ˆï¼Œ<strong>å¯è‡ªåŠ¨éšå»æ ¼å¼è¯´æ˜ä¸­çš„æ ¼å¼è¯­å¥</strong> ã€‚ æ³¨æ„ä¸€å®šè¦åœ¨ç¬¦å·ä¸æ­£æ–‡ä¹‹é—´<strong>åŠ ç©ºæ ¼</strong>ï¼Œç›®çš„åœ¨äºåŒºåˆ†å†…å®¹ä¸æ ¼å¼ç¬¦ã€‚æ–‡å­—æ¢è¡Œä¹Ÿä¸ä¸€èˆ¬ä¸åŒï¼Œè¦<strong>å…ˆåŠ ç©ºæ ¼å†enter</strong>ã€‚</p>
<h3 id="å…·ä½“ç¬¦å·"><a href="#å…·ä½“ç¬¦å·" class="headerlink" title="å…·ä½“ç¬¦å·"></a>å…·ä½“ç¬¦å·</h3><h4 id="headers"><a href="#headers" class="headerlink" title="headers"></a>headers</h4><p>éšç€æ ‡é¢˜çš„äº•å­—ç¬¦æ•°é‡çš„å¢åŠ ï¼Œæ ‡é¢˜ä¼˜å…ˆçº§é€æ¸ä¸‹é™ã€‚</p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å¤§æ ‡é¢˜  ï¼ˆ Ctrl + 1 ï¼‰ </span><br><span class="line">## ç¬¬äºŒå·æ ‡é¢˜ ï¼ˆ Ctrl + 2 ) </span><br><span class="line">### ç¬¬ä¸‰å·æ ‡é¢˜  </span><br><span class="line">ä¸€ç›´å¯ä»¥åˆ°ç¬¬å…­å·æ ‡é¢˜</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="Blockquote"><a href="#Blockquote" class="headerlink" title="Blockquote"></a>Blockquote</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯­æ³• ï¼š &gt; å¼•ç”¨å†…å®¹  </span><br><span class="line">ä¾‹å¦‚è¾“å…¥ä¸‹åˆ—è¯­å¥ï¼š</span><br><span class="line">&gt; å¿ƒå¿—è¦åšï¼Œæ„è¶£è¦ä¹ã€‚  </span><br><span class="line">è¾“å‡ºç»“æœä¸º</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>å¿ƒå¿—è¦åšï¼Œæ„è¶£è¦ä¹</p>
</blockquote>
<h4 id="List"><a href="#List" class="headerlink" title="List"></a>List</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å°±å¦‚å¹³å¸¸ä¸€æ ·è¾“å…¥åºå·å°±è¡Œäº†ï¼Œæ­¤åæ¢è¡Œå°±ä¼šè‡ªåŠ¨æ’åºã€‚  </span><br><span class="line">æ ¼å¼ ï¼š1. ç¬¬ä¸€ç‚¹        </span><br><span class="line">2. ç¬¬äºŒç‚¹</span><br><span class="line">3. * ç©ºåœ†</span><br><span class="line">   - æ–¹å½¢</span><br><span class="line">* å®åœ†</span><br></pre></td></tr></table></figure>
</blockquote>
<ol>
<li>ç¬¬ä¸€ç‚¹</li>
<li>ç¬¬äºŒç‚¹</li>
<li><ul>
<li><h2 id="æ˜Ÿå·"><a href="#æ˜Ÿå·" class="headerlink" title="æ˜Ÿå·"></a>æ˜Ÿå·</h2></li>
</ul>
</li>
</ol>
<p>- </p>
<h4 id="Task-List"><a href="#Task-List" class="headerlink" title="Task List"></a>Task List</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ ¼å¼ </span><br><span class="line">- [ ] æœªå®Œæˆä»»åŠ¡    - [x] å·²å®Œæˆä»»åŠ¡</span><br><span class="line">å¯ç‚¹å‡»ä»»åŠ¡ç‚¹å®Œæˆä»»åŠ¡  </span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>æœªå®Œæˆä»»åŠ¡    </li>
<li>å·²å®Œæˆä»»åŠ¡</li>
</ul>
<h4 id="Code-Block"><a href="#Code-Block" class="headerlink" title="Code Block"></a>Code Block</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ ¼å¼  </span><br><span class="line">â€‹```language</span><br><span class="line">ä»£ç æ®µ</span><br><span class="line">â€‹```  </span><br><span class="line">å…¶å®åé¢é‚£ä¸‰ä¸ªé¡¿å·ç”µè„‘ä¼šè‡ªåŠ¨æ˜¾ç¤ºçš„ï¼ˆæ³¨æ„æ˜¯é¡¿å·ï¼Œ  </span><br><span class="line">è‹±æ–‡è¾“å…¥æ³•ä¸‹çš„Escä¸‹è¾¹é‚£ä¸ªé”®ï¼‰  </span><br><span class="line">ä»£ç æ®µä¹Ÿæœ‰ä¸€ä¸ªç¥å¥‡çš„åŠŸèƒ½ï¼Œå°±æ˜¯èƒ½å®Œæ•´æ˜¾ç¤ºTyporaçš„ä»£ç ç¬¦ï¼Œ   </span><br><span class="line">è¦ä¸ç„¶æœ¬æ–‡çš„ä¸€ä¸ªä¸ªäº‹ä¾‹åˆæ˜¯æ€ä¹ˆä¿ç•™ä½è¿™äº›Typoraç¬¦å‘¢ã€‚æƒ³æƒ³ä¹ŸçŸ¥é“ï¼Œ  </span><br><span class="line">è®¾è®¡ä¸€ä¸ªè¿™æ ·çš„æ–‡æœ¬æ ¼å¼ï¼Œ  </span><br><span class="line">å½“ç„¶ä¹Ÿè¦å…¼é¡¾ä»£ç çš„ç‰¹æ®Šç¬¦å·å‘€ï¼Œæ¯”å¦‚ä»£ç é‡Œçš„#ã€*æ˜¯ä¸èƒ½å‚ä¸Typoraçš„æ ¼å¼ç¬¦çš„ã€‚  </span><br><span class="line">ä»£ç è¯­å¥çš„è¾“å…¥  </span><br><span class="line">æ ¼å¼ </span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// Reverse Bits Ordering</span><br><span class="line">module top_module(</span><br><span class="line">    input [99:0] in ,</span><br><span class="line">    output [99:0] out </span><br><span class="line">) ;</span><br><span class="line">    genvar i ;</span><br><span class="line">    generate</span><br><span class="line">        for(i = 0 ; i &lt; 100 ; i++) begin : generate_name</span><br><span class="line">            assign out[i] = in [99 - i] ;</span><br><span class="line">        end</span><br><span class="line">    endgenerate</span><br><span class="line">endmodule</span><br></pre></td></tr></table></figure>

<h4 id="Math-Blocks"><a href="#Math-Blocks" class="headerlink" title="Math Blocks"></a>Math Blocks</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ å•è¡Œè¾“å…¥ $</span><br><span class="line">$ \mathbf&#123;V&#125;_1 \times \mathbf&#123;V&#125;_2 =  \begin&#123;vmatrix&#125;</span><br><span class="line">\mathbf&#123;i&#125; &amp; \mathbf&#123;j&#125; &amp; \mathbf&#123;k&#125; \\</span><br><span class="line">\frac&#123;\partial X&#125;&#123;\partial u&#125; &amp;  \frac&#123;\partial Y&#125;&#123;\partial u&#125; &amp; 0 \\</span><br><span class="line">\frac&#123;\partial X&#125;&#123;\partial v&#125; &amp;  \frac&#123;\partial Y&#125;&#123;\partial v&#125; &amp; 0 \\</span><br><span class="line">\end&#123;vmatrix&#125;  </span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h4 id="Table"><a href="#Table" class="headerlink" title="Table"></a>Table</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">| A  | B |</span><br><span class="line">| C  | D |</span><br><span class="line">| E  | F |  </span><br><span class="line">ç‚¹å‡»è¡¨æ ¼å†…æœ‰åŠŸèƒ½é€‰æ‹©</span><br></pre></td></tr></table></figure>
</blockquote>
<table>
<thead>
<tr>
<th align="center">A</th>
<th align="center">B</th>
</tr>
</thead>
<tbody><tr>
<td align="center">C</td>
<td align="center">D</td>
</tr>
<tr>
<td align="center">E</td>
<td align="center">F</td>
</tr>
</tbody></table>
<h4 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ ¼å¼ </span><br><span class="line">--- </span><br><span class="line">æˆ–è€… </span><br><span class="line">*** </span><br><span class="line">ä¾‹å¦‚ </span><br><span class="line">æˆ‘æ˜¯åˆ†å‰²çº¿ </span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">æˆ‘æ˜¯åˆ†å‰²çº¿ </span><br><span class="line"></span><br><span class="line">***</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æˆ‘æ˜¯åˆ†å‰²çº¿ </p>
<hr>
<p>æˆ‘æ˜¯åˆ†å‰²çº¿ </p>
<hr>
<h4 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ ¼å¼ </span><br><span class="line">è¾“å…¥[toc]å†å›è½¦å°±è¡Œäº† ï¼ˆtable of content) </span><br><span class="line">å°±ä¼šç”Ÿæˆä¸€ä¸ªç›®å½•ï¼Œç‚¹å‡»ç›¸åº”æ ‡è®°å³å¯è·³è½¬ </span><br><span class="line">ä¾‹å¦‚ </span><br><span class="line">[toc] </span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ ¼å¼ </span><br><span class="line">[ç»™é“¾æ¥èµ·ä¸ªåå­—](å†™ä¸Šå…·ä½“ç½‘å€)</span><br><span class="line">[çŸ¥ä¹](https://www.zhihu.com/) æ³¨æ„ç”¨è‹±æ–‡è¾“å…¥æ³•ä¸‹çš„æ‹¬å·  </span><br><span class="line">åœ¨markdownæ–‡ä»¶ä¸­æŒ‰ä½Ctrlé”®åŒæ—¶ç‚¹å‡»ç½‘å€å³å¯ç›´æ¥æ‰“å¼€</span><br></pre></td></tr></table></figure>
</blockquote>
<p><a href="www.zhihu.com">çŸ¥ä¹</a></p>
<h4 id="Insert-Pictures"><a href="#Insert-Pictures" class="headerlink" title="Insert Pictures"></a>Insert Pictures</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ ¼å¼  </span><br><span class="line">![èµ·ä¸ªåå­—](å­˜å‚¨ä½ç½®) </span><br><span class="line">ä¾‹å¦‚ </span><br><span class="line">![æ€ç»´å¯¼å›¾](D:\desktop\Typora.png) </span><br><span class="line">å½“ç„¶å•¦ï¼Œç›´æ¥æŠŠå›¾ç‰‡æ‹–è¿‡æ¥å¤åˆ¶ä¸€ä¸‹ä¸é¦™å—</span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>å¯å°†typoraè®¾ç½®å¦‚ä¸‹ï¼Œå¯é¿å…å›¾ç‰‡ä¸¢å¤±å¯¼è‡´markdownæ–‡ä»¶ä¸­å›¾ç‰‡æ— æ³•æŸ¥çœ‹ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨ç½‘ç»œå›¾åºŠå­˜å‚¨ï¼‰</p>
<p><img src="file://D:/Software/Typora/Pictures/1693142385073.png?lastModify=1695005959" alt="img"></p>
</li>
</ul>
]]></content>
      <tags>
        <tag>Software</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello Hexo-NexT</title>
    <url>/posts/b3bdf13b/</url>
    <content><![CDATA[<h3 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h3><p><strong style="color : rgb(128,109,158) ; font-size : 24px">Hello Hexo and NexT !</strong></p>
<p><strong style = "color : rgb(128,109,158) ; font-size : 24px"> Hexo and NexT yyds ! </strong></p>
<p>åŸºäºHexoå’ŒNexTä¸»é¢˜ï¼Œæˆ‘çš„ç¬¬ä¸€ä¸ªä¸ªäººç½‘ç«™è¯ç”Ÿå•¦ï¼</p>
<p>è¿™ç¯‡æ–‡ç« è®°å½•äº†å»ºç«‹ç½‘ç«™çš„ç‚¹ç‚¹æ»´æ»´ï¼Œå¹¶æŒç»­æ›´æ–°æˆ‘å¯¹å¿ƒè‚å®è´<a href="https://benkangpeng.github.io/">My Website</a>çš„æŒç»­ç¾åŒ–ã€ä¿®ç¼®ã€‚</p>
<span id="more"></span>

<h3 id="å»ºç«™"><a href="#å»ºç«™" class="headerlink" title="å»ºç«™"></a>å»ºç«™</h3><p>Hexoå¯¹ä¸­æ–‡çš„æ”¯æŒååˆ†å‹å¥½ï¼š<a href="https://hexo.io/zh-cn/">Hexo</a>  ,   ç›´æ¥æŒ‰ç…§<a href="https://hexo.io/zh-cn/docs/">Hexoå®˜æ–¹æ–‡æ¡£</a>è¿›è¡Œå³å¯ã€‚</p>
<h4 id="1-å®‰è£…å‰æ"><a href="#1-å®‰è£…å‰æ" class="headerlink" title="1. å®‰è£…å‰æ"></a>1. å®‰è£…å‰æ</h4><p>é¦–å…ˆç¡®ä¿è®¡ç®—æœºä¸Šå·²ç»å®‰è£…<a href="https://nodejs.org/en">Node.js</a> å’Œ<a href="https://git-scm.com/download/win">Git</a>ã€‚è¿›ä¸å»ç½‘ç«™çš„è¯ï¼Œå®‰è£…åŒ…å·²ç»å±¯å¥½äº†ï¼š<a href="https://pan.baidu.com/s/1fJ36mQkLS5qLYJSBXTeb0g?pwd=91bs">ç™¾åº¦ç½‘ç›˜</a>   <a href="https://pbk.lanzoum.com/i0b4O19nlu3i">è“å¥äº‘</a></p>
<h4 id="2-å»ºç«‹Hexoåˆå§‹ç½‘ç«™"><a href="#2-å»ºç«‹Hexoåˆå§‹ç½‘ç«™" class="headerlink" title="2. å»ºç«‹Hexoåˆå§‹ç½‘ç«™"></a>2. å»ºç«‹Hexoåˆå§‹ç½‘ç«™</h4><ul>
<li><strong>å®‰è£…Hexo(ä»»æ„ä½ç½®)</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>å»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹å­˜æ”¾æ‰€æœ‰åšå®¢æ–‡ä»¶ï¼š</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">pwd</span></span></span><br><span class="line">/d/Hexo</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>åœ¨&#x2F;d&#x2F;Hexoæ–‡ä»¶å¤¹ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•åˆ›å»ºä¸€ä¸ªblog(å¯ä¿®æ”¹åç§°) , å¹¶è¿›å…¥ï¼š</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo init blog</span></span><br><span class="line"></span><br><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> ./blog/</span></span><br></pre></td></tr></table></figure>

<p>blogæ–‡ä»¶å¤¹å†…å­˜æ”¾çš„å°±æ˜¯ç½‘ç«™blogæºæ–‡ä»¶,å¦‚æœæƒ³å†å»ºç«‹ä¸€ä¸ªç½‘ç«™ï¼ŒåŒæ ·åœ¨Hexoæ–‡ä»¶å¤¹ä¸‹ä½¿ç”¨<code>hexo init blog_2</code>åˆ›å»ºblog_2æ–‡ä»¶å¤¹â€¦â€¦</p>
<ul>
<li><strong>åœ¨blogæ–‡ä»¶å¤¹ä¸­åŠ å…¥hexoç›¸å…³é…ç½®ï¼š</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo/blog</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>æŸ¥çœ‹ç½‘é¡µ</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo/blog</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo g &amp;&amp; hexo s  <span class="comment"># å®Œæ•´å†™æ³•ï¼š hexo generate &amp;&amp; hexo server</span></span></span><br></pre></td></tr></table></figure>

<p>è¿›å…¥INFOä¸­çš„ç«¯å£<code>http://localhost:4000/</code>å³å¯çœ‹åˆ°hexoåšå®¢æ¡†æ¶:</p>
<div style = "display : flex ; align-items : center ; justify-content: center;">
    <img src="https://pic.imgdb.cn/item/650fe8a2c458853aef63bf52.jpg" alt = "hexoåˆå§‹ç½‘é¡µ.jpg" style = "width : 80% ">
</div>
* **å†™æ–‡ç« **

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo new <span class="string">&quot;ç¬¬ä¸€ç¯‡æ–‡ç« &quot;</span></span></span><br></pre></td></tr></table></figure>

<p>Hexoå³åœ¨<code>/blog/source/_posts/</code>åˆ›å»ºäº†ä¸€ä¸ª<code>ç¬¬ä¸€ç¯‡æ–‡ç« .md</code> ã€‚</p>
<p>å®æ—¶ç¼–è¾‘ï¼Œåœ¨<code>https://localhost:4000</code>ç«¯å£ä¸­åˆ·æ–°ä¾¿å¯å®æ—¶æ˜¾ç¤ºã€‚</p>
<p>è®¾ç½®hexoä¸»é¢˜</p>
<p>æˆ‘ä»¬é€‰æ‹©hexo-NexTä¸»é¢˜â€”â€”ä¸€ä¸ªç®€æ´ã€ä½¿ç”¨äººæ•°å¤šã€æ’ä»¶ä¸°å¯Œçš„ä¸»é¢˜ã€‚æ›´å¤šä¸»é¢˜å¯åœ¨<a href="https://hexo.io/themes/">Themes | Hexo</a>æ‰¾åˆ°ã€‚</p>
<h3 id="é…ç½®NexTä¸»é¢˜"><a href="#é…ç½®NexTä¸»é¢˜" class="headerlink" title="é…ç½®NexTä¸»é¢˜"></a>é…ç½®NexTä¸»é¢˜</h3><p>æˆ‘ä»¬é€‰æ‹©hexo-NexTä¸»é¢˜â€”â€”ä¸€ä¸ªç®€æ´ã€ä½¿ç”¨äººæ•°å¤šã€æ’ä»¶ä¸°å¯Œçš„ä¸»é¢˜ã€‚</p>
<p>Nextçš„æœ€æ–°å®˜ç½‘æ˜¯<a href="https://theme-next.js.org/">NexT - Theme for Hexo (theme-next.js.org)</a> ï¼Œ è€Œä¸æ˜¯<a href="https://theme-next.org/">Home Page | Theme-Next</a> ï¼Œ åŸå› è¯¦è§ï¼š<a href="https://github.com/next-theme/hexo-theme-next/issues/4#issuecomment-626205848">Issue</a></p>
<ul>
<li><strong>å®‰è£…NexT</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo/blog</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install hexo-theme-next</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>é…ç½®ç½‘ç«™</strong></li>
</ul>
<p>ä½ ä¼šå‘ç°æ–‡ä»¶ä¸­æœ‰ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼Œåœ¨blogä¸­æœ‰ä¸€ä¸ª<code>_config.yml</code> ï¼Œ å³Hexoçš„é…ç½®æ–‡ä»¶ ï¼Œ <code>\Hexo\blog_test\node_modules\hexo-theme-next</code>ä¸­æœ‰ä¸€ä¸ª<code>_config.yml</code> ï¼Œ å³NexTä¸»é¢˜çš„é…ç½®æ–‡ä»¶ã€‚</p>
<blockquote>
<p>However, we do not recommend directly modifying the NexT config file. It is quite often running into conflict status when updating NexT theme via <code>git pull</code>, or need to merge configurations manually when upgrading to new releases. For the theme installed through npm, it is also difficult to modify the NexT config file in <code>node_modules</code>.</p>
</blockquote>
<p>In order to resolve this issue, we recommend using the <a href="https://theme-next.js.org/docs/getting-started/configuration">Alternate Theme Config</a> feature to configure theme NexT.</p>
<p>å®˜ç½‘æç¤ºæˆ‘ä»¬ï¼Œåœ¨ä¿®æ”¹NexTé…ç½®æ–‡ä»¶æ—¶ä¸è¦ç›´æ¥ä¿®æ”¹ <code>\Hexo\blog_test\node_modules\hexo-theme-next</code> ï¼Œ å¦åˆ™å¯èƒ½å¼•èµ·å†²çªã€‚å®˜æ–¹æä¾›ç»™æˆ‘ä»¬ä¸€ä¸ªæ–¹æ³•<a href="https://theme-next.js.org/docs/getting-started/configuration">Alternate Theme Config</a> ï¼Œ ç®€è€Œè¨€ä¹‹å°† <code>\Hexo\blog_test\node_modules\hexo-theme-next\_config.yml</code>å¤åˆ¶åˆ°<code>blog\</code>ä¸‹ï¼Œæ›´åä¸º<code>_config.next.yml</code> , è¿™æ ·ç›´æ¥ä¿®æ”¹<code>blog\</code>ä¸‹çš„ä¸¤ä¸ªé…ç½®æ–‡ä»¶å³å¯å¯¹Hexoå’ŒNexTå‡è¿›è¡Œé…ç½®ã€‚</p>
<p>å¯æ‰‹åŠ¨é…ç½®ï¼Œä¹Ÿå¯åœ¨ç›¸åº”ä½ç½®æ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP MINGW64 /d/Hexo/blog</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cp</span> node_modules/hexo-theme-next/_config.yml _config.next.yml</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Hexo Configuration</strong></li>
</ul>
<p>Edit <code>_config.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Benkang</span> <span class="string">Peng</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;Personal Website&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">Benkang</span> <span class="string">Peng</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">en</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;Asia/Shanghai&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># theme: landscape  è®°å¾—ä¿®æ”¹ä¸»é¢˜ä¸ºNexT</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>NexT Configuration</strong></li>
</ul>
<p>Editï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">minify:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Gemini</span></span><br><span class="line"><span class="attr">darkmode:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Configuring Favicon</strong></li>
</ul>
<p>We can visit <a href="https://www.logosc.cn/logo/favicon">Favicon.icoå›¾æ ‡ç”Ÿæˆå™¨</a> to generate our favicon by inputting characters .</p>
<p>Put  the favicon files in <code>Hexo\blog_test\node_modules\hexo-theme-next\source\images</code> , then edit <code>NexT config file </code> according to the filename:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">favicon:</span></span><br><span class="line">  <span class="attr">small:</span> <span class="string">/images/favicon-16x16.png</span></span><br><span class="line">  <span class="attr">medium:</span> <span class="string">/images/favicon-32x32.png</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/images/apple-touch-icon.png</span></span><br><span class="line">  <span class="comment">#safari_pinned_tab: /images/logo.svg</span></span><br><span class="line">  <span class="comment">#android_manifest: /manifest.json</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Also add the avatar :</strong></li>
</ul>
<p>For example , I add <code>GNU-Linux-Logo-Penguin-SVG.jpg</code> to <code>Hexo\blog_test\node_modules\hexo-theme-next\source\images</code></p>
<p>Edit <code>_config.next.yml</code>:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/GNU-Linux-Logo-Penguin-SVG.jpg</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Configuring Menu</strong></li>
</ul>
<p>We can add the <code>Menu items </code> by removing the comments in <code>_config.next.yml</code> :</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-pie-chart</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="comment">#categories: /categories/ || fa fa-th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || fa fa-calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || fa fa-sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || fa fa-heartbeat</span></span><br></pre></td></tr></table></figure>

<p>Menu settings itemâ€™s format :  <code>key: /link/ || icon</code> .    <code>Key</code> is the name of menu items(home , tags , etc.) ,  and link is the target link to relative url inside your site .  For example , if the menu item is <code>other: /other/ || icon</code> , it will go to <code>https://benkangpeng.github.io/other/</code> when you click it . </p>
<blockquote>
<p>Except home and archives, all custom pages under menu section need to be created manually.</p>
</blockquote>
<p>Tips above means that , when you add new menu items , you should also create relative files except <code>home and archives</code> as they can create relative files automatically .</p>
<p>For example , three steps to add menu item <code>tags</code> :</p>
<p><strong>â‘ Removing the comment of tags :</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-pie-chart</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br></pre></td></tr></table></figure>

<p><strong>â‘¡Create relative files :</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">hexo</span> <span class="string">new</span> <span class="string">page</span> <span class="string">tags</span></span><br></pre></td></tr></table></figure>

<p><strong>â‘¢Editting the markdown file <code>index.md</code> of <code>\blog_test\source\tags\</code></strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">Tags</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2023-09-18 09:10:10</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;tags&quot;</span></span><br></pre></td></tr></table></figure>

<p>Thatâ€™s all .  As for the ways of the offical doc ,  Iâ€™m  absolutely confused â€¦â€¦</p>
<h3 id="Beautify"><a href="#Beautify" class="headerlink" title="Beautify"></a>Beautify</h3><h4 id="Custom-pages"><a href="#Custom-pages" class="headerlink" title="Custom pages"></a>Custom pages</h4><p>If we want to add a <code>.html</code> to the website and donâ€™t want NexT to influence that <code>.html</code> â€˜ s style , which means <code>.html</code> can be displayed on its own style ,  how do we do ?</p>
<p>The answer is : <strong>Prevent Hexo from rendering my .html files.</strong></p>
<ul>
<li>Now create a new page :</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo new page Other</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Edit the <code>_config.next.yml</code> to display <code>Other</code> in menu</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Other:</span> <span class="string">/other/index.html</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-external-link</span></span><br></pre></td></tr></table></figure>

<p>Find the name of  font-awesome icons from <a href="https://fontawesome.dashgame.com/">Font Awesome</a></p>
<ul>
<li>Edit the <code>_config.yml</code> to make sure folder <code>/Other</code> cannâ€™t be rendered by Hexo .</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">skip_render:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">&quot;Other/**&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Delete the <code>index.md</code> in <code>/source/Other</code> , and create <code>index.html</code></li>
</ul>
<p>We can write something in <code>index.html</code> , which will keep its style and not be rendered by hexo .</p>
<h4 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h4><p>Itâ€™s a common need to show some part of article in home page and a <code>Read more</code> button to view more .</p>
<p>The best way is : Use <code>&lt;!-- more --&gt;</code> in the article to break the article manually .</p>
<h4 id="Post-Wordcount"><a href="#Post-Wordcount" class="headerlink" title="Post Wordcount"></a>Post Wordcount</h4><p>Install plugin <code>hexo-word-counter</code> :</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install hexo-word-counter</span></span><br></pre></td></tr></table></figure>

<p>Edit <code>_config.yml</code>:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">symbols:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">time:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_symbols:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_time:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude_codeblock:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">awl:</span> <span class="number">2</span>    </span><br><span class="line">  <span class="attr">wpm:</span> <span class="number">275</span></span><br><span class="line">  <span class="attr">suffix:</span> <span class="string">&quot;mins.&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="Tag-Icon"><a href="#Tag-Icon" class="headerlink" title="Tag Icon"></a>Tag Icon</h4><p>By default, tags at the bottom of posts have a symbol # at there left side.</p>
<p>If you prefer icon instead of symbol, edit <code>_config.next.yml</code> like following:</p>
<h4 id="Codeblock-Style"><a href="#Codeblock-Style" class="headerlink" title="Codeblock Style"></a>Codeblock Style</h4><p>You can go to <a href="https://theme-next.js.org/highlight/">Highlight (theme-next.js.org)</a> to choose the theme you like and it will give the way to edit the <code>.yml</code> .</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.yml</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> </span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hljs:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">prismjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">preprocess:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"></span><br><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="comment"># Code Highlight theme</span></span><br><span class="line">  <span class="comment"># All available themes: https://theme-next.js.org/highlight/</span></span><br><span class="line">  <span class="attr">theme:</span></span><br><span class="line">    <span class="attr">light:</span> <span class="string">atom-one-dark</span></span><br><span class="line">    <span class="attr">dark:</span> <span class="string">atom-one-dark</span></span><br><span class="line">  <span class="attr">prism:</span></span><br><span class="line">    <span class="attr">light:</span> <span class="string">prism</span></span><br><span class="line">    <span class="attr">dark:</span> <span class="string">prism-dark</span></span><br><span class="line">  <span class="comment"># Add copy button on codeblock</span></span><br><span class="line">  <span class="attr">copy_button:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">show_result:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Available values: default | flat | mac</span></span><br><span class="line">    <span class="attr">style:</span> <span class="string">mac</span></span><br><span class="line">  <span class="comment"># Fold code block</span></span><br><span class="line">  <span class="attr">fold:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">500</span></span><br></pre></td></tr></table></figure>



<h4 id="Back-To-Top"><a href="#Back-To-Top" class="headerlink" title="Back To Top"></a>Back To Top</h4><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"><span class="attr">back2top:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Back to top in sidebar.</span></span><br><span class="line">  <span class="attr">sidebar:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line">  <span class="attr">scrollpercent:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h4 id="Reading-Progress"><a href="#Reading-Progress" class="headerlink" title="Reading Progress"></a>Reading Progress</h4><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"><span class="comment"># Reading progress bar</span></span><br><span class="line"><span class="attr">reading_progress:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Available values: left | right</span></span><br><span class="line">  <span class="attr">start_at:</span> <span class="string">left</span></span><br><span class="line">  <span class="comment"># Available values: top | bottom</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span></span><br><span class="line">  <span class="attr">reversed:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;#37c6c0&quot;</span></span><br><span class="line">  <span class="attr">height:</span> <span class="string">3px</span></span><br></pre></td></tr></table></figure>

<h4 id="GitHub-Banner"><a href="#GitHub-Banner" class="headerlink" title="GitHub Banner"></a>GitHub Banner</h4><p>NexT provide <code>Follow me on GitHub</code> banner on the right-top corner .</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"><span class="comment"># `Follow me on GitHub` banner in the top-right corner.</span></span><br><span class="line"><span class="attr">github_banner:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">permalink:</span> <span class="string">https://github.com/benkangpeng</span></span><br></pre></td></tr></table></figure>



<h3 id="Tag-Plugin"><a href="#Tag-Plugin" class="headerlink" title="Tag Plugin"></a>Tag Plugin</h3><h4 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h4><p>NexT provide the tag plugin <code>button</code> , which can jump to corresponding link .</p>
<ul>
<li><strong>Usage</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% button url , text , icon[class] , [title] %&#125;</span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% btn url, text, icon [class], [title] %&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><ul>
<li><code>url</code> : Absolute or relative path to URL.</li>
<li><code>text</code> : Button text. Required if no icon specified.</li>
<li><code>icon</code> : Font Awesome icon name. Required if no text specified.</li>
<li><code>[class]</code> : <em>Optional parameter.</em> Font Awesome class(es): <code>fa-fw</code> | <code>fa-lg</code> | <code>fa-2x</code> | <code>fa-3x</code> | <code>fa-4x</code> | <code>fa-5x</code></li>
<li><code>[title]</code> : <em>Optional parameter.</em> Tooltip at mouseover.</li>
</ul>
</li>
</ul>
<p>eg.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% btn # , Text , home , mouseover %&#125;&#123;% btn # , Superpowers , fa fa-external-link , mouseon %&#125;</span><br></pre></td></tr></table></figure>

<a class="btn" href="# " title="mouseover"><i class="fa fa-home"></i>Text</a><a class="btn" href="# " title="mouseon"><i class="fa-superpowers"></i>Superpowers</a>

<div style = "display : flex ; align-items : center ; justify-content: center;"><a class="btn" href="https://github.com" title="GitHub"><i class="fab fa-github fa-fw fa-lg"></i>GitHub</a></div>

<ul>
<li><strong>We can also use <code>Button</code> inside text , for example :</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">For search engineer , I prefer &#123;% btn https://cn.bing.com , Bing , fa fa-search , Bing %&#125; instead of &#123;% btn https://baidu.com , Baidu , fa fa-bomb , Baidu %&#125;</span><br></pre></td></tr></table></figure>

<p>For search engineer , I prefer <a class="btn" href="https://cn.bing.com " title="Bing"><i class="fa fa-search"></i>Bing</a> instead of <a class="btn" href="https://baidu.com " title="Baidu"><i class="fa fa-bomb"></i>Baidu</a>.</p>
<ul>
<li><p><strong>Button margin</strong></p>
<p>Well , maybe this feature is useful for me to build a aggregation of commonly used website .</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div style = &quot;display : flex ; align-items : center ; justify-content : center&quot;&gt;</span><br><span class="line">		&lt;div&gt;&#123;% btn #,, heading %&#125;&#123;% btn #,, fab fa-edge %&#125;&#123;% btn #,, times %&#125;&#123;% btn #,, circle-notch %&#125;&lt;/div&gt;</span><br><span class="line">		&lt;div&gt;&#123;% btn #,, italic %&#125;&#123;% btn #,, fab fa-scribd %&#125;&lt;/div&gt;</span><br><span class="line">		&lt;div&gt;&#123;% btn #,, fab fa-google %&#125;&#123;% btn #,, fab fa-chrome %&#125;&#123;% btn #,, fab fa-opera %&#125;&#123;% btn #,, gem</span><br><span class="line">			fa-rotate-270 %&#125;&lt;/div&gt;</span><br><span class="line">	&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<div style = "display : flex ; align-items : center ; justify-content : center">
        <div><a class="btn" href="#"><i class="fa fa-heading"></i></a><a class="btn" href="#"><i class="fab fa-edge"></i></a><a class="btn" href="#"><i class="fa fa-times"></i></a><a class="btn" href="#"><i class="fa fa-circle-notch"></i></a></div>
        <div><a class="btn" href="#"><i class="fa fa-italic"></i></a><a class="btn" href="#"><i class="fab fa-scribd"></i></a></div>
        <div><a class="btn" href="#"><i class="fab fa-google"></i></a><a class="btn" href="#"><i class="fab fa-chrome"></i></a><a class="btn" href="#"><i class="fab fa-opera"></i></a><a class="btn" href="#"><i class="fa fa-gem fa-rotate-270"></i></a></div>
    </div>



<h4 id="Group-Pictures"><a href="#Group-Pictures" class="headerlink" title="Group Pictures"></a>Group Pictures</h4><p><code>Group Pictures</code> is also an awesome plugin ! Maybe I will use <code>group picture</code> to build my photo repo .</p>
<ul>
<li>Usage</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% gp [number]-[layout] %&#125;</span><br><span class="line">&#123;% endgp %&#125;</span><br></pre></td></tr></table></figure>

<p><code>[number]</code> : optional . Total number of pictures .</p>
<p><code>[layout]</code> : optional . The index of the layout, which can be obtained according to the figure below. For example, if you want to apply the second layout to 4 pictures, then use .</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% grouppicture 4-2 %&#125;&#123;% endgrouppicture %&#125;</span><br></pre></td></tr></table></figure>

<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img src="https://theme-next.js.org/images/group-picture-1.png" alt="group-picture-1.png"></div><div class="group-picture-column"><img src="https://theme-next.js.org/images/group-picture-2.png" alt="group-picture-2.png"></div></div></div>

<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img src="https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg" alt="NEXT.jpg"></div><div class="group-picture-column"><img src="https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg" alt="NEXT.jpg"></div></div><div class="group-picture-row"><div class="group-picture-column"><img src="https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg" alt="NEXT.jpg"></div></div><div class="group-picture-row"><div class="group-picture-column"><img src="https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg" alt="NEXT.jpg"></div><div class="group-picture-column"><img src="https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg" alt="NEXT.jpg"></div></div></div>

<div class="note info"><p>Itâ€™s recommended to enable <code>fancybox</code> before using <code>group pictures</code> .</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</div>



<h4 id="Link-Grid"><a href="#Link-Grid" class="headerlink" title="Link Grid"></a>Link Grid</h4><p><code>Link Grid</code> is simple to <code>group pictures</code> , which may be called â€œGroup Linksâ€ . It may be really awesome to code a page containing some commonly used links by <code>link grid</code> , I think .</p>
<ul>
<li>Usage</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% lg [image] [delimiter] [comment] %&#125;</span><br><span class="line">&#123;% endlg %&#125;</span><br></pre></td></tr></table></figure>

<p><code>[image]</code> : Optional parameter. Default image URL.<br><code>[delimiter]</code> : Optional parameter. If the optional delimiter parameter is given, it is interpreted as the delimiter of items in each line.<br><code>[comment]</code> : Optional parameter. If the optional comment parameter is given, it is interpreted as the symbol to comment out a line.</p>
<p><code>&#123;% lg [image]  %&#125;</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% lg %&#125;</span><br><span class="line">Theme NexT | https://theme-next.js.org/ | Stay Simple. Stay NexT. | https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg</span><br><span class="line">Theme NexT | https://theme-next.js.org/ | Stay Simple. Stay NexT. | https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg</span><br><span class="line">Theme NexT | https://theme-next.js.org/ | Stay Simple. Stay NexT. | https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg</span><br><span class="line">Theme NexT | https://theme-next.js.org/ | Stay Simple. Stay NexT. | https://pic.imgdb.cn/item/65113dadc458853aef1da094.jpg</span><br><span class="line">&#123;% endlg %&#125;</span><br></pre></td></tr></table></figure>

<p>Well , maybe I get in trouble â€¦â€¦ I canâ€™t add the code above here , otherwise there are many bugs after running <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code> .  But in other file , such as <code>External-link</code> in menu ,  it works .I canâ€™t solve this problem â€¦â€¦</p>
<h4 id="Mermaid-WaveDrom"><a href="#Mermaid-WaveDrom" class="headerlink" title="Mermaid &amp; WaveDrom"></a>Mermaid &amp; WaveDrom</h4><p>Two plugins above is useful for flow chart painting .</p>
<h4 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h4><ul>
<li><strong>Settings</strong></li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># NexT config file</span></span><br><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># Note tag style values:</span></span><br><span class="line">  <span class="comment">#  - simple    bs-callout old alert style. Default.</span></span><br><span class="line">  <span class="comment">#  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line">  <span class="comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line">  <span class="comment">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">simple</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line">  <span class="attr">light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Usage</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note [class] [no-icon] [summary] %&#125;</span><br><span class="line">Content</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<p><code>[class]</code> : Optional . Supported values : <code>default</code> | <code>primary</code> | <code>success</code> | <code>info</code> | <code>warning</code> | <code>danger</code> </p>
<p><code>[no-icon]</code> : Optional . Disable icon in note .</p>
<p><code>[summary]</code> : Optional . Summary of note .</p>
<ul>
<li><strong>Examples</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note %&#125;</span><br><span class="line">without define class style</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note "><p>without define class style</p>
</div>





<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note default %&#125;</span><br><span class="line">default style</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note default"><p>default style</p>
</div>





<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note primary %&#125;</span><br><span class="line">#### Primary Header</span><br><span class="line">**Welcome** to [Hexo!](https://hexo.io)</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note primary"><h4 id="Primary-Header"><a href="#Primary-Header" class="headerlink" title="Primary Header"></a>Primary Header</h4><p><strong>Welcome</strong> to <a href="https://hexo.io/">Hexo!</a></p>
</div>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note info %&#125;</span><br><span class="line">#### Info Header</span><br><span class="line">**Welcome** to [Hexo!](https://hexo.io)</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note info"><h4 id="Info-Header"><a href="#Info-Header" class="headerlink" title="Info Header"></a>Info Header</h4><p><strong>Welcome</strong> to <a href="https://hexo.io/">Hexo!</a></p>
</div>





<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note success %&#125;</span><br><span class="line">#### Success Header</span><br><span class="line">**Welcome** to [Hexo!](https://hexo.io)</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note success"><h4 id="Success-Header"><a href="#Success-Header" class="headerlink" title="Success Header"></a>Success Header</h4><p><strong>Welcome</strong> to <a href="https://hexo.io/">Hexo!</a></p>
</div>





<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note danger %&#125;</span><br><span class="line">#### Danger Header</span><br><span class="line">**Welcome** to [Hexo!](https://hexo.io)</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note danger"><h4 id="Danger-Header"><a href="#Danger-Header" class="headerlink" title="Danger Header"></a>Danger Header</h4><p><strong>Welcome</strong> to <a href="https://hexo.io/">Hexo!</a></p>
</div>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note info no-icon %&#125;</span><br><span class="line">#### No icon note</span><br><span class="line">Note **without** icon: `note info no-icon`</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<div class="note info no-icon"><h4 id="No-icon-note"><a href="#No-icon-note" class="headerlink" title="No icon note"></a>No icon note</h4><p>Note <strong>without</strong> icon: <code>note info no-icon</code></p>
</div>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note primary This is a summary %&#125;</span><br><span class="line">#### Details and summary</span><br><span class="line">Note with summary: `note primary This is a summary`</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>

<details class="note primary"><summary><p>This is a summary</p>
</summary>
<h4 id="Details-and-summary"><a href="#Details-and-summary" class="headerlink" title="Details and summary"></a>Details and summary</h4><p>Note with summary: <code>note primary This is a summary</code></p>

</details>

<h4 id="PDF"><a href="#PDF" class="headerlink" title="PDF"></a>PDF</h4><p>NexT also provide the <code>PDF</code> plugin which can add the pdf viewer in the website .</p>
<h3 id="Third-Party-Plugins"><a href="#Third-Party-Plugins" class="headerlink" title="Third Party Plugins"></a>Third Party Plugins</h3><h4 id="Pjax"><a href="#Pjax" class="headerlink" title="Pjax"></a>Pjax</h4><blockquote>
<blockquote>
<p>Easily enable fast AJAX navigation on any website (using pushState() + XHR)</p>
</blockquote>
<p>Pjax is <strong>a standalone JavaScript module</strong> that uses <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/AJAX">AJAX</a> (XmlHttpRequest) and <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history">pushState()</a> to deliver a fast browsing experience.</p>
<p><em>It allows you to completely transform the user experience of standard websites (server-side generated or static ones) to make users feel like they are browsing an app, especially for those with low bandwidth connections.</em></p>
<p><strong>No more full page reloads. No more multiple HTTP requests.</strong></p>
<p><em>Pjax does not rely on other libraries, like jQuery or similar. It is written entirely in vanilla JS.</em></p>
</blockquote>
<p><code>&quot;Make users feel like they are browsing an app&quot; </code> ?  True or False ?  Unbelievable !</p>
<p>Just Edit in <code>_config.next.yml</code>:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pjax:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h4 id="Math-Equations"><a href="#Math-Equations" class="headerlink" title="Math Equations"></a>Math Equations</h4><p>NexT also provide some plugins to render math equations . As I donâ€™t plan to write math notes on my blog (Itâ€™s convient to write them in LaTex , isnâ€™t it ?) , so maybe next time !</p>
<h4 id="Lazyload"><a href="#Lazyload" class="headerlink" title="Lazyload"></a>Lazyload</h4><p>It delays loading of images in long web pages. Images outside of viewport will not be loaded before user scrolls to them. </p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"><span class="attr">lazyload:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h4 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h4><p>NexT provide the animation behavoir . But for me , itâ€™s unnecessary , and I can close animation function to speed my website .</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">motion:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">async:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">transition:</span></span><br><span class="line">    <span class="comment"># All available transition variants: https://theme-next.js.org/animate/</span></span><br><span class="line">    <span class="attr">menu_item:</span> <span class="string">fadeInDown</span></span><br><span class="line">    <span class="attr">post_block:</span> <span class="string">fadeIn</span></span><br><span class="line">    <span class="attr">post_header:</span> <span class="string">fadeInDown</span></span><br><span class="line">    <span class="attr">post_body:</span> <span class="string">fadeInDown</span></span><br><span class="line">    <span class="attr">coll_header:</span> <span class="string">fadeInLeft</span></span><br><span class="line">    <span class="comment"># Only for Pisces | Gemini.</span></span><br><span class="line">    <span class="attr">sidebar:</span> <span class="string">fadeInUp</span></span><br></pre></td></tr></table></figure>

<h4 id="Quicklink"><a href="#Quicklink" class="headerlink" title="Quicklink"></a>Quicklink</h4><p><a href="https://github.com/GoogleChromeLabs/quicklink">Quicklink</a> is a JavaScript plugin that faster subsequent page-loads by prefetching in-viewport links during idle time. Chrome, Firefox, Edge are supported without polyfills.</p>
<p>You can enable it by setting value <code>quicklink.enable</code> to <code>true</code> in NexT config file.</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"><span class="attr">quicklink:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Home page and archive page can be controlled through home and archive options below.</span></span><br><span class="line">  <span class="comment"># This configuration item is independent of `enable`.</span></span><br><span class="line">  <span class="attr">home:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archive:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">Me:</span> <span class="literal">true</span> </span><br><span class="line">  <span class="comment"># &quot;Me&quot; is a menu item I add .</span></span><br><span class="line">  <span class="comment"># Default (true) will initialize quicklink after the load event fires.</span></span><br><span class="line">  <span class="attr">delay:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Custom a time in milliseconds by which the browser must execute prefetching.</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="number">3000</span></span><br><span class="line">  <span class="comment"># Default (true) will attempt to use the fetch() API if supported (rather than link[rel=prefetch]).</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h4 id="AddToAny"><a href="#AddToAny" class="headerlink" title="AddToAny"></a>AddToAny</h4><p>Share your artical to external patform by <code>AddToAny</code> .</p>
<p>On my view , itâ€™s useless â€¦â€¦â€¦</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># AddToAny Share. See: https://www.addtoany.com</span></span><br><span class="line"><span class="attr">addtoany:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">buttons:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">wechat</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">facebook</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">twitter</span></span><br></pre></td></tr></table></figure>

<h4 id="Local-Search"><a href="#Local-Search" class="headerlink" title="Local Search"></a>Local Search</h4><p>Plugin <code>hexo-generator-searchdb</code> provide our website with a local search engineer .</p>
<ul>
<li>Installation</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install hexo-generator-searchdb</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Edit in <code>_config.yml</code></li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Edit in <code>_config.next.yml</code></li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If auto, trigger search by changing input.</span></span><br><span class="line">  <span class="comment"># If manual, trigger search by pressing enter key or search button.</span></span><br><span class="line">  <span class="attr">trigger:</span> <span class="string">auto</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line">  <span class="attr">unescape:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Preload the search data when the page loads.</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>



<p><strong style="color : orange ; font-size : 30px">All right , itâ€™s all about Hexo beautifying !</strong></p>
]]></content>
      <tags>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>Sub-group Swizzleåˆ†å—çŸ©é˜µä¹˜ä¼˜åŒ–åŸç†åˆ†æ</title>
    <url>/posts/2b96453f/</url>
    <content><![CDATA[<h2 id="Sub-group-Swizzleåˆ†å—çŸ©é˜µä¹˜ä¼˜åŒ–åŸç†åˆ†æ"><a href="#Sub-group-Swizzleåˆ†å—çŸ©é˜µä¹˜ä¼˜åŒ–åŸç†åˆ†æ" class="headerlink" title="Sub-group Swizzleåˆ†å—çŸ©é˜µä¹˜ä¼˜åŒ–åŸç†åˆ†æ"></a>Sub-group Swizzleåˆ†å—çŸ©é˜µä¹˜ä¼˜åŒ–åŸç†åˆ†æ</h2><p>å› ä¸ºè¦å†™æˆå®éªŒæŠ¥å‘Šç”¨æ¥åº”ä»˜è¯¾ç¨‹ä½œä¸šï¼Œå› æ­¤å†™å¾—ç½—é‡Œå§å—¦çš„ï¼Œè§è°… :(</p>
<span id="more"></span>

<h3 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h3><p>çŸ©é˜µä¹˜æ³•æ˜¯æ·±åº¦å­¦ä¹ ã€ç§‘å­¦è®¡ç®—ç­‰åº”ç”¨é¢†åŸŸçš„åŸºç¡€ç®—å­ï¼Œå…¶ä¼˜åŒ–æ–¹æ³•æ˜¯å¹¿æ³›ç ”ç©¶çš„è¯¾é¢˜ã€‚å¯¹äºå¤§è§„æ¨¡çŸ©é˜µä¹˜æ³•ï¼Œå¯ä»¥åˆ©ç”¨çº¿æ€§ä»£æ•°ä¸­çŸ©é˜µåˆ†å—ä¹˜æ³•ç†è®ºï¼Œå°†å¤§è§„æ¨¡çŸ©é˜µä¹˜æ³•è½¬åŒ–ä¸ºåˆ†å—çŸ©é˜µä¹˜ã€‚<code>Sub-group Swizzle Block Matrix Multiplication</code>æ˜¯ä¸€ç§å°†çŸ©é˜µä¹˜æ³•åˆ’åˆ†ä¸º<strong>å­ç»„</strong>ï¼Œå¹¶é‡æ–°æ˜ å°„<strong>çº¿ç¨‹å—</strong><code>threadBlockIdx</code>ï¼Œæé«˜<code>GPU L2 Cache Hit Rate</code>ï¼Œä»¥åŠ é€Ÿåˆ†å—çŸ©é˜µä¹˜çš„ä¼˜åŒ–æ–¹æ³•ã€‚è¿™ç§ä¼˜åŒ–æ–¹æ³•åœ¨<code>Cutlass</code>[1], <code>triton</code>[2]ä¸­è¢«å¹¿æ³›å®ç°ï¼Œä½†æ˜¯ç›®å‰ç›¸å…³èµ„æ–™å¯¹è¿™ç§ä¼˜åŒ–æ–¹æ³•åŸç†çš„åˆ†æè¾ƒå°‘ï¼Œç”šè‡³å­˜åœ¨åŸç†ä¸Šçš„é”™è¯¯ï¼Œç›¸å…³è®ºå›ä¸­çš„è®¨è®º[3]æ²¡æœ‰å®šè®ºã€‚æœ¬æ–‡åˆ†æäº†çº¿ç¨‹å—ä¸SMåˆ†é…åŸåˆ™ã€çº¿ç¨‹å—ä¹‹é—´çš„æ‰§è¡Œé¡ºåºï¼Œè§£é‡Šäº†<code>Sub-group Swizzle Matrix Multiplication</code>ä¼˜åŒ–<code>L2 cache hit rate</code>çš„åŸç†ã€‚</p>
<h3 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h3><h4 id="åˆ†å—çŸ©é˜µä¹˜æ³•"><a href="#åˆ†å—çŸ©é˜µä¹˜æ³•" class="headerlink" title="åˆ†å—çŸ©é˜µä¹˜æ³•"></a>åˆ†å—çŸ©é˜µä¹˜æ³•</h4><p><img src="https://pic1.imgdb.cn/item/6836fd4158cb8da5c8164db2.png"><br>ä¸Šå›¾è¡¨ç¤ºçš„æ˜¯$A \times B &#x3D; C$çš„çŸ©é˜µä¹˜æ³•ï¼Œå‡è®¾ä¸‰ä¸ªçŸ©é˜µ$A,Bï¼ŒC$ä¸ºå¤§å°ç›¸ç­‰çš„æ–¹å½¢çŸ©é˜µï¼Œæ¯ä¸€ä¸ªçŸ©é˜µå¯ä»¥åˆ†ä¸º$5\times 5$ä¸ªåˆ†å—ã€‚ä»¥ä¸‹æ˜¯ä¸ºæ¯ä¸€ä¸ªåˆ†å—åˆ†é…ä¸€ä¸ª<code>threadblock</code>å¹¶è¡Œè®¡ç®—<code>C</code>çŸ©é˜µçš„<code>triton</code>æ ¸å‡½æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@triton.JIT</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">matmul_row_wise</span>(<span class="params">...</span>):</span><br><span class="line">    pid = tl.program_id(axis=<span class="number">0</span>)</span><br><span class="line">    grid_n = tl.cdiv(N, BLOCK_SIZE_N)</span><br><span class="line">    pid_m = pid // grid_n</span><br><span class="line">    pid_n = pid % grid_n</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#compute every block of matrix C</span></span><br><span class="line">    .......</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Š<code>triton</code>æ ¸å‡½æ•°åˆ†é…äº†$5\times5$ä¸ªçº¿ç¨‹å—ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹å—å–å‡º<code>A</code>çŸ©é˜µç›¸åº”çš„<strong>åˆ†å—è¡Œ</strong>(<code>a row of blocks in A</code>)ï¼Œä¸BçŸ©é˜µç›¸åº”çš„åˆ†å—åˆ—(<code>a column of blocks in B</code>)ï¼Œè®¡ç®—å¾—åˆ°<code>C</code>çŸ©é˜µå¯¹åº”çš„ä¸€ä¸ªåˆ†å—ã€‚<code>threadblockIdx</code>(<code>Tritonä¸­ç§°ä¸ºProgram Idx</code>)æŒ‰ç…§åˆ—ä¸»åº(<code>row-wise</code>)åˆ†å¸ƒã€‚ä½†æ˜¯ï¼Œè¿™ç§ç®—æ³•çš„<code>L2 cache hit rate</code>ä¸é«˜ï¼Œå½“$B$çŸ©é˜µåˆ—æ•°$N$è¾ƒå¤§æ—¶ï¼Œ<code>L2 cache</code>å‘½ä¸­ç‡è¾ƒä½ã€‚</p>
<h4 id="Sub-group-Swizzleåˆ†å—çŸ©é˜µä¹˜"><a href="#Sub-group-Swizzleåˆ†å—çŸ©é˜µä¹˜" class="headerlink" title="Sub-group Swizzleåˆ†å—çŸ©é˜µä¹˜"></a>Sub-group Swizzleåˆ†å—çŸ©é˜µä¹˜</h4><p><code>Sub-group Swizzle Block Matmul</code>åˆ†ä¸ºä¸¤æ­¥ï¼šâ‘ å°†å¤šä¸ª<strong>åˆ†å—è¡Œ</strong>åˆ†ä¸ºä¸€ä¸ª<code>sub-group</code>ï¼›â‘¡æ›´æ”¹<code>threadblockIdx</code>åœ¨ç»“æœçŸ©é˜µ<code>C</code>ä¸Šçš„æ’åˆ—é¡ºåºã€‚</p>
<p><img src="https://pic1.imgdb.cn/item/6836fd6858cb8da5c8164dc4.png"></p>
<p>å¦‚å›¾äºŒæ‰€ç¤ºï¼Œåœ¨ä¸€ä¸ªåˆ†ç»„ä¸­ï¼Œ<code>threadblockIdx</code>æŒ‰ç…§å¦‚å›¾æ‰€ç¤ºçš„æŠ˜çº¿åˆ†å¸ƒã€‚ä¾‹å¦‚åœ¨ä¸€ä¸ªå¤§å°ä¸º2çš„åˆ†ç»„ä¸­ï¼Œ<code>threadblockIdx</code>æŒ‰ç…§<code>(0,0)ï¼Œ(1,0)ï¼Œ(0,1)ï¼Œ(1,1)</code>çš„é¡ºåºé€’å¢ï¼Œåœ¨ä¸‹ä¸€ä¸ªåˆ†ç»„ä¸­ï¼Œ<code>threadblockIdx</code>æŒ‰ç…§<code>(2,0),(3,0),(2,1),(3,1)</code>çš„é¡ºåºé€’å¢ã€‚ä»¥ä¸‹ä¸ºè¿™ç§ç®—æ³•çš„<code>triton</code>å®ç°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@triton.jit</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">matmul_kernel_group_col_wise</span>(<span class="params"></span></span><br><span class="line"><span class="params">        <span class="comment"># Pointers to matrices</span></span></span><br><span class="line"><span class="params">        a_ptr, b_ptr, c_ptr,M, N, K,stride_am, stride_ak,stride_bk, stride_bn, </span></span><br><span class="line"><span class="params">        stride_cm, stride_cn,</span></span><br><span class="line"><span class="params">        <span class="comment"># Meta-parameters</span></span></span><br><span class="line"><span class="params">        BLOCK_SIZE_M: tl.constexpr, BLOCK_SIZE_N: tl.constexpr, BLOCK_SIZE_K: tl.constexpr,  <span class="comment">#</span></span></span><br><span class="line"><span class="params">        GROUP_SIZE_M: tl.constexpr,  <span class="comment">#</span></span></span><br><span class="line"><span class="params">        ACTIVATION: tl.constexpr  <span class="comment">#</span></span></span><br><span class="line"><span class="params"></span>):</span><br><span class="line">    pid = tl.program_id(axis=<span class="number">0</span>)</span><br><span class="line">    num_pid_m = tl.cdiv(M, BLOCK_SIZE_M)</span><br><span class="line">    num_pid_n = tl.cdiv(N, BLOCK_SIZE_N)</span><br><span class="line">    num_pid_in_group = GROUP_SIZE_M * num_pid_n</span><br><span class="line">    group_id = pid // num_pid_in_group</span><br><span class="line">    first_pid_m = group_id * GROUP_SIZE_M</span><br><span class="line">    group_size_m = <span class="built_in">min</span>(num_pid_m - first_pid_m, GROUP_SIZE_M)</span><br><span class="line">    pid_m = first_pid_m + ((pid % num_pid_in_group) % group_size_m)</span><br><span class="line">    pid_n = (pid % num_pid_in_group) // group_size_m</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#computer every block.......</span></span><br></pre></td></tr></table></figure>

<p>åŸºäºåˆ†ç»„çš„<code>swizzle</code> <code>threadblockIdx</code>æ˜ å°„æ–¹å¼èƒ½å¤Ÿæé«˜<code>L2 cache</code>å‘½ä¸­ç‡ã€‚ç„¶è€Œï¼Œæ²¡æœ‰ç›¸å…³ææ–™è®ºè¿°å…¶ä¸­çš„åŸç†ã€‚ææ–™[2]è®¤ä¸ºçº¿ç¨‹å—ä¹‹é—´æ˜¯ä¸¥æ ¼ä¸²è¡Œçš„ï¼Œå› æ­¤èƒ½å¤Ÿå¤ç”¨éƒ¨åˆ†æ•°æ®ã€‚ä½†åœ¨<code>CUDA</code>ç¼–ç¨‹æ¨¡å‹ä¸­ï¼Œæ‰€æœ‰çº¿ç¨‹å—ä¹‹é—´å¹¶ä¸æ˜¯ä¸¥æ ¼ä¸²è¡Œçš„ï¼Œçº¿ç¨‹å—ä¹‹é—´çš„æ‰§è¡Œé¡ºåºç”±<code>GPU SM Scheduler</code>å’Œç¡¬ä»¶èµ„æºæ‰€å½±å“ï¼Œå­˜åœ¨è¾ƒä¸ºå¤æ‚çš„å…³ç³»ã€‚æ¥ä¸‹æ¥å°†å±•å¼€ä¼˜åŒ–åŸç†åˆ†æã€‚</p>
<h4 id="åŸç†åˆ†æ"><a href="#åŸç†åˆ†æ" class="headerlink" title="åŸç†åˆ†æ"></a>åŸç†åˆ†æ</h4><h5 id="ThreadBlockä¸SMæ˜ å°„å…³ç³»"><a href="#ThreadBlockä¸SMæ˜ å°„å…³ç³»" class="headerlink" title="ThreadBlockä¸SMæ˜ å°„å…³ç³»"></a>ThreadBlockä¸SMæ˜ å°„å…³ç³»</h5><p>GPUæŒ‰ç…§<code>ThreadBlockIdx</code>é¡ºåºæ˜ å°„åˆ°<code>SM(Stream Mutliprocessor)</code>ï¼Œå æ»¡æ‰€æœ‰SMåï¼Œå‰©ä½™çš„<code>threadblock</code>ç­‰å¾…<code>SM</code>èµ„æºçš„é‡Šæ”¾ï¼Œä¸€æ—¦SMç©ºé—²ï¼Œåˆ™åˆ†é…åˆ°è¯¥SMä¸Šã€‚ä½¿ç”¨å¦‚ä¸‹è®¾å¤‡ç«¯ä»£ç å¯ä»¥è·å–æ¯ä¸€ä¸ª<code>threadblock</code>å¯¹åº”çš„<code>SM</code>çš„ç´¢å¼•ï¼Œä»è€Œé€†å‘å¾—åˆ°ç‰¹å®šGPUä¸Š<code>threadblock</code>ä¸<code>SM</code>çš„æ˜ å°„å…³ç³»ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function">__device__ <span class="type">unsigned</span> <span class="type">int</span> <span class="title">smid</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> sm;</span><br><span class="line">    <span class="built_in">asm</span>(<span class="string">&quot;mov.u32  %0, %%smid;&quot;</span> : <span class="string">&quot;=r&quot;</span>(sm));</span><br><span class="line">    <span class="keyword">return</span> sm;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼Œ<code>GeForce 4090 GPU</code>æœ‰9ä¸ªå®Œæ•´çš„<code>GPC(Graph Process cluster</code>(æ¯ä¸ªGPCå«æœ‰12ä¸ªSM)ï¼Œ2ä¸ªä¸å®Œæ•´çš„<code>GPC</code>(æ¯ä¸ªGPCå«10ä¸ªSM)ï¼Œå…±$9\times12+2\times10&#x3D;128$ä¸ªSMã€‚åœ¨å®éªŒç¨‹åºä¸­ï¼Œç”±äºèµ„æºé™åˆ¶ï¼Œå•ä¸ª<code>SM</code>æœ€å¤šåŒæ—¶å¹¶è¡Œ2ä¸ª<code>threadblock</code>(<code>residency=2</code>)ä¸‹å›¾ä¸º<code>GeForce RTX 4090</code>ä¸­<code>SM</code>ä¸<code>threadblock</code>ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚<br><img src="https://pic1.imgdb.cn/item/6836fe1458cb8da5c8164ddf.png" alt="[The mapping relationship between SMs and thread blocks on NVIDIA GeForce RTX 4090.png]"><br>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œ<code>0~127</code>å·<code>threadblock</code>è¢«ä¾æ¬¡æ˜ å°„åˆ°<code>0,0,2,2,4,4,6,6......126,126</code>å·<code>SM</code>ä¸Šï¼Œ<code>128~143</code>å·<code>threadblock</code>è¢«ä¾æ¬¡æ˜ å°„åˆ°<code>1,1,3,3,5,5......15,15</code>å·<code>SM</code>ä¸Šï¼Œ<code>144~199</code>å·<code>threadblock</code>è¢«ä¾æ¬¡æ˜ å°„åˆ°<code>17,19......127</code>å·<code>SM</code>ä¸Šï¼Œ<code>200~255</code>å·<code>threadblock</code>è¢«ä¾æ¬¡æ˜ å°„åˆ°<code>17,19......127</code>å·<code>SM</code>ã€‚<code>threadblockIdx</code>å¤§äº255çš„<code>threadblock</code>ç­‰å¾…<code>SM</code>èµ„æºçš„é‡Šæ”¾ï¼Œä¸€æ—¦<code>SM</code>ç©ºé—²ï¼Œåˆ™å°†<code>threadblock</code>æ˜ å°„åˆ°ç©ºé—²çš„<code>SM</code>ä¸Šã€‚</p>
<p>æˆ‘ä»¬ç§°ç¬¬ä¸€æ¬¡è°ƒåº¦ä¸­ï¼Œå°†å°½å¯èƒ½å¤šçš„<code>threadblock</code>æ˜ å°„åˆ°<code>SMs</code>ä¸Šï¼Œå æ»¡<code>SM</code>ï¼Œä¸º<code>the first wave</code>(ç¬¬ä¸€æ³¢è°ƒåº¦)[4]ã€‚æ‰€æœ‰SMè¢«å æ»¡åï¼Œé‡‡ç”¨è´ªå¿ƒè°ƒåº¦ç­–ç•¥(Greedy Schedule)å°†<code>threadblock</code>æ˜ å°„åˆ°<code>SM</code>ï¼Œå³ä¸€æ—¦æœ‰SMç©ºé—²ï¼Œç«‹åˆ»å°†<code>threadblock</code>æ˜ å°„ä¸Šã€‚ä½¿ç”¨å¦‚ä¸‹è®¾å¤‡ç«¯å‡½æ•°æµ‹å‡ºå„çº¿ç¨‹å—å‘å°„æ—¶é—´ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">__device__ unsigned long long globaltime(void)</span><br><span class="line">&#123;</span><br><span class="line">    unsigned long long time;</span><br><span class="line">    asm(<span class="string">&quot;mov.u64  %0, %%globaltimer;&quot;</span> : <span class="string">&quot;=l&quot;</span>(time));</span><br><span class="line">    <span class="keyword">return</span> time;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://pic1.imgdb.cn/item/6836fe2e58cb8da5c8164de4.png" alt="[the first wave and Greedy Schedule.jpg]"></p>
<p>ç”±ä¸Šå›¾å¯çŸ¥ï¼Œç”±äºGPU SMèµ„æºé™åˆ¶ï¼ŒGPUä¸èƒ½åŒæ—¶å‘å°„æ‰€æœ‰çš„<code>threadblocks</code>ï¼Œå› æ­¤ä¸åŒæ‰¹æ¬¡å‘å°„åˆ°<code>SM</code>ä¸Šçš„<code>threadblocks</code>ä¹‹é—´å­˜åœ¨ä¸²è¡Œå…³ç³»ã€‚æ¥ä¸‹æ¥åˆ†æä¸åŒæ‰¹æ¬¡çš„<code>threadblock</code>ä¹‹é—´å¦‚ä½•é€šè¿‡åˆ†ç»„<code>swizzle</code>ä¼˜åŒ–<code>L2 cache</code>å‘½ä¸­ç‡ã€‚</p>
<h5 id="ä¸åŒæ‰¹æ¬¡ä¹‹é—´çº¿ç¨‹å—è®¿å­˜ä¼˜åŒ–"><a href="#ä¸åŒæ‰¹æ¬¡ä¹‹é—´çº¿ç¨‹å—è®¿å­˜ä¼˜åŒ–" class="headerlink" title="ä¸åŒæ‰¹æ¬¡ä¹‹é—´çº¿ç¨‹å—è®¿å­˜ä¼˜åŒ–"></a>ä¸åŒæ‰¹æ¬¡ä¹‹é—´çº¿ç¨‹å—è®¿å­˜ä¼˜åŒ–</h5><p>æœ¬èŠ‚å°†å¯¹<code>L2 cache</code>è®¿é—®è¿›è¡Œé‡åŒ–åˆ†æï¼Œåˆ†ææ¡ˆä¾‹ä¸ºï¼š</p>
<ul>
<li>çŸ©é˜µåˆ†å—è§„æ¨¡<code>M,K,N = 512, 512, 512</code>ï¼Œæ•°æ®ç²¾åº¦ä¸º<code>Fp16</code>ï¼Œ<code>BLOCK SIZE M,K,N = 64,64,32</code></li>
<li><code>NVIDIA GeForce RTX 4090</code> <code>L2 cache</code>ä¸º<code>72MB</code>ï¼Œä¸ºä¾¿äºåˆ†æï¼Œå‡è®¾<code>L2 cache</code>å®¹é‡æ­£å¥½èƒ½å¤Ÿç¼“å­˜ä½256ä¸ª<code>threadblock</code>è®¡ç®—æ‰€éœ€çš„æ•°æ®é‡ã€‚</li>
<li>å‡è®¾æ¯ä¸€æ‰¹æ¬¡çš„æ‰€æœ‰<code>threadblock</code>åŒæ—¶ç»“æŸã€‚è™½ç„¶ä¸€èˆ¬æ¥è¯´ï¼ŒçŸ©é˜µä¹˜æ³•ä¸­æ¯ä¸ª<code>threadblock</code>è®¡ç®—çš„æ•°æ®é‡ç›¸åŒï¼Œä½†æ˜¯å„<code>threadblock</code>çš„è€—æ—¶å¯èƒ½ä¸æ˜¯ä¸¥æ ¼ç›¸ç­‰ã€‚ä¸ºä¾¿äºåˆ†æï¼Œæ­¤å¤„åšè¿‘ä¼¼åˆ†æï¼Œä¸‹ä¸€èŠ‚åšè¡¥å……è¯´æ˜ã€‚</li>
</ul>
<p><img src="https://pic1.imgdb.cn/item/6836fe4058cb8da5c8164de5.png" alt="[row wise 256blocks.jpg]"><br>ä¸Šå›¾å±•ç¤ºäº†æŒ‰ç…§è¡Œä¸»åºè®¾ç½®<code>threadblockIdx</code>çš„è®¡ç®—æµç¨‹ï¼šâ‘ <code>C0</code>è¡¨ç¤ºç¬¬ä¸€æ‰¹åŒæ—¶å¯åŠ¨çš„256ä¸ª<code>ThreadBlocks</code>ã€‚256ä¸ª<code>threadblocks</code>åŒæ—¶è¯»å–<code>A0(ä¸€è¡Œåˆ†å—)</code>ï¼ŒGPUä¼šå°†å…¶åˆå¹¶ä¸ºä¸€æ¬¡è¯»æ“ä½œï¼›256ä¸ª<code>threadBlocks</code>ä¸€å…±éœ€è¦è¯»å–<code>B0(256åˆ—åˆ†å—)</code>ã€‚é‚£ä¹ˆ<code>C0</code>ä¸­256ä¸ª<code>threadblocks</code>å®Œæˆè®¡ç®—æ€»å…±éœ€è¦ä»<code>Global Memory</code>ä¸­è¯»257è¡Œåˆ†å—ã€‚æ­¤æ—¶ï¼Œ<code>A0</code>å’Œ<code>B0</code>è¢«ç¼“å­˜åœ¨L2 cacheä¸­ã€‚â‘¡<code>C1</code>ä¸­256ä¸ª<code>threadblocks</code>éœ€è¦è¯»<code>A0</code>å’Œ<code>B1</code>ã€‚<code>A0</code>è¢«ç¼“å­˜åœ¨L2 Cacheä¸­ï¼Œä¸éœ€è¦ä»Global Memoryä¸­è¯»å–ã€‚<code>B1</code>éœ€è¦ä»Global Memoryè¯»å–ã€‚C1å®Œæˆè®¡ç®—éœ€è¦ä»Global Memoryä¸­è¯»å–256è¡Œåˆ†å—(å¿½ç•¥ä»L2 Cacheä¸­è¯»å–A0çš„å¼€é”€ï¼Œå› ä¸ºL2 Cacheé€Ÿåº¦è¿œå¿«äºGlobal Memory)ã€‚æ­¤æ—¶A0å’ŒB1è¢«ç¼“å­˜åœ¨L2 Cacheä¸­(B0è¢«æ›¿æ¢)ã€‚åŒç†ï¼Œâ‘¢C2å®Œæˆè®¡ç®—éœ€è¦ä»Global Memoryä¸­è¯»å–257è¡Œåˆ†å—ï¼›â‘£C3å®Œæˆè®¡ç®—éœ€è¦ä»Global Memoryä¸­è¯»å–257è¡Œåˆ†å—ã€‚</p>
<p>ç»¼ä¸Šï¼Œ4æ‰¹<code>threadblocks</code>å®Œæˆè®¡ç®—ï¼Œä¾æ¬¡éœ€è¦ä»Global Memoryè¯»å–çš„æ•°æ®é‡ï¼š257è¡Œåˆ†å—$\rightarrow$ 256 $\rightarrow$ 257 $\rightarrow$ 256ã€‚</p>
<p><img src="https://pic1.imgdb.cn/item/6836fedc58cb8da5c8164e0b.png" alt="sub-group swizzle 256 blocks.png"><br>ä¸Šå›¾å±•ç¤ºäº†åˆ†ç»„å¤§å°ä¸º2ï¼ŒæŒ‰ç…§æŠ˜çº¿é¡ºåºç¼–æ’<code>threadblockIdx</code>çš„è®¡ç®—æµç¨‹ï¼šâ‘ <code>C0</code>è¡¨ç¤ºç¬¬ä¸€æ‰¹åŒæ—¶å¯åŠ¨çš„256ä¸ª<code>ThreadBlocks</code>ã€‚256ä¸ª<code>threadblocks</code>åŒæ—¶è¯»å–<code>A0(ä¸€è¡Œåˆ†å—)</code>ï¼ŒGPUä¼šå°†å…¶åˆå¹¶ä¸ºä¸€æ¬¡è¯»æ“ä½œï¼›256ä¸ª<code>threadBlocks</code>ä¸€å…±éœ€è¦è¯»å–<code>B0(256åˆ—åˆ†å—)</code>ã€‚é‚£ä¹ˆ<code>C0</code>ä¸­256ä¸ª<code>threadblocks</code>å®Œæˆè®¡ç®—æ€»å…±éœ€è¦ä»<code>Global Memory</code>ä¸­è¯»257è¡Œåˆ†å—ã€‚æ­¤æ—¶ï¼Œ<code>A0</code>å’Œ<code>B0</code>è¢«ç¼“å­˜åœ¨L2 cacheä¸­ã€‚â‘¡<code>C1</code>ä¸­256ä¸ª<code>threadblocks</code>éœ€è¦è¯»<code>A1</code>å’Œ<code>B0</code>ã€‚<code>B0</code>è¢«ç¼“å­˜åœ¨L2 Cacheä¸­ï¼Œä¸éœ€è¦ä»Global Memoryä¸­è¯»å–ã€‚<code>A1</code>éœ€è¦ä»Global Memoryè¯»å–ã€‚C1å®Œæˆè®¡ç®—éœ€è¦ä»Global 1è¡Œåˆ†å—(å¿½ç•¥ä»L2 Cacheä¸­è¯»å–B0çš„å¼€é”€ï¼Œå› ä¸ºL2 Cacheé€Ÿåº¦è¿œå¿«äºGlobal Memory)ã€‚æ­¤æ—¶A1å’ŒB0è¢«ç¼“å­˜åœ¨L2 Cacheä¸­(A0è¢«æ›¿æ¢)ã€‚åŒç†ï¼Œâ‘¢C2å®Œæˆè®¡ç®—éœ€è¦ä»Global Memoryä¸­è¯»å–257è¡Œåˆ†å—ï¼›â‘£C3å®Œæˆè®¡ç®—éœ€è¦ä»Global Memoryä¸­è¯»å–1è¡Œåˆ†å—ã€‚</p>
<p>ç»¼ä¸Šï¼Œ4æ‰¹<code>threadblocks</code>å®Œæˆè®¡ç®—ï¼Œä¾æ¬¡éœ€è¦ä»Global Memoryè¯»å–çš„æ•°æ®é‡ï¼š257è¡Œåˆ†å—$\rightarrow$ 1 $\rightarrow$ 257 $\rightarrow$ 1ã€‚</p>
<p>ç”±æ­¤å¯è§ï¼Œåˆ†ç»„æŠ˜çº¿ç¼–æ’<code>threadblockIdx</code>èƒ½å¤Ÿè¾ƒå¤§åœ°æå‡<code>L2 Cache</code>å‘½ä¸­ç‡ã€‚</p>
<h5 id="åŒä¸€æ‰¹çº¿ç¨‹å—çš„å‘å°„é¡ºåº"><a href="#åŒä¸€æ‰¹çº¿ç¨‹å—çš„å‘å°„é¡ºåº" class="headerlink" title="åŒä¸€æ‰¹çº¿ç¨‹å—çš„å‘å°„é¡ºåº"></a>åŒä¸€æ‰¹çº¿ç¨‹å—çš„å‘å°„é¡ºåº</h5><p>åŒä¸€æ‰¹çº¿ç¨‹å—çš„å‘å°„é¡ºåºå¹¶ä¸æ˜¯ä¸¥æ ¼å¹¶è¡Œçš„ï¼Œè€Œæ˜¯å¤§è‡´ä¸ŠæŒ‰ç…§<code>threadblockIdx</code>çš„é¡ºåºå‘å°„(ä½†ä¸æ˜¯ä¸¥æ ¼é¡ºåº)ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º[5]ï¼š<br><img src="https://pic1.imgdb.cn/item/6836ff2558cb8da5c8164e29.png" alt="Time-View of CTA Scheduling Across SMs.png"><br>å¯ä»¥å¾—å‡ºç»éªŒæ€§çš„ç»“è®ºï¼šè®©<code>threadblockIdx</code>ç›¸é‚»çš„çº¿ç¨‹å—è®¿é—®ç›¸é‚»åœ°å€çš„æ•°æ®ï¼Œæ›´æœ‰å¯èƒ½æé«˜<code>L2 Cache</code>å‘½ä¸­ç‡ã€‚</p>
<h4 id="å®éªŒï¼šæ€§èƒ½æ¯”è¾ƒ"><a href="#å®éªŒï¼šæ€§èƒ½æ¯”è¾ƒ" class="headerlink" title="å®éªŒï¼šæ€§èƒ½æ¯”è¾ƒ"></a>å®éªŒï¼šæ€§èƒ½æ¯”è¾ƒ</h4><p>å®éªŒç¯å¢ƒï¼š</p>
<ul>
<li><code>NVIDIA GeForce RTX 4090</code></li>
<li><code>cuda 12.1</code></li>
<li><code>CentOS 7.9</code></li>
</ul>
<p>ä¸‹å›¾æ˜¯ä¸¤ç§ä¸åŒçš„<code>threadblockIdx</code>ç¼–æ’é¡ºåºçš„ç®—æ³•æ€§èƒ½å¯¹æ¯”å›¾ã€‚å½“çŸ©é˜µè§„æ¨¡è¾ƒå°æ—¶ï¼Œä¸¤ç§ç®—æ³•æ€§èƒ½æ¥è¿‘ï¼Œåœ¨å¤§è§„æ¨¡çŸ©é˜µä¹˜æ—¶ï¼Œ<code>sub-group swizzle</code>æ¯”<code>row-wise</code>æ€§èƒ½å¤§çº¦é«˜2å€ã€‚</p>
<p><img src="https://pic1.imgdb.cn/item/6836feef58cb8da5c8164e11.png" alt="[row-wise vs sub-group swizzle.png]"><br><code>L2 Cache Hit rate</code>å¯¹æ¯”ï¼š<br><img src="https://pic1.imgdb.cn/item/6836ff6158cb8da5c8164e2f.png" alt="L2 cache hit rate compare.png"></p>
<p>å°è§„æ¨¡çŸ©é˜µä¹˜æ³•ä¸­ï¼Œå› ä¸º<code>4090 GPU</code> L2 Cacheè¶³å¤Ÿå¤§(72MB)ï¼Œèƒ½å¤Ÿç¼“å­˜ä½æ‰€æœ‰çš„æ•°æ®ï¼Œä¸¤ç§ç®—æ³•çš„L2 cacheå‘½ä¸­ç‡éƒ½å¾ˆé«˜ã€‚å¤§è§„æ¨¡çŸ©é˜µä¹˜æ³•ä¸­ï¼Œä¸¤ç§ç®—æ³•æœ‰æ˜æ˜¾å·®å¼‚ï¼Œ<code>M,K,N=16384</code>ä¸‹ï¼Œä¸¤ç§ç®—æ³•çš„L2 cacheå‘½ä¸­ç‡åˆ†åˆ«ä¸º<code>83.22%, 95.70%</code>ï¼Œ<code>M,K,N=32768</code>è§„æ¨¡ä¸‹åˆ†åˆ«ä¸º<code>83.28%, 95.64%</code>ã€‚</p>
<p>ç»è¿‡<code>triton tuning</code>åï¼Œ<code>sub-group swizzle</code>çŸ©é˜µä¹˜ä¸<code>cuBLAS</code>æ€§èƒ½å¯¹æ¯”å›¾ã€‚<br><img src="https://pic1.imgdb.cn/item/6836ff3e58cb8da5c8164e2d.png" alt="[tuning triton vs cublas.png]"></p>
<h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><p><a id="1">[1]</a> <a href="https://github.com/NVIDIA/cutlass/blob/main/include/cutlass/gemm/threadblock/threadblock_swizzle.h">https://github.com/NVIDIA/cutlass/blob/main/include/cutlass/gemm/threadblock/threadblock_swizzle.h</a><br>[2] <a href="https://triton-lang.org/main/getting-started/tutorials/03-matrix-multiplication.html">https://triton-lang.org/main/getting-started/tutorials/03-matrix-multiplication.html</a><br>[3] <a href="https://github.com/NVIDIA/cutlass/issues/1017">https://github.com/NVIDIA/cutlass/issues/1017</a><br>[4] <a href="https://cs.rochester.edu/%7Esree/fermi-tbs/fermi-tbs.html">https://cs.rochester.edu/%7Esree/fermi-tbs/fermi-tbs.html</a><br>[5] Yang J, Wen M, Chen D, et al. HyFiSS: A Hybrid Fidelity Stall-Aware Simulator for GPGPUs[C]&#x2F;&#x2F;2024 57th IEEE&#x2F;ACM International Symposium on Microarchitecture (MICRO). IEEE, 2024: 168-185.</p>
]]></content>
  </entry>
  <entry>
    <title>HDLBits Solutions</title>
    <url>/posts/4ff0bc03/</url>
    <content><![CDATA[<h3>Abstract</h3>

<p>The solutions and my notes of <a href="[Problem sets - HDLBits (01xz.net)](https://hdlbits.01xz.net/wiki/Problem_sets)">HDLBits</a> are written in this document .</p>

<span id="more"></span>

<p>[TOC]</p>
<h1 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h1><h3 id="Getting-Started-1"><a href="#Getting-Started-1" class="headerlink" title="Getting Started"></a>Getting Started</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( <span class="keyword">output</span> one );</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">assign</span> one = <span class="number">1&#x27;b1</span>;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="Output-Zero"><a href="#Output-Zero" class="headerlink" title="Output Zero"></a>Output Zero</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module ( <span class="keyword">output</span> zero );</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">assign</span> zero = <span class="number">1&#x27;b0</span>;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>



<h1 id="Verilog-Language"><a href="#Verilog-Language" class="headerlink" title="Verilog Language"></a>Verilog Language</h1><h2 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h2><h3 id="Simple-wire"><a href="#Simple-wire" class="headerlink" title="Simple wire"></a>Simple wire</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( <span class="keyword">input</span> in, <span class="keyword">output</span> out );</span><br><span class="line">	<span class="keyword">assign</span> out = in;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Four-wires"><a href="#Four-wires" class="headerlink" title="Four wires"></a>Four wires</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">	<span class="keyword">input</span> a,</span><br><span class="line">	<span class="keyword">input</span> b,</span><br><span class="line">	<span class="keyword">input</span> c,</span><br><span class="line">	<span class="keyword">output</span> w,</span><br><span class="line">	<span class="keyword">output</span> x,</span><br><span class="line">	<span class="keyword">output</span> y,</span><br><span class="line">	<span class="keyword">output</span> z  );</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">assign</span> w = a;</span><br><span class="line">	<span class="keyword">assign</span> x = b;</span><br><span class="line">	<span class="keyword">assign</span> y = b;</span><br><span class="line">	<span class="keyword">assign</span> z = c;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// If we&#x27;re certain about the width of each signal, using </span></span><br><span class="line">	<span class="comment">// the concatenation operator is equivalent and shorter:</span></span><br><span class="line">	<span class="comment">// assign &#123;w,x,y,z&#125; = &#123;a,b,b,c&#125;;</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Inverter"><a href="#Inverter" class="headerlink" title="Inverter"></a>Inverter</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">	<span class="keyword">input</span> in,</span><br><span class="line">	<span class="keyword">output</span> out</span><br><span class="line">);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">assign</span> out = ~in;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="AND-gate"><a href="#AND-gate" class="headerlink" title="AND gate"></a>AND gate</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> a, </span><br><span class="line">    <span class="keyword">input</span> b, </span><br><span class="line">    <span class="keyword">output</span> out );</span><br><span class="line">	<span class="keyword">assign</span> out = a &amp; b ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="NOR-gate"><a href="#NOR-gate" class="headerlink" title="NOR gate"></a>NOR gate</h3><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> a, </span><br><span class="line">    <span class="keyword">input</span> b, </span><br><span class="line">    <span class="keyword">output</span> out );</span><br><span class="line">    <span class="keyword">assign</span> out = ! (a | b) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="XNOR-gate"><a href="#XNOR-gate" class="headerlink" title="XNOR gate"></a>XNOR gate</h3><h3 id="Declaring-wires"><a href="#Declaring-wires" class="headerlink" title="Declaring wires"></a>Declaring wires</h3><h3 id="7458-chip"><a href="#7458-chip" class="headerlink" title="7458 chip"></a>7458 chip</h3><h2 id="Vectors"><a href="#Vectors" class="headerlink" title="Vectors"></a>Vectors</h2><h3 id="Vectors-1"><a href="#Vectors-1" class="headerlink" title="Vectors"></a>Vectors</h3><h2 id="More-Verilog-Features"><a href="#More-Verilog-Features" class="headerlink" title="More Verilog Features"></a>More Verilog Features</h2><h3 id="Combinational-for-loop-Vector-reversal-2"><a href="#Combinational-for-loop-Vector-reversal-2" class="headerlink" title="*Combinational for-loop : Vector reversal 2"></a>*Combinational for-loop : Vector reversal 2</h3><blockquote>
<p>Given a 100-bit input vector [99:0], reverse its bit ordering.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">// False Vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] in ,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] out </span><br><span class="line">) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">100</span> ; i++) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">assign</span> out[i] = in [<span class="number">99</span> - i] ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Error (10170): Verilog HDL syntax error at top_module.v(6) near text: &quot;for&quot;;  expecting &quot;endmodule&quot;. </span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„æŠ¥é”™å‘¢ï¼Ÿæ˜¾ç¤ºåœ¨forå¾ªç¯é‚£ä¸€è¡Œå‰ç¼ºå°‘ä¸€ä¸ªendmodule</p>
<blockquote>
<p>åœ¨moduleå†…éƒ¨ï¼Œåªèƒ½<strong>å£°æ˜è¾“å…¥</strong>ã€<strong>è¾“å‡ºç«¯å£ã€å†…éƒ¨ä¿¡å·ä»¥åŠä½¿ç”¨è¿ç»­èµ‹å€¼</strong>ï¼ˆ<code>assign</code> è¯­å¥ï¼‰æ¥æè¿°ç¡¬ä»¶ç”µè·¯çš„è¿ç»­é€»è¾‘</p>
</blockquote>
<p>å› æ­¤ï¼Œ<code>verilog</code>ç¼–è¯‘å™¨è®¤ä¸ºï¼Œ<code>for</code>å¾ªç¯å‰åº”è¯¥æœ‰ä¸€ä¸ª<code>endmodule</code>ä»¥ç»“æŸè¯¥<code>module</code>,æ­¤åæ‰èƒ½å¼€å§‹<code>for-loop</code>çš„å£°æ˜ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆVerilogè§„å®šModuleå†…éƒ¨ä¸èƒ½å£°æ˜for-loop?</strong></p>
<blockquote>
<p>å½“æ¶‰åŠåˆ°ç¡¬ä»¶æè¿°è¯­è¨€ï¼ˆHDLï¼‰å¦‚Verilogæ—¶ï¼Œæœ‰ä¸€äº›å…³é”®çš„è®¾è®¡åŸåˆ™å’Œè¯­æ³•è§„åˆ™æ˜¯ä¸åŒäºé€šç”¨ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚Cã€Pythonï¼‰çš„ã€‚</p>
<p>Verilog æ˜¯ä¸ºç¡¬ä»¶è®¾è®¡è€Œè®¾è®¡çš„ï¼Œå…¶ç›®çš„æ˜¯æè¿°ç¡¬ä»¶ç”µè·¯çš„ç»“æ„å’Œè¡Œä¸ºï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„â€œç¼–ç¨‹â€ã€‚åœ¨ç¡¬ä»¶ç”µè·¯ä¸­ï¼Œä¿¡å·æ˜¯åœ¨ä¸åŒçš„æ—¶é—´æ­¥é•¿ä¸Šå¹¶è¡Œè®¡ç®—çš„ï¼Œè€Œä¸æ˜¯æŒ‰é¡ºåºæ‰§è¡Œçš„åƒåœ¨è½¯ä»¶ä¸­ä¸€æ ·ã€‚è¿™å¯¼è‡´äº†ä¸€äº›è¯­æ³•è§„åˆ™çš„ä¸åŒã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œä»¥ä¸‹æ˜¯ä¸ºä»€ä¹ˆåœ¨ Verilog ä¸­ä¸èƒ½ç›´æ¥å°† <code>for</code> å¾ªç¯æ”¾åœ¨æ¨¡å—å†…éƒ¨çš„åŸå› ï¼š</p>
<ol>
<li><strong>å¹¶è¡Œæ€§ï¼š</strong> Verilog ä¸­çš„ä»£ç è¢«è§£é‡Šä¸ºç”µè·¯ï¼Œå…¶ä¸­ä¸åŒçš„ä¿¡å·åœ¨ç›¸åŒçš„æ—¶é—´æ­¥é•¿ä¸Šå¹¶è¡Œåœ°è®¡ç®—ã€‚è¿™ä¸ä¼ ç»Ÿç¼–ç¨‹è¯­è¨€ä¸­çš„è¿­ä»£å¾ªç¯ä¸åŒï¼Œåè€…æŒ‰é¡ºåºæ‰§è¡Œã€‚åœ¨ç¡¬ä»¶ç”µè·¯ä¸­ï¼Œä¸åŒçš„ä¿¡å·å’Œé€»è¾‘æ˜¯åŒæ—¶è®¡ç®—çš„ï¼Œå› æ­¤ <code>for</code> å¾ªç¯çš„æ¦‚å¿µä¸ç¡¬ä»¶çš„å¹¶è¡Œæ€§ä¸ä¸€è‡´ã€‚</li>
<li><strong>å»¶è¿Ÿå’Œæ—¶é—´é—®é¢˜ï¼š</strong> åœ¨ Verilog ä¸­ï¼Œä¿¡å·çš„ä¼ æ’­å’Œé€»è¾‘è¿ç®—éƒ½éœ€è¦è€ƒè™‘æ—¶é—´å»¶è¿Ÿã€‚å¾ªç¯çš„è¿­ä»£æ¬¡æ•°å¯èƒ½éœ€è¦åœ¨ç¼–è¯‘æ—¶å·²çŸ¥ï¼Œä½†åœ¨ç¡¬ä»¶ä¸­ï¼Œå»¶è¿Ÿå¯èƒ½ä¼šå½±å“ç”µè·¯çš„è¡Œä¸ºã€‚å¦‚æœå…è®¸åœ¨æ¨¡å—å†…éƒ¨ä½¿ç”¨ <code>for</code> å¾ªç¯ï¼Œç¼–è¯‘å™¨å°±éœ€è¦å¤„ç†å¦‚ä½•åœ¨æ—¶é—´ä¸Šæ­£ç¡®åœ°å±•å¼€å¾ªç¯å’Œå¤„ç†å»¶è¿Ÿçš„é—®é¢˜ã€‚</li>
</ol>
<p>ä¸ºäº†ç¬¦åˆç¡¬ä»¶çš„ç‰¹æ€§ï¼ŒVerilog å¼•å…¥äº†ç”Ÿæˆè¯­å¥ï¼ˆgenerate statementsï¼‰ï¼Œå…è®¸åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆä¸åŒçš„ç¡¬ä»¶ç»“æ„ï¼Œè¿™åŒ…æ‹¬ä½¿ç”¨ <code>for</code> å¾ªç¯æ¥ç”Ÿæˆå¤šä¸ªç±»ä¼¼çš„ç¡¬ä»¶é€»è¾‘ã€‚ç”Ÿæˆè¯­å¥å…è®¸åœ¨ä¸åŒçš„æ—¶é—´æ­¥é•¿ä¸Šå¹¶è¡Œç”Ÿæˆç¡¬ä»¶ï¼Œè€Œä¸ä¼šå¼•å…¥è¿è¡Œæ—¶çš„é¡ºåºé—®é¢˜ã€‚</p>
</blockquote>
<p>ç®€å•è¯´å°±æ˜¯ï¼š<code>for-loop</code>å†…ä¸åŒå±‚æ¬¡(i &#x3D; 1 , 2 ,3 â€¦â€¦)ï¼Œä½“ç°äº†é¡ºåºçš„å…ˆåï¼Œæ˜¯è½¯ä»¶ç¼–ç¨‹çš„æ€ç»´ï¼›è€Œ<code>verilog</code>ä¸­<code>assign</code>æè¿°çš„å„ç¡¬ä»¶æ˜¯å¹¶è¡Œè¿è¡Œçš„ï¼Œæ˜¯ç¡¬ä»¶ç¼–ç¨‹çš„æ€ç»´ï¼›äºŒè€…éœ€è¦åŒºåˆ†å¼€æ¥:smile:</p>
<p>æˆ‘ä»¬ä½¿ç”¨<code>generate</code>æ¥å®ç°(generateç”Ÿæˆå¤šä¸ªå¹¶è¡Œè®¡ç®—æ¨¡å—)ï¼š[generateä»‹ç»](<a href="https://zhuanlan.zhihu.com/p/107047600">Verilogä¸­generateçš„ä½¿ç”¨ - çŸ¥ä¹ (zhihu.com)</a>)</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] in ,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] out </span><br><span class="line">) ;</span><br><span class="line">    <span class="keyword">genvar</span> i ;<span class="comment">//state a variable i </span></span><br><span class="line">    <span class="keyword">generate</span></span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span> ; i &lt; <span class="number">100</span> ; i++) <span class="keyword">begin</span> : generate_name</span><br><span class="line">            <span class="keyword">assign</span> out[i] = in [<span class="number">99</span> - i] ; <span class="comment">// type of out is wire</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">endgenerate</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p>æˆ–è€…å°†<code>for-loop</code>å†™åœ¨<code>always</code>ä¸­ï¼š</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] in ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">99</span>:<span class="number">0</span>] out </span><br><span class="line">) ;</span><br><span class="line">    <span class="keyword">always</span> @(*)<span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="built_in">$bits</span>(out) ; i++ ) <span class="keyword">begin</span></span><br><span class="line">            <span class="comment">//$bits(signal)è·å–ä¿¡å·ä½é•¿</span></span><br><span class="line">            out[i] = in [ <span class="built_in">$bits</span>(out) - <span class="number">1</span> - i ] ; </span><br><span class="line">            <span class="comment">//type of out is reg</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="Combinational-for-loop-255-bit-population-count"><a href="#Combinational-for-loop-255-bit-population-count" class="headerlink" title="Combinational for-loop:255-bit population count"></a>Combinational for-loop:255-bit population count</h3><blockquote>
<p>A â€œpopulation countâ€ circuit counts the number of â€˜1â€™s in an input vector. Build a population count circuit for a 255-bit input vector.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">254</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] out );</span><br><span class="line">    <span class="keyword">always</span> @(*) <span class="keyword">begin</span></span><br><span class="line">       out = <span class="number">0</span> ;<span class="comment">//å¯„å­˜å™¨å‹å˜é‡åœ¨alwayså—ä¸­åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">255</span> ; i++) <span class="keyword">begin</span></span><br><span class="line">            out = out + in[i] ; </span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Generate-for-loop-1000-bit-binary-adder-2"><a href="#Generate-for-loop-1000-bit-binary-adder-2" class="headerlink" title="Generate for-loop:1000-bit binary adder 2"></a>Generate for-loop:1000-bit binary adder 2</h3><blockquote>
<p>Create a 100-bit binary ripple-carry adder by instantiating 100 <a href="https://hdlbits.01xz.net/wiki/Fadd">full adders</a>. The adder adds two 100-bit numbers and a carry-in to produce a 100-bit sum and carry out. To encourage you to actually instantiate full adders, also output the carry-out from <em>each</em> full adder in the ripple-carry adder. cout[99] is the final carry-out from the last full adder, and is the carry-out you usually see.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] a, b,</span><br><span class="line">    <span class="keyword">input</span> cin,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] cout,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] sum );</span><br><span class="line">	<span class="keyword">generate</span></span><br><span class="line">        <span class="keyword">genvar</span> i ;<span class="comment">//å¥½åƒåœ¨forå¾ªç¯å†…å£°æ˜genvar i ä¼šæŠ¥é”™</span></span><br><span class="line">        <span class="keyword">assign</span> sum[<span class="number">0</span>] = a[<span class="number">0</span>] ^ b[<span class="number">0</span>] ^ cin ;</span><br><span class="line">        <span class="keyword">assign</span> cout[<span class="number">0</span>] = a[<span class="number">0</span>] &amp; b[<span class="number">0</span>] | a[<span class="number">0</span>] &amp; cin | b[<span class="number">0</span>] &amp; cin ;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span> ; i &lt; <span class="number">100</span> ; i++) <span class="keyword">begin</span> : generate_name </span><br><span class="line">            <span class="keyword">assign</span> sum[i] = a[i] ^ b[i] ^ cout[i-<span class="number">1</span>] ;</span><br><span class="line">            <span class="keyword">assign</span> cout[i] = a[i] &amp; b[i] | a[i] &amp; cout[i-<span class="number">1</span>] | b[i] &amp; cout[i-<span class="number">1</span>] ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">endgenerate</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Generate-for-loop-100-digit-BCD-adder"><a href="#Generate-for-loop-100-digit-BCD-adder" class="headerlink" title="*Generate for-loop:100-digit BCD adder"></a>*Generate for-loop:100-digit BCD adder</h3><blockquote>
<p>You are provided with a BCD one-digit adder named <code>bcd_fadd</code> that adds two BCD digits and carry-in, and produces a sum and carry-out.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">module bcd_fadd (</span><br><span class="line">    input [3:0] a,</span><br><span class="line">    input [3:0] b,</span><br><span class="line">    input     cin,</span><br><span class="line">    output   cout,</span><br><span class="line">    output [3:0] sum );</span><br></pre></td></tr></table></figure>

<p>Instantiate 100 copies of <code>bcd_fadd</code> to create a 100-digit BCD ripple-carry adder. Your adder should add two 100-digit BCD numbers (packed into 400-bit vectors) and a carry-in to produce a 100-digit sum and carry out.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//False Verion </span></span><br><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">399</span>:<span class="number">0</span>] a, b,</span><br><span class="line">    <span class="keyword">input</span> cin,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> cout,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">399</span>:<span class="number">0</span>] sum );</span><br><span class="line">    <span class="keyword">genvar</span> i , j ;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">99</span>:<span class="number">0</span>] temp_cout ;</span><br><span class="line">    <span class="keyword">assign</span> cout = temp_cout[<span class="number">99</span>] ;</span><br><span class="line">    <span class="keyword">generate</span></span><br><span class="line">        bcd_fadd U0( a[<span class="number">3</span>:<span class="number">0</span>] , b[<span class="number">3</span>:<span class="number">0</span>] , cin , temp_cout[<span class="number">0</span>] , sum[<span class="number">3</span>:<span class="number">0</span>]) ;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">7</span> , j = <span class="number">0</span>; i &lt; <span class="number">400</span> ;  i = i + <span class="number">4</span> , j++) <span class="keyword">begin</span> : name </span><br><span class="line">            bcd_fadd U1( a[i:i-<span class="number">3</span>] , b[i:i-<span class="number">3</span>] , temp_cout[j] , sum[i:i-<span class="number">3</span>]) ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">endgenerate</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æŠ¥é”™ä¿¡æ¯ï¼šError (10170): Verilog HDL syntax error at top_module.v(12) near text: â€œ,â€;  expecting â€œ;â€</p>
</blockquote>
<p>æ²¡æœ‰æŸ¥åˆ°ç›¸å…³ä¿¡æ¯(å…ˆç•™ä¸€ä¸ªå‘)ï¼ŒçŒœæµ‹ï¼š<code>for-loop</code>ä¸­ä¸èƒ½æœ‰ä¸¤ä¸ª<code>genvar</code>,äºæ˜¯ä¸èƒ½å‡ºç°<code>,</code> ,æç¤ºä½ è¦ç”¨<code>;</code></p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Right Verion </span></span><br><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">399</span>:<span class="number">0</span>] a, b,</span><br><span class="line">    <span class="keyword">input</span> cin,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> cout,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">399</span>:<span class="number">0</span>] sum );</span><br><span class="line">    <span class="keyword">genvar</span> i ;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">99</span>:<span class="number">0</span>] temp_cout ;</span><br><span class="line">    <span class="keyword">assign</span> cout = temp_cout[<span class="number">99</span>] ;</span><br><span class="line">    <span class="keyword">generate</span></span><br><span class="line">        bcd_fadd U0( a[<span class="number">3</span>:<span class="number">0</span>] , b[<span class="number">3</span>:<span class="number">0</span>] , cin , temp_cout[<span class="number">0</span>] , sum[<span class="number">3</span>:<span class="number">0</span>]) ;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">7</span> ; i &lt; <span class="number">400</span> ;  i = i + <span class="number">4</span> ) <span class="keyword">begin</span> : name </span><br><span class="line">            bcd_fadd U1( a[i:i-<span class="number">3</span>] , b[i:i-<span class="number">3</span>] , temp_cout[(i + <span class="number">1</span>) / <span class="number">4</span> - <span class="number">2</span>] , temp_cout[(i + <span class="number">1</span>) / <span class="number">4</span> - <span class="number">1</span>] , sum[i:i-<span class="number">3</span>]) ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">endgenerate</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p><strong>æ­¤å¤„å®ç°ä¸€ä¸‹<code>bcd_fadd</code></strong></p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> bcd_fadd(</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span> : <span class="number">0</span>] a , b ,</span><br><span class="line">    <span class="keyword">input</span> cin , </span><br><span class="line">    <span class="keyword">output</span> cout ,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] sum</span><br><span class="line">) ;</span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">4</span>:<span class="number">0</span>] temp ;</span><br><span class="line">    <span class="keyword">assign</span> temp = a + b + cin ;</span><br><span class="line">    <span class="keyword">assign</span> &#123;cout , sum&#125; = (temp&gt;<span class="number">9</span>) ? (temp+<span class="number">6</span>) : temp ; </span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>



<h1 id="Circuits"><a href="#Circuits" class="headerlink" title="Circuits"></a>Circuits</h1><h2 id="Combinational-Logic"><a href="#Combinational-Logic" class="headerlink" title="Combinational Logic"></a>Combinational Logic</h2><h3 id="Basic-Gates"><a href="#Basic-Gates" class="headerlink" title="Basic Gates"></a>Basic Gates</h3><h4 id="Even-longer-vectors"><a href="#Even-longer-vectors" class="headerlink" title="Even longer vectors"></a>Even longer vectors</h4><blockquote>
<p>See also the shorter version: <a href="https://hdlbits.01xz.net/wiki/gatesv">Gates and vectors</a>.</p>
<p>You are given a 100-bit input vector in[99:0]. We want to know some relationships between each bit and its neighbour:</p>
<ul>
<li><strong>out_both</strong>: Each bit of this output vector should indicate whether <em>both</em> the corresponding input bit and its neighbour to the <strong>left</strong> are â€˜1â€™. For example, <code>out_both[98]</code> should indicate if <code>in[98]</code> and <code>in[99]</code> are both 1. Since <code>in[99]</code> has no neighbour to the left, the answer is obvious so we donâ€™t need to know <code>out_both[99]</code>.</li>
<li><strong>out_any</strong>: Each bit of this output vector should indicate whether <em>any</em> of the corresponding input bit and its neighbour to the <strong>right</strong> are â€˜1â€™. For example, <code>out_any[2]</code> should indicate if either <code>in[2]</code> or <code>in[1]</code> are 1. Since <code>in[0]</code> has no neighbour to the right, the answer is obvious so we donâ€™t need to know <code>out_any[0]</code>.</li>
<li><strong>out_different</strong>: Each bit of this output vector should indicate whether the corresponding input bit is different from its neighbour to the <strong>left</strong>. For example, <code>out_different[98]</code> should indicate if <code>in[98]</code> is different from <code>in[99]</code>. For this part, treat the vector as wrapping around, so <code>in[99]</code>â€˜s neighbour to the left is <code>in[0]</code>.</li>
</ul>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//My vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">98</span>:<span class="number">0</span>] out_both,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">1</span>] out_any,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] out_different );</span><br><span class="line">    <span class="keyword">genvar</span> i ;</span><br><span class="line">	<span class="keyword">generate</span></span><br><span class="line">        <span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; <span class="number">99</span> ; i++ ) <span class="keyword">begin</span> : generate_name</span><br><span class="line">            <span class="keyword">assign</span> out_both[i] = in[i] &amp; in[i+<span class="number">1</span>] ;</span><br><span class="line">            <span class="keyword">assign</span> out_any[i+<span class="number">1</span>]= in[i+<span class="number">1</span>] | in[i] ;</span><br><span class="line">            <span class="keyword">assign</span> out_different[i] = in[i] ^ in[i+<span class="number">1</span>] ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">assign</span> out_different[<span class="number">99</span>] = in[<span class="number">99</span>] ^ in[<span class="number">0</span>] ;</span><br><span class="line">    <span class="keyword">endgenerate</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Offical vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">98</span>:<span class="number">0</span>] out_both,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">1</span>] out_any,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] out_different );</span><br><span class="line">    <span class="keyword">assign</span> out_both = in[<span class="number">98</span>:<span class="number">0</span>] &amp; in[<span class="number">99</span>:<span class="number">1</span>] ;</span><br><span class="line">    <span class="keyword">assign</span> out_any  = in[<span class="number">99</span>:<span class="number">1</span>] | in[<span class="number">98</span>:<span class="number">0</span>] ;</span><br><span class="line">    <span class="keyword">assign</span> out_different = in ^ &#123; in[<span class="number">0</span>] , in[<span class="number">99</span>:<span class="number">1</span>] &#125; ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="Multiplexers"><a href="#Multiplexers" class="headerlink" title="Multiplexers"></a>Multiplexers</h3><h4 id="9-to-1-multiplexer"><a href="#9-to-1-multiplexer" class="headerlink" title="9-to-1 multiplexer"></a>9-to-1 multiplexer</h4><blockquote>
<p>Create a 16-bit wide, 9-to-1 multiplexer. sel&#x3D;0 chooses a, sel&#x3D;1 chooses b, etc. For the unused cases (sel&#x3D;9 to 15), set all output bits to â€˜1â€™.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Flase vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">15</span>:<span class="number">0</span>] a, b, c, d, e, f, g, h, i,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] sel,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">15</span>:<span class="number">0</span>] out );</span><br><span class="line">    <span class="keyword">always</span> @(*)<span class="keyword">begin</span> </span><br><span class="line">    <span class="keyword">case</span>(sel)</span><br><span class="line">        <span class="number">4&#x27;b0000</span> : out = a ;</span><br><span class="line">        <span class="number">4&#x27;b0001</span> : out = b ;</span><br><span class="line">        <span class="number">4&#x27;b0010</span> : out = c ;</span><br><span class="line">        <span class="number">4&#x27;b0011</span> : out = d ;</span><br><span class="line">        <span class="number">4&#x27;b0100</span> : out = e ;</span><br><span class="line">        <span class="number">4&#x27;b0101</span> : out = f ;</span><br><span class="line">        <span class="number">4&#x27;b0110</span> : out = g ;</span><br><span class="line">        <span class="number">4&#x27;b0111</span> : out = h ;</span><br><span class="line">        <span class="number">4&#x27;b1000</span> : out = i ;</span><br><span class="line">     	<span class="keyword">default</span> : out = <span class="number">16&#x27;hFFFF</span> ;<span class="comment">//åå…­è¿›åˆ¶åº”è¯¥ä¸º4&#x27;hFFFF</span></span><br><span class="line">        <span class="comment">//è¸©è¿‡çš„å‘ ï¼š out = 1 ; out = 0xFFFF ; out = 4&#x27;hFFFF</span></span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line">    <span class="keyword">end</span>      </span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>



<h4 id="256-to-1-4-bit-multiplexer"><a href="#256-to-1-4-bit-multiplexer" class="headerlink" title="256-to-1 4-bit multiplexer"></a>256-to-1 4-bit multiplexer</h4><blockquote>
<p>Create a 4-bit wide, 256-to-1 multiplexer. The 256 4-bit inputs are all packed into a single 1024-bit input vector. sel&#x3D;0 should select bits <code>in[3:0]</code>, sel&#x3D;1 selects bits <code>in[7:4]</code>, sel&#x3D;2 selects bits <code>in[11:8]</code>, etc.</p>
</blockquote>
<blockquote>
<p>Hint</p>
<ul>
<li>With this many options, a case statement isnâ€™t so useful.</li>
<li>Vector indices can be variable, as long as the synthesizer can figure out that the width of the bits being selected is constant. Itâ€™s not always good at this. An error saying â€œâ€¦ is not a constantâ€ means it couldnâ€™t prove that the select width is constant. In particular, <code>in[ sel*4+3 : sel*4 ]</code> does not work. &#x2F;&#x2F; verilog ç´¢å¼•ä¸æ”¯æŒå…¨ä¸ºå˜é‡</li>
<li>Bit slicing (â€œIndexed vector part selectâ€, since Verilog-2001) has an even more compact syntax.</li>
</ul>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">1023</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] sel,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] out );</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">assign</span> out = in[sel * <span class="number">4</span> + <span class="number">3</span> : sel * <span class="number">4</span>] ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>error : sel is not a constant File ;</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//True</span></span><br><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">1023</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] sel,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] out );</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">assign</span> out = in[sel * <span class="number">4</span>  +: <span class="number">4</span>] ;<span class="comment">//ä»sel*4å‘ä¸Šå››ä½</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Arithmetic-Circuits"><a href="#Arithmetic-Circuits" class="headerlink" title="Arithmetic Circuits"></a>Arithmetic Circuits</h3><h4 id="3-bit-binary-adder"><a href="#3-bit-binary-adder" class="headerlink" title="3-bit binary adder"></a>3-bit binary adder</h4><blockquote>
<p>Now that you know how to build a <a href="https://hdlbits.01xz.net/wiki/Fadd">full adder</a>, make 3 instances of it to create a 3-bit binary ripple-carry adder. The adder adds two 3-bit numbers and a carry-in to produce a 3-bit sum and carry out. To encourage you to actually instantiate full adders, also output the carry-out from <em>each</em> full adder in the ripple-carry adder. cout[2] is the final carry-out from the last full adder, and is the carry-out you usually see.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">2</span>:<span class="number">0</span>] a, b,</span><br><span class="line">    <span class="keyword">input</span> cin,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">2</span>:<span class="number">0</span>] cout,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">2</span>:<span class="number">0</span>] sum );</span><br><span class="line">    full_adder ripple_adder_1( a[<span class="number">0</span>] , b[<span class="number">0</span>] , cin , cout[<span class="number">0</span>] , sum[<span class="number">0</span>] ) ;</span><br><span class="line">    full_adder ripple_adder_2( a[<span class="number">1</span>] , b[<span class="number">1</span>] , cout[<span class="number">0</span>] , cout[<span class="number">1</span>] , sum[<span class="number">1</span>] ) ;</span><br><span class="line">    full_adder ripple_adder_3( a[<span class="number">2</span>] , b[<span class="number">2</span>] , cout[<span class="number">1</span>] , cout[<span class="number">2</span>] , sum[<span class="number">2</span>] ) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> full_adder(</span><br><span class="line">    <span class="keyword">input</span> a , b , cin , </span><br><span class="line">    <span class="keyword">output</span> cout , sum</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">assign</span> cout= a &amp; b | a &amp; cin | b &amp; cin ;</span><br><span class="line">    <span class="keyword">assign</span> sum = a ^ b ^ cin ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Signed-addition-overflow"><a href="#Signed-addition-overflow" class="headerlink" title="Signed addition overflow"></a>Signed addition overflow</h4><blockquote>
<p>Assume that you have two 8-bit 2â€™s complement numbers, a[7:0] and b[7:0]. These numbers are added to produce s[7:0]. Also compute whether a (signed) overflow has occurred.</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Flase vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] a,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] b,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] s,</span><br><span class="line">    <span class="keyword">output</span> overflow</span><br><span class="line">); </span><br><span class="line">    <span class="keyword">assign</span> &#123; overflow , s &#125; = a + b ;</span><br><span class="line">    <span class="comment">//æ³¨æ„é¢˜ä¸­çš„signed overflow , å¹¶ä¸ç­‰äºè¿›ä½cout</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¦‚ä½•æ£€æµ‹ç¬¦å·æº¢å‡º(<strong>signed overflow</strong>) : ç¬¦å·ä¸åŒï¼Œç›¸åŠ ä¸ä¼šæº¢å‡º  ï¼› ç¬¦å·ç›¸åŒï¼Œå¯èƒ½æº¢å‡ºï¼Œéœ€è¦è®¾ç½®æ£€æµ‹ã€‚</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//True vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] a , b ,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span> : <span class="number">0</span>] s ,</span><br><span class="line">    <span class="keyword">output</span> overflow</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">assign</span> s = a + b ;</span><br><span class="line">    <span class="keyword">assign</span> overflow = ( a[<span class="number">7</span>] == b[<span class="number">7</span>] ) ? (a[<span class="number">7</span>] ^ s[<span class="number">7</span>]) : <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="100-bit-binary-adder"><a href="#100-bit-binary-adder" class="headerlink" title="100-bit binary adder"></a>100-bit binary adder</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">	<span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] a,</span><br><span class="line">	<span class="keyword">input</span> [<span class="number">99</span>:<span class="number">0</span>] b,</span><br><span class="line">	<span class="keyword">input</span> cin,</span><br><span class="line">	<span class="keyword">output</span> cout,</span><br><span class="line">	<span class="keyword">output</span> [<span class="number">99</span>:<span class="number">0</span>] sum</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// The concatenation &#123;cout, sum&#125; is a 101-bit vector.</span></span><br><span class="line">	<span class="keyword">assign</span> &#123;cout, sum&#125; = a+b+cin;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-digit-BCD-adder"><a href="#4-digit-BCD-adder" class="headerlink" title="4-digit BCD adder"></a>4-digit BCD adder</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module ( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">15</span>:<span class="number">0</span>] a, b,</span><br><span class="line">    <span class="keyword">input</span> cin,</span><br><span class="line">    <span class="keyword">output</span> cout,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">15</span>:<span class="number">0</span>] sum );</span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">2</span>:<span class="number">0</span>] temp_cout ;</span><br><span class="line">    bcd_fadd U0 ( a[<span class="number">3</span>:<span class="number">0</span>] , b[<span class="number">3</span>:<span class="number">0</span>] , cin ,  temp_cout[<span class="number">0</span>] , sum[<span class="number">3</span>:<span class="number">0</span>] ) ;</span><br><span class="line">    bcd_fadd U1 ( a[<span class="number">7</span>:<span class="number">4</span>] , b[<span class="number">7</span>:<span class="number">4</span>] , temp_cout[<span class="number">0</span>] ,  temp_cout[<span class="number">1</span>] , sum[<span class="number">7</span>:<span class="number">4</span>] ) ;</span><br><span class="line">    bcd_fadd U2 ( a[<span class="number">11</span>:<span class="number">8</span>] , b[<span class="number">11</span>:<span class="number">8</span>] , temp_cout[<span class="number">1</span>] ,  temp_cout[<span class="number">2</span>] , sum[<span class="number">11</span>:<span class="number">8</span>] ) ;</span><br><span class="line">    bcd_fadd U3 ( a[<span class="number">15</span>:<span class="number">12</span>] , b[<span class="number">15</span>:<span class="number">12</span>] , temp_cout[<span class="number">2</span>] ,  cout , sum[<span class="number">15</span>:<span class="number">12</span>] ) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Karnaugh-Map-to-Citcuit"><a href="#Karnaugh-Map-to-Citcuit" class="headerlink" title="Karnaugh Map to Citcuit"></a>Karnaugh Map to Citcuit</h3><h4 id="3-variable"><a href="#3-variable" class="headerlink" title="3-variable"></a>3-variable</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">	<span class="keyword">input</span> a, </span><br><span class="line">	<span class="keyword">input</span> b,</span><br><span class="line">	<span class="keyword">input</span> c,</span><br><span class="line">	<span class="keyword">output</span> out</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// SOP form: Three prime implicants (1 term each), summed.</span></span><br><span class="line">	<span class="comment">// POS form: One prime implicant (of 3 terms)</span></span><br><span class="line">	<span class="comment">// In this particular case, the result is the same for both SOP and POS.</span></span><br><span class="line">    <span class="comment">// it&#x27;s easier by using SOP</span></span><br><span class="line">	<span class="keyword">assign</span> out = (a | b | c);</span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-variable"><a href="#4-variable" class="headerlink" title="4-variable"></a>4-variable</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> out  ); </span><br><span class="line">    <span class="keyword">assign</span> out = (!b &amp; !c) | (!a &amp; !d) | (!a &amp; b &amp; c) | (a &amp; c &amp; d)  ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-variable-1"><a href="#4-variable-1" class="headerlink" title="4-variable"></a>4-variable</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> out  ); </span><br><span class="line">    <span class="keyword">assign</span> out = a | (!b &amp; c) ;</span><br><span class="line">    <span class="comment">//ç”¨0å»ç®—ï¼fæ›´ç®€å•</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-variable-2"><a href="#4-variable-2" class="headerlink" title="4-variable"></a>4-variable</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Stupid vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> out  ); </span><br><span class="line">    <span class="keyword">assign</span> out = (!a &amp; !b) &amp; (c ^ d) | (!a &amp; b) &amp; !(c ^ d) | a &amp; b &amp; (c ^ d) | (a &amp; !b) &amp; !(c ^ d);</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Wise vesion</span></span><br><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> out  ); </span><br><span class="line">	<span class="keyword">assign</span> out = a ^ b ^ c ^ d ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p><strong>å¦‚æœä¼šå¥‡å¶æ ¡éªŒä¾¿èƒ½ä¸€çœ¼çœ‹å‡ºï¼š<code>abcd</code>ä¸­æœ‰å¥‡æ•°ä¸ª<code>1</code>ï¼Œå¡è¯ºå›¾ä¸º<code>1</code> .åä¹‹ä¸º<code>0</code>.</strong></p>
<h4 id="Minimum-SOP-and-POS"><a href="#Minimum-SOP-and-POS" class="headerlink" title="Minimum SOP and POS"></a>Minimum SOP and POS</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> a,</span><br><span class="line">    <span class="keyword">input</span> b,</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> out_sop,</span><br><span class="line">    <span class="keyword">output</span> out_pos</span><br><span class="line">); </span><br><span class="line">	<span class="keyword">assign</span> out_sop = c &amp; d | !a &amp; !b &amp; c ;</span><br><span class="line">    <span class="keyword">assign</span> out_pos = c &amp; (!a | b) &amp; (!b | d) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Karnaugh-map"><a href="#Karnaugh-map" class="headerlink" title="Karnaugh map"></a>Karnaugh map</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">4</span>:<span class="number">1</span>] x, </span><br><span class="line">    <span class="keyword">output</span> f );</span><br><span class="line">    <span class="keyword">assign</span> f = !x[<span class="number">1</span>] &amp; x[<span class="number">3</span>] | x[<span class="number">1</span>] &amp; x[<span class="number">2</span>] &amp; !x[<span class="number">3</span>] ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Karnaugh-map-1"><a href="#Karnaugh-map-1" class="headerlink" title="Karnaugh map"></a>Karnaugh map</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">4</span>:<span class="number">1</span>] x,</span><br><span class="line">    <span class="keyword">output</span> f</span><br><span class="line">); </span><br><span class="line">    <span class="keyword">assign</span> f = (x[<span class="number">3</span>] | !x[<span class="number">4</span>]) &amp; (!x[<span class="number">2</span>] | x[<span class="number">3</span>] | x[<span class="number">4</span>]) &amp; (!x[<span class="number">1</span>] | x[<span class="number">2</span>] | !x[<span class="number">4</span>]) &amp; (!x[<span class="number">1</span>] | !x[<span class="number">2</span>] | x[<span class="number">4</span>]) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="K-map-implemented-with-a-multiplexer"><a href="#K-map-implemented-with-a-multiplexer" class="headerlink" title="K-map implemented with a multiplexer"></a>K-map implemented with a multiplexer</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> c,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>] mux_in</span><br><span class="line">); </span><br><span class="line">    <span class="keyword">always</span> @(*)<span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">case</span>( &#123; c , d &#125; )</span><br><span class="line">            <span class="number">2&#x27;b00</span> : mux_in = <span class="number">4&#x27;b0100</span> ;</span><br><span class="line">            <span class="number">2&#x27;b01</span> : mux_in = <span class="number">4&#x27;b0001</span> ;</span><br><span class="line">            <span class="number">2&#x27;b11</span> : mux_in = <span class="number">4&#x27;b1001</span> ;</span><br><span class="line">            <span class="number">2&#x27;b10</span> : mux_in = <span class="number">4&#x27;b0101</span> ;</span><br><span class="line">            <span class="keyword">default</span> : mux_in = <span class="number">4&#x27;b0000</span> ;</span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Sequential-Logic"><a href="#Sequential-Logic" class="headerlink" title="Sequential Logic"></a>Sequential Logic</h2><h3 id="Latches-and-Flip-Flops"><a href="#Latches-and-Flip-Flops" class="headerlink" title="Latches and Flip-Flops"></a>Latches and Flip-Flops</h3><h4 id="DFFs-and-gates"><a href="#DFFs-and-gates" class="headerlink" title="*DFFs and gates"></a>*DFFs and gates</h4><p>concise solution :</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> x,</span><br><span class="line">    <span class="keyword">output</span> z</span><br><span class="line">); </span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">2</span>:<span class="number">0</span>] Q ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        Q[<span class="number">0</span>] &lt;= x ^ Q[<span class="number">0</span>] ;</span><br><span class="line">        Q[<span class="number">1</span>] &lt;= x &amp; ~Q[<span class="number">1</span>] ;</span><br><span class="line">        Q[<span class="number">2</span>] &lt;= x | ~Q[<span class="number">2</span>] ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">assign</span> z = ~ (|Q) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>my solution</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> x,</span><br><span class="line">    <span class="keyword">output</span> z</span><br><span class="line">); </span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">2</span>:<span class="number">0</span>] Q ;</span><br><span class="line">    DFF_ U0( <span class="variable">.clk</span>(clk) , <span class="variable">.d</span>(x ^ Q[<span class="number">0</span>]) , <span class="variable">.q</span>(Q[<span class="number">0</span>]) ) ;</span><br><span class="line">    DFF_ U1( <span class="variable">.clk</span>(clk) , <span class="variable">.d</span>(x &amp; ~Q[<span class="number">1</span>]) , <span class="variable">.q</span>(Q[<span class="number">1</span>]) ) ;</span><br><span class="line">    DFF_ U2( <span class="variable">.clk</span>(clk) , <span class="variable">.d</span>(x | ~Q[<span class="number">2</span>]) , <span class="variable">.q</span>(Q[<span class="number">2</span>]) ) ;</span><br><span class="line">    <span class="keyword">assign</span> z = ~ (| Q ) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> DFF_(</span><br><span class="line">    <span class="keyword">input</span> clk , d ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> q</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       q &lt;= d ; </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Detect-an-edge"><a href="#Detect-an-edge" class="headerlink" title="*Detect an edge"></a>*Detect an edge</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] pedge</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] last_in ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       last_in &lt;= in ;</span><br><span class="line">       pedge &lt;= ~last_in &amp; in ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Detect-both-edges"><a href="#Detect-both-edges" class="headerlink" title="*Detect both edges"></a>*Detect both edges</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] anyedge</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] last_in ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       last_in &lt;= in ;</span><br><span class="line">       anyedge &lt;= last_in ^ in ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Edge-capture-register"><a href="#Edge-capture-register" class="headerlink" title="*Edge capture register"></a>*Edge capture register</h4><p>&#x3D;&#x3D;Tips&#x3D;&#x3D; : After clkâ€™s change from 1 to 0 , register q &#x3D; 1 . And then , q is still <code>1</code>  until <code>reset = 1</code> ; </p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> reset,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">31</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">31</span>:<span class="number">0</span>] out</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">integer</span> i ;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">31</span>:<span class="number">0</span>] last_in ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       last_in &lt;= in ;</span><br><span class="line">        <span class="keyword">if</span>(reset) out &lt;= <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">for</span>(i = <span class="number">0</span> ; i &lt; <span class="number">32</span> ; i++)</span><br><span class="line">                out[i] &lt;= last_in[i] &amp; ~in[i] ? <span class="number">1</span> : out[i] ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;My error solution&#x3D;&#x3D;</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> reset,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">31</span>:<span class="number">0</span>] in,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">31</span>:<span class="number">0</span>] out</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">integer</span> i ;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">31</span>:<span class="number">0</span>] last_in ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       last_in &lt;= in ;</span><br><span class="line">        <span class="keyword">if</span>(reset) out &lt;= <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">            <span class="comment">////////////////////////</span></span><br><span class="line">            out &lt;= last_in &amp; ~in ;</span><br><span class="line">            <span class="comment">///////////////////////</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Dual-edge-triggered-filp-flop"><a href="#Dual-edge-triggered-filp-flop" class="headerlink" title="*Dual-edge triggered filp-flop"></a>*Dual-edge triggered filp-flop</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> d,</span><br><span class="line">    <span class="keyword">output</span> q</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">reg</span> q0 , q1 ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       q0 &lt;= d ; </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">negedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">       q1 &lt;= d ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">assign</span> q = clk ? q0 : q1 ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="Counters"><a href="#Counters" class="headerlink" title="Counters"></a>Counters</h3><h4 id="Counter-1-12"><a href="#Counter-1-12" class="headerlink" title="*Counter 1-12"></a>*Counter 1-12</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> reset,</span><br><span class="line">    <span class="keyword">input</span> enable,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] Q,</span><br><span class="line">    <span class="keyword">output</span> c_enable,</span><br><span class="line">    <span class="keyword">output</span> c_load,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] c_d</span><br><span class="line">); <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    count4 the_counter (clk, c_enable, c_load, c_d , Q);</span><br><span class="line">    <span class="keyword">assign</span> c_enable = enable ;</span><br><span class="line">    <span class="keyword">assign</span> c_load = (Q == <span class="number">12</span> &amp;&amp; enable) || reset ? <span class="number">1</span> : <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">assign</span> c_d = <span class="number">4&#x27;b0001</span> ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p>**Count4.v **</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> count4(</span><br><span class="line">    <span class="keyword">input</span> clk , </span><br><span class="line">    <span class="keyword">input</span> enable ,</span><br><span class="line">    <span class="keyword">input</span> load ,</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] d ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>] Q</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(load)    Q &lt;= d ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(enable) Q &lt;= Q + <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="Counter-1000"><a href="#Counter-1000" class="headerlink" title="Counter 1000"></a>Counter 1000</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//make sure OneHertz turn into 1 once time every 1000 clk.å³åˆ†é¢‘å™¨ï¼Œ1000Hzè½¬1Hz</span></span><br><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> reset,</span><br><span class="line">    <span class="keyword">output</span> OneHertz,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">2</span>:<span class="number">0</span>] c_enable</span><br><span class="line">); <span class="comment">//</span></span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">11</span>:<span class="number">0</span>] Q ;</span><br><span class="line">    <span class="keyword">assign</span> &#123;OneHertz , c_enable&#125; = &#123; (Q[<span class="number">11</span>:<span class="number">0</span>] == <span class="number">12&#x27;h999</span>) , (Q[<span class="number">7</span>:<span class="number">0</span>] == <span class="number">8&#x27;h99</span>) ,(Q[<span class="number">3</span>:<span class="number">0</span>] == <span class="number">4&#x27;h9</span>) , <span class="number">1&#x27;b1</span> &#125; ; </span><br><span class="line">    bcdcount counter0 (clk, reset, c_enable[<span class="number">0</span>] , Q[<span class="number">3</span>:<span class="number">0</span>]);</span><br><span class="line">    bcdcount counter1 (clk, reset, c_enable[<span class="number">1</span>] , Q[<span class="number">7</span>:<span class="number">4</span>]);</span><br><span class="line">    bcdcount counter2 (clk, reset, c_enable[<span class="number">2</span>] , Q[<span class="number">11</span>:<span class="number">8</span>]);</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-digit-decimal-counter"><a href="#4-digit-decimal-counter" class="headerlink" title="4-digit decimal counter"></a>4-digit decimal counter</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> reset,   <span class="comment">// Synchronous active-high reset</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">1</span>] ena,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">15</span>:<span class="number">0</span>] q);</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">assign</span> ena = &#123;  (q[<span class="number">11</span>:<span class="number">0</span>] == <span class="number">12&#x27;h999</span>) , (q[<span class="number">7</span>:<span class="number">0</span>] == <span class="number">8&#x27;h99</span>) , (q[<span class="number">3</span>:<span class="number">0</span>] == <span class="number">4&#x27;h9</span>) &#125; ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(reset) q &lt;= <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">            q[<span class="number">3</span>:<span class="number">0</span>] &lt;= (q[<span class="number">3</span>:<span class="number">0</span>] == <span class="number">4&#x27;h9</span>) ? <span class="number">0</span> : (q[<span class="number">3</span>:<span class="number">0</span>] + <span class="number">1</span>) ;</span><br><span class="line">            <span class="keyword">if</span>(ena[<span class="number">1</span>])	q[<span class="number">7</span>:<span class="number">4</span>] &lt;= (q[<span class="number">7</span>:<span class="number">4</span>] == <span class="number">4&#x27;h9</span>) ? <span class="number">0</span> : (q[<span class="number">7</span>:<span class="number">4</span>] + <span class="number">1</span> ) ;</span><br><span class="line">            <span class="keyword">if</span>(ena[<span class="number">2</span>])	q[<span class="number">11</span>:<span class="number">8</span>] &lt;= (q[<span class="number">11</span>:<span class="number">8</span>] == <span class="number">4&#x27;h9</span>) ? <span class="number">0</span> : (q[<span class="number">11</span>:<span class="number">8</span>] + <span class="number">1</span> ) ;</span><br><span class="line">            <span class="keyword">if</span>(ena[<span class="number">3</span>])	q[<span class="number">15</span>:<span class="number">12</span>] &lt;= (q[<span class="number">15</span>:<span class="number">12</span>] == <span class="number">4&#x27;h9</span>) ? <span class="number">0</span> : (q[<span class="number">15</span>:<span class="number">12</span>] + <span class="number">1</span> ) ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">endmodule</span> </span><br></pre></td></tr></table></figure>

<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//another solution , Init module</span></span><br><span class="line"><span class="keyword">module</span> top_module (</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> reset,   <span class="comment">// Synchronous active-high reset</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">1</span>] ena,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">15</span>:<span class="number">0</span>] q);</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> en0 ;</span><br><span class="line">    <span class="keyword">assign</span> &#123;ena , en0&#125; = &#123; q[<span class="number">11</span>:<span class="number">0</span>] == <span class="number">12&#x27;h999</span> , q[<span class="number">7</span>:<span class="number">0</span>] == <span class="number">8&#x27;h99</span> , q[<span class="number">3</span>:<span class="number">0</span>] == <span class="number">4&#x27;h9</span>, <span class="number">1&#x27;b1</span>&#125; ;</span><br><span class="line">    counter10 U0(clk , reset , en0    , q[<span class="number">3</span>:<span class="number">0</span>]) ;</span><br><span class="line">    counter10 U1(clk , reset , ena[<span class="number">1</span>] , q[<span class="number">7</span>:<span class="number">4</span>]) ;</span><br><span class="line">    counter10 U2(clk , reset , ena[<span class="number">2</span>] , q[<span class="number">11</span>:<span class="number">8</span>]) ;</span><br><span class="line">    counter10 U3(clk , reset , ena[<span class="number">3</span>] , q[<span class="number">15</span>:<span class="number">12</span>]) ;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> counter10(</span><br><span class="line">    <span class="keyword">input</span> clk ,</span><br><span class="line">    <span class="keyword">input</span> reset,</span><br><span class="line">    <span class="keyword">input</span> ena ,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] out </span><br><span class="line">);</span><br><span class="line">    <span class="comment">//assign reset = (out == 9) ;</span></span><br><span class="line">    <span class="keyword">always</span>@(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(reset)	out &lt;= <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(ena) out &lt;= (out == <span class="number">9</span>) ? <span class="number">0</span> : out + <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h4 id="12-hour-clock"><a href="#12-hour-clock" class="headerlink" title="12-hour clock"></a>12-hour clock</h4><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> top_module(</span><br><span class="line">    <span class="keyword">input</span> clk ,</span><br><span class="line">    <span class="keyword">input</span> reset ,</span><br><span class="line">    <span class="keyword">input</span> ena ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> pm ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] hh,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] mm,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] ss</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">1</span>:<span class="number">0</span>] carry ;</span><br><span class="line">    counter60 ss0(clk , reset , ena , carry[<span class="number">0</span>] , ss[<span class="number">7</span>:<span class="number">0</span>]) ;</span><br><span class="line">    counter60 mm0(clk , reset , carry[<span class="number">0</span>] , carry[<span class="number">1</span>] , mm[<span class="number">7</span>:<span class="number">0</span>]) ;</span><br><span class="line">    counter12 hh0(clk , reset , carry[<span class="number">1</span>] &amp;&amp; carry[<span class="number">0</span>] , pm       , hh[<span class="number">7</span>:<span class="number">0</span>]) ;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> counter60(</span><br><span class="line">    <span class="keyword">input</span> clk ,</span><br><span class="line">    <span class="keyword">input</span> reset ,</span><br><span class="line">    <span class="keyword">input</span> en ,</span><br><span class="line">    <span class="keyword">output</span> carry ,<span class="comment">//carry = 1 when Q = 8&#x27;h59 , which means carry out .</span></span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] Q</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">assign</span> carry = (Q == <span class="number">8&#x27;h59</span>) ;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)   <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(reset)   Q &lt;= <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(en) <span class="keyword">begin</span></span><br><span class="line">            Q[<span class="number">3</span>:<span class="number">0</span>] &lt;= (Q[<span class="number">3</span>:<span class="number">0</span>] == <span class="number">4&#x27;h9</span>) ? <span class="number">0</span> : Q[<span class="number">3</span>:<span class="number">0</span>] + <span class="number">1</span> ;</span><br><span class="line">            <span class="keyword">if</span>(Q[<span class="number">3</span>:<span class="number">0</span>] == <span class="number">4&#x27;h9</span>)  Q[<span class="number">7</span>:<span class="number">4</span>] &lt;= (Q[<span class="number">7</span>:<span class="number">4</span>] == <span class="number">4&#x27;h5</span>) ? <span class="number">0</span> : Q[<span class="number">7</span>:<span class="number">4</span>] + <span class="number">1</span> ;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> counter12(</span><br><span class="line">    <span class="keyword">input</span> clk ,</span><br><span class="line">    <span class="keyword">input</span> reset ,</span><br><span class="line">    <span class="keyword">input</span> en ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> pm ,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] Q  </span><br><span class="line">);</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)   <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(reset)   Q &lt;= <span class="number">8&#x27;b0001_0010</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(en) <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">case</span>(Q[<span class="number">3</span>:<span class="number">0</span>]) </span><br><span class="line">                <span class="number">4&#x27;b1001</span> : Q[<span class="number">7</span>:<span class="number">0</span>] &lt;= <span class="number">8&#x27;b0001_0000</span> ;</span><br><span class="line">                <span class="number">4&#x27;b0010</span> : <span class="keyword">begin</span></span><br><span class="line">                    <span class="keyword">if</span>(Q[<span class="number">7</span>:<span class="number">4</span>] == <span class="number">4&#x27;h1</span>)  Q &lt;= <span class="number">8&#x27;h01</span> ;</span><br><span class="line">                    <span class="keyword">else</span>    Q[<span class="number">3</span>:<span class="number">0</span>] &lt;= Q[<span class="number">3</span>:<span class="number">0</span>] + <span class="number">1</span> ;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">                <span class="keyword">default</span> : Q[<span class="number">3</span>:<span class="number">0</span>] &lt;= Q[<span class="number">3</span>:<span class="number">0</span>] + <span class="number">1</span> ;</span><br><span class="line">            <span class="keyword">endcase</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)   <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(reset)   pm &lt;= <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(en &amp;&amp; Q[<span class="number">7</span>:<span class="number">0</span>] == <span class="number">8&#x27;h11</span>)  pm &lt;= ~pm ;</span><br><span class="line">        <span class="keyword">else</span> pm &lt;= pm ;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>







<h2 id="Some-worthwhile-retry-practice"><a href="#Some-worthwhile-retry-practice" class="headerlink" title="Some worthwhile retry practice ;"></a>Some worthwhile retry practice ;</h2><ul>
<li><a href="https://hdlbits.01xz.net/wiki/edgedetect">Detect an edge</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/edgedetect2">Detect both edges</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/edgecapture">Edge capture register</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/dualedge">Dual-edge triggered flip-flop</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/Countslow">Slow decade counter</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/Exams/ece241_2014_q7a">Counter 1-12</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/Exams/ece241_2014_q7b">Counter 1000</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/Countbcd">4-digit decimal counter</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/Count_clock">12-hour clock</a></li>
<li><a href="https://hdlbits.01xz.net/wiki/Exams/ece241_2013_q12">3-input LUT</a></li>
</ul>
]]></content>
      <tags>
        <tag>IC</tag>
      </tags>
  </entry>
  <entry>
    <title>TVM Pythonä¸Cppç»‘å®šæœºåˆ¶è§£æ</title>
    <url>/posts/816428ff/</url>
    <content><![CDATA[<p>æœ¬æ–‡ä»¥<code>TVM v0.20.0</code>ä¸ºä¾‹ï¼Œåˆ†æTVMä¸­Pythonå‰ç«¯ä¸C++åç«¯çš„ç»‘å®šæœºåˆ¶ã€‚ç»‘å®šæœºåˆ¶ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼š<strong>ç±»çš„æ³¨å†Œ</strong>ã€<strong>å¯¹è±¡çš„åˆå§‹åŒ–</strong>ä»¥åŠ<strong>æˆå‘˜å‡½æ•°çš„ç»‘å®š</strong>ã€‚æœ¬æ–‡å°†ä»¥<code>DataflowBlockRewrite</code>ç±»ä¸ºä¾‹ï¼Œé€æ­¥è§£æè¿™ä¸€è¿‡ç¨‹ã€‚</p>
<span id="more"></span>

<blockquote>
<p>ä¸ºè¡Œæ–‡æ–¹ä¾¿ï¼Œå‰ç«¯é»˜è®¤æŒ‡TVM pythonå‰ç«¯ï¼Œåç«¯é»˜è®¤æŒ‡TVM C++åç«¯</p>
</blockquote>
<h3 id="ä¸€ã€å‰ç«¯æ³¨å†Œç±»"><a href="#ä¸€ã€å‰ç«¯æ³¨å†Œç±»" class="headerlink" title="ä¸€ã€å‰ç«¯æ³¨å†Œç±»"></a>ä¸€ã€å‰ç«¯æ³¨å†Œç±»</h3><p>åœ¨TVMå‰ç«¯ä¸­ï¼Œéœ€è¦å¯¹æ¯ä¸€ä¸ªç±»è¿›è¡Œæ³¨å†Œã€‚</p>
<p>ä»¥<code>DataflowBlockRewrite</code>ä¸ºä¾‹ï¼Œæ³¨å†Œä»£ç å¦‚ä¸‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@tvm._ffi.register_object(<span class="params"><span class="string">&quot;relax.DataflowBlockRewrite&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DataflowBlockRewrite</span>(<span class="title class_ inherited__">Object</span>):</span><br><span class="line">    ......</span><br><span class="line"><span class="comment">#ç­‰ä»·äºDataflowBlockRewrite = tvm._ffi.register_object(&quot;relax.DataflowBlockRewrite&quot;)(DataflowBlockRewrite)</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸ºäº†è¡Œæ–‡æµç•…ï¼Œæœ¬æ–‡ä¸­å¤§å¤šæ•°çš„ç±»ã€æ–‡ä»¶æ²¡æœ‰æ³¨æ˜å…·ä½“è·¯å¾„ï¼Œè¯»è€…å¯ä»¥ä½¿ç”¨VSCode <code>Ctrl + P</code>æœç´¢æ–‡ä»¶ï¼Œä¾§è¾¹æ æœç´¢ç±»åè¿›è¡Œæ£€ç´¢ã€‚</p>
</blockquote>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†æ<code>tvm._ffi.register_object</code>çš„æ‰§è¡Œæµç¨‹ï¼Œè¯¥å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">register_object</span>(<span class="params">type_key=<span class="literal">None</span></span>):</span><br><span class="line">    </span><br><span class="line">    object_name = type_key <span class="keyword">if</span> <span class="built_in">isinstance</span>(type_key, <span class="built_in">str</span>) <span class="keyword">else</span> type_key.__name__ <span class="comment">#object_name = &quot;relax.DataflowBlockRewrite&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">register</span>(<span class="params">cls</span>):</span><br><span class="line">        <span class="comment">#ignore ....</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(type_key, <span class="built_in">str</span>):</span><br><span class="line">        <span class="keyword">return</span> register</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> register(type_key)</span><br></pre></td></tr></table></figure>

<p>å½“ä¼ å…¥å­—ç¬¦ä¸²å‚æ•°<code>&quot;relax.DataflowBlockRewrite&quot;</code> æ—¶ï¼Œ <code>tvm._ffi.register_object(&quot;relax.DataflowBlockRewrite&quot;)</code>è¿”å›ä¸€ä¸ªæ³¨å†Œå‡½æ•°<code>register</code>ã€‚</p>
<p>å†çœ‹<code>register(DataflowBlockRewrite)</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">register</span>(<span class="params">cls</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;internal register function&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">hasattr</span>(cls, <span class="string">&quot;_type_index&quot;</span>):</span><br><span class="line">            tindex = cls._type_index</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># tidxæ˜¯ä¸€ä¸ªä¸C uintå…¼å®¹çš„uintæ•°æ®ç±»å‹</span></span><br><span class="line">            tidx = ctypes.c_uint()</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> _RUNTIME_ONLY:</span><br><span class="line">                check_call(_LIB.TVMObjectTypeKey2Index(c_str(object_name), ctypes.byref(tidx)))<span class="comment">#æ£€æŸ¥è¿™ä¸ªç±»æ˜¯å¦åœ¨C++åç«¯ä¸­,å¦‚æœå­˜åœ¨ï¼Œå°†type_indexå†™å…¥tidx(=240)</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># directly skip unknown objects during runtime.</span></span><br><span class="line">                ret = _LIB.TVMObjectTypeKey2Index(c_str(object_name), ctypes.byref(tidx))</span><br><span class="line">                <span class="keyword">if</span> ret != <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">return</span> cls</span><br><span class="line">            tindex = tidx.value<span class="comment">#tindex = 240</span></span><br><span class="line">        <span class="comment">#æ³¨å†Œ</span></span><br><span class="line">        _register_object(tindex, cls)</span><br><span class="line">        <span class="keyword">return</span> cls</span><br></pre></td></tr></table></figure>



<p>å‡½æ•° <code>_register_object</code>çš„å®šä¹‰åœ¨<code>object.pxi</code>ä¸­ï¼Œä»¥<code>_register_object(240, DataflowBlockRewrite)</code>çš„æ‰§è¡Œæµç¨‹ä¸ºä¾‹ï¼š</p>
<blockquote>
<p><strong>Cythonç¼–è¯‘æµç¨‹</strong>ï¼š</p>
<p><code>python/tvm/_ffi/_cython</code>ä¸­<code>base.pxi</code>,<code>ndarray.pxi</code>,<code>object.pxi</code>,<code>packed_func.pxi</code>æè¿°äº†ä¸C++çš„æ¥å£ï¼Œ<code>core.pyx</code> <code>include</code>äº†è¿™äº›<code>*.pxi</code>æ–‡ä»¶ã€‚</p>
<p>TVMé¡¹ç›®ç¼–è¯‘åï¼Œ<code>python/tvm/_ffi/_cython</code>ä¸­çš„<code>core.pyx</code>è¢«ç¼–è¯‘æˆ <code>python/tvm/_ffi/_cy3</code>ä¸­çš„<code>.so</code>æ–‡ä»¶(ä¾‹å¦‚<code>core.cpython-312-x86_64-linux-gnu.so</code>)ã€‚(Cythonå…·ä½“ç¼–è¯‘é…ç½®è§<code>python/setup.py</code>L161)ã€‚å®Œæˆç¼–è¯‘åï¼Œä¾¿å¯ä»¥åœ¨<code>python</code>æ–‡ä»¶ä¸­è°ƒç”¨<code>.so</code>ä¸­çš„C++å‡½æ•°&#x2F;ç±»ã€‚ä¾‹å¦‚<code>python/tvm/_ffi/registry.py</code>ä¸­<code>from ._cy3.core import _register_object</code></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;Maps object type index to its constructor&quot;&quot;&quot;</span></span><br><span class="line">cdef <span class="built_in">list</span> OBJECT_TYPE = []</span><br><span class="line"><span class="string">&quot;&quot;&quot;Maps object type to its type index&quot;&quot;&quot;</span></span><br><span class="line">cdef <span class="built_in">dict</span> OBJECT_INDEX = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#objectæ˜¯pythonå†…ç½®çš„ä¸€ä¸ªç±»ï¼Œå¯è¡¨ç¤ºæ‰€æœ‰å¯¹è±¡</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">_register_object</span>(<span class="params"><span class="built_in">int</span> index, <span class="built_in">object</span> cls</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;register object class&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">issubclass</span>(cls, NDArrayBase):</span><br><span class="line">        _register_ndarray(index, cls)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">global</span> OBJECT_TYPE</span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(OBJECT_TYPE) &lt;= index:</span><br><span class="line">        OBJECT_TYPE.append(<span class="literal">None</span>)</span><br><span class="line">      </span><br><span class="line">    <span class="comment">#å°†ç±»å†™è¿›åˆ—è¡¨ã€å­—å…¸ä¸­ï¼Œä»è€Œå®ç°æ³¨å†Œ</span></span><br><span class="line">    OBJECT_TYPE[index] = cls  <span class="comment"># ID â†’ Pythonç±»</span></span><br><span class="line">    OBJECT_INDEX[cls] = index <span class="comment"># Pythonç±» â†’ ID</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å‰ç«¯å’Œåç«¯ä¸­ç›¸å¯¹åº”çš„ç±»çš„<code>type_index</code>ç›¸ç­‰ï¼Œä»è€Œå®ç°ä¸€ä¸€å¯¹åº”ã€‚</li>
</ul>
<h3 id="äºŒã€å‰ç«¯å¯¹è±¡åˆå§‹åŒ–"><a href="#äºŒã€å‰ç«¯å¯¹è±¡åˆå§‹åŒ–" class="headerlink" title="äºŒã€å‰ç«¯å¯¹è±¡åˆå§‹åŒ–"></a>äºŒã€å‰ç«¯å¯¹è±¡åˆå§‹åŒ–</h3><p>ä»ç„¶ä»¥<code>DataflowBlockRewrite</code>ä¸ºä¾‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@tvm._ffi.register_object(<span class="params"><span class="string">&quot;relax.DataflowBlockRewrite&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DataflowBlockRewrite</span>(<span class="title class_ inherited__">Object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, dfb: DataflowBlock, root_fn: Function</span>):</span><br><span class="line">        self.func_name = root_fn.__name__ <span class="keyword">if</span> <span class="built_in">hasattr</span>(root_fn, <span class="string">&quot;__name__&quot;</span>) <span class="keyword">else</span> <span class="literal">None</span></span><br><span class="line">        self.__init_handle_by_constructor__(</span><br><span class="line">            _ffi_api.DataflowBlockRewrite, dfb, root_fn  <span class="comment"># type: ignore</span></span><br><span class="line">        )</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<p><code>DataflowBlockRewrite</code>å‰ç«¯åˆå§‹åŒ–å‡½æ•°<code>__init__</code>æ‰€éœ€çš„å‚æ•°ä¸åç«¯C++æ„é€ å‡½æ•°ä¸€è‡´ã€‚ <code>binding_rewrite.h</code>ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DataflowBlockRewrite</span> : <span class="keyword">public</span> ObjectRef &#123;</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line">  <span class="function">TVM_DLL <span class="keyword">explicit</span> <span class="title">DataflowBlockRewrite</span><span class="params">(DataflowBlock dfb, Function root_fn)</span></span>;</span><br></pre></td></tr></table></figure>

<p>pythonå¯¹è±¡åˆå§‹åŒ–æ—¶ï¼Œé€šè¿‡<code>self.__init_handle_by_constructor__</code>åˆ›å»ºäº†C++å®ä¾‹ã€‚</p>
<p><code>object.pxi</code>ä¸­å®šä¹‰äº†ç±»<code>ObjectBase</code>å’Œæ–¹æ³•<code>__init_handle_by_constructor__</code>: </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cdef class ObjectBase</span><br><span class="line">	cdef void* chandle</span><br><span class="line">	def __init_handle_by_constructor__(self, fconstructor, *args):</span><br><span class="line">        </span><br><span class="line">        self.chandle = NULL</span><br><span class="line">        cdef void* chandle</span><br><span class="line">        ConstructorCall(</span><br><span class="line">            (&lt;PackedFuncBase&gt;fconstructor).chandle,</span><br><span class="line">            kTVMObjectHandle, args, &amp;chandle)</span><br><span class="line">        self.chandle = chandle</span><br></pre></td></tr></table></figure>

<p>ç±»çš„åˆå§‹åŒ–å‘ç”Ÿåœ¨å‡½æ•°<code>ConstructorCall</code>ã€‚æ­¤å¤„å‡½æ•°è°ƒç”¨æ ˆæ¯”è¾ƒæ·±ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºï¼šä½¿ç”¨æ„é€ å‡½æ•°<code>fconstructor</code>å’Œå‚æ•°<code>args</code>ï¼Œæ„é€ äº†ä¸€ä¸ª<code>C++</code>çš„<code>DataflowBlockRewrite</code>ç±»ï¼Œå¹¶ç”¨ä¸´æ—¶æŒ‡é’ˆ<code>chandle</code>æŒ‡å‘è¿™ä¸ª<code>C++</code>å®ä¾‹ï¼Œå†ç”¨<code>self.chandle</code>æŒ‡å‘è¯¥C++å®ä¾‹ã€‚</p>
<p><code>DataflowBlockRewrite</code>ç»§æ‰¿è‡ª<code>ObjectBase</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">classDiagram</span><br><span class="line">	class DataflowBlockRewrite</span><br><span class="line">	class Object</span><br><span class="line">	class ObjectBase</span><br><span class="line">	DataflowBlockRewrite &lt;|-- Object</span><br><span class="line">	Object &lt;|-- ObjectBase</span><br></pre></td></tr></table></figure>

<p>å› æ­¤ï¼Œpythonç±»<code>DataflowBlockRewrite</code>æœ‰ä¸€ä¸ªæˆå‘˜å˜é‡<code>self.chandle</code>æŒ‡å‘C++å¯¹è±¡<code>DataflowBlockRewrite</code>,å³python DataflowBlockRewrite.chandle  -&gt;  &amp;(C++ DataflowBlockRewrite)ï¼Œä»è€Œå®ç°äº†pythonå¯¹è±¡ä¸C++å¯¹è±¡çš„ç»‘å®šã€‚</p>
<h3 id="ä¸‰ã€TVMå‰ç«¯å¯¹è±¡çš„æˆå‘˜å‡½æ•°ä¸åç«¯å¯¹è±¡çš„æˆå‘˜å‡½æ•°ç»‘å®š"><a href="#ä¸‰ã€TVMå‰ç«¯å¯¹è±¡çš„æˆå‘˜å‡½æ•°ä¸åç«¯å¯¹è±¡çš„æˆå‘˜å‡½æ•°ç»‘å®š" class="headerlink" title="ä¸‰ã€TVMå‰ç«¯å¯¹è±¡çš„æˆå‘˜å‡½æ•°ä¸åç«¯å¯¹è±¡çš„æˆå‘˜å‡½æ•°ç»‘å®š"></a>ä¸‰ã€TVMå‰ç«¯å¯¹è±¡çš„æˆå‘˜å‡½æ•°ä¸åç«¯å¯¹è±¡çš„æˆå‘˜å‡½æ•°ç»‘å®š</h3><p>ä»ç„¶ä»¥<code>DataflowBlockRewrite</code>ä¸ºä¾‹ï¼Œå®ƒçš„<code>replace_all_uses</code>æ–¹æ³•ä¸åç«¯C++å‡½æ•°<code>ReplaceAllUses</code>è¿›è¡Œäº†ç»‘å®šï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@tvm._ffi.register_object(<span class="params"><span class="string">&quot;relax.DataflowBlockRewrite&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DataflowBlockRewrite</span>(<span class="title class_ inherited__">Object</span>):</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">replace_all_uses</span>(<span class="params">self, old_var: Var, new_var: Var</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        _ffi_api.dfb_rewrite_replace_all_uses(self, old_var, new_var) </span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*! \brief Statement rewriter for relax.DataflowBlock. */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DataflowBlockRewriteNode</span> : <span class="keyword">public</span> Object &#123;</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line">  <span class="comment">/*! \brief Replace all uses of old_var with new_var. */</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">ReplaceAllUses</span><span class="params">(Var old_var, Var new_var)</span></span>;</span><br></pre></td></tr></table></figure>

<p>pythonç±»<code>DataflowBlockRewrite</code>è°ƒç”¨<code>_ffi_api.dfb_rewrite_replace_all_uses</code>ï¼Œå®é™…åœ¨è°ƒç”¨åç«¯çš„æ³¨å†Œå‡½æ•°<code>relax.dfb_rewrite_replace_all_uses</code>ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">TVM_REGISTER_GLOBAL</span>(<span class="string">&quot;relax.dfb_rewrite_replace_all_uses&quot;</span>)</span><br><span class="line">    .<span class="built_in">set_body_typed</span>([](DataflowBlockRewrite rwt, Var old_var, Var new_var) &#123;</span><br><span class="line">      rwt-&gt;<span class="built_in">ReplaceAllUses</span>(old_var, new_var);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°ä½“å†…å†è°ƒç”¨<code>rwt-&gt;ReplaceAllUses(old_var, new_var);</code></p>
<p>æ‰€ä»¥ï¼Œ<code>_ffi_api.dfb_rewrite_replace_all_uses</code>æ˜¯å¦‚ä½•ä¸åç«¯æ³¨å†Œçš„å‡½æ•°<code>relax.dfb_rewrite_replace_all_uses</code>è¿›è¡Œç»‘å®šçš„å‘¢ï¼Ÿ<code>_ffi_api</code>æ˜¯ä¸€ä¸ªmoduleï¼Œä¸ºä»€ä¹ˆä¼šæœ‰ä¸€ä¸ª<code>dfb_rewrite_replace_all_uses</code>æ–¹æ³•å‘¢ï¼Ÿè¿™ä¸€åŠŸèƒ½çš„å®ç°ä¾èµ–äºPythonä¸€ä¸ªç‰¹æ€§ï¼Œè¿è¡Œæ—¶å¯¹è±¡å±æ€§æ›´æ–°(Dynamic Attribute Assignment).</p>
<p>åœ¨<code>binging_rewrite.py</code>ä¸­ï¼Œé€šè¿‡<code>from . import _ffi_api</code>å¯¼å…¥<code>_ffi_api</code>ï¼Œè¿™ä¸ªå¯¼å…¥æ“ä½œä¼šæ‰§è¡Œ<code>_ffi_api.py</code>ä¸­çš„<code>tvm._ffi._init_api(&quot;relax&quot;, __name__)</code>ï¼Œè¿™è¡Œä»£ç å°†åç«¯æ³¨å†Œçš„ã€<code>relax namspace</code>ä¸­çš„å‡½æ•°å†™å…¥äº†<code>_ffi_api</code>è¿™ä¸ªmoduleã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">tvm._ffi._init_api(&quot;relax&quot;, __name__)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">__name__ = tvm.relax._ffi_api</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">__name__æ˜¯pythonå†…ç½®çš„ä¸€ä¸ªå˜é‡ï¼Œè¡¨ç¤ºå½“å‰pythonæ–‡ä»¶è¢«è°ƒç”¨æ—¶çš„è·¯å¾„</span></span><br></pre></td></tr></table></figure>

<p><code>registry.py</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">_init_api</span>(<span class="params">namespace, target_module_name=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="comment">#namespace = &quot;relax&quot;, target_module_name = &quot;tvm.relax._ffi_api&quot;</span></span><br><span class="line">    target_module_name = target_module_name <span class="keyword">if</span> target_module_name <span class="keyword">else</span> namespace</span><br><span class="line">    <span class="keyword">if</span> namespace.startswith(<span class="string">&quot;tvm.&quot;</span>):</span><br><span class="line">        _init_api_prefix(target_module_name, namespace[<span class="number">4</span>:])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># target_module_name = &quot;tvm.relax._ffi_api&quot;, namespace = &quot;relax&quot;</span></span><br><span class="line">        _init_api_prefix(target_module_name, namespace)</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">_init_api_prefix</span>(<span class="params">module_name, prefix</span>):</span><br><span class="line">    <span class="comment"># module_name = &quot;tvm.relax._ffi_api&quot;, prefix = &quot;relax&quot;</span></span><br><span class="line">    <span class="comment"># sys.modulesæ˜¯pythonå†…ç½®çš„å­—å…¸ï¼Œå¯ä»¥é€šè¿‡åç§°æ¥è·å–module</span></span><br><span class="line">    module = sys.modules[module_name] <span class="comment">#module = _ffi_api</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> list_global_func_names():<span class="comment">#åˆ—å‡ºåç«¯æ³¨å†Œçš„æ‰€æœ‰å‡½æ•°</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> name.startswith(prefix):</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">		<span class="comment">#ä»¥name = &quot;relax.dfb_rewrite_replace_all_uses&quot;ä¸ºä¾‹</span></span><br><span class="line">        fname = name[<span class="built_in">len</span>(prefix) + <span class="number">1</span> :]<span class="comment">#name = dfb_rewrite_replace_all_uses</span></span><br><span class="line">        target_module = module <span class="comment">#_ffi_api</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> fname.find(<span class="string">&quot;.&quot;</span>) != -<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="comment">#æ‹¿åˆ°dfb_rewrite_replace_all_usesçš„C++ handle</span></span><br><span class="line">        f = get_global_func(name)</span><br><span class="line">        <span class="comment">#wrap it as a python function</span></span><br><span class="line">        ff = _get_api(f)</span><br><span class="line">        ff.__name__ = fname<span class="comment">#è®¾ç½®åå­—ä¸ºdfb_rewrite_replace_all_uses</span></span><br><span class="line">        ff.__doc__ = <span class="string">&quot;TVM PackedFunc %s. &quot;</span> % fname</span><br><span class="line">        </span><br><span class="line">        <span class="comment">#ä¸ºæ¨¡å—(å¯¹è±¡)_ffi_apiè®¾ç½®ä¸€ä¸ªå±æ€§</span></span><br><span class="line">        <span class="comment">#ç­‰ä»·äº_ffi_api.&quot;dfb_rewrite_replace_all_uses&quot; = ff</span></span><br><span class="line">        <span class="built_in">setattr</span>(target_module, ff.__name__, ff)</span><br></pre></td></tr></table></figure>

<p><code>Tips</code>: </p>
<ul>
<li>åç«¯<code>relax.dfb_rewrite_replace_all_uses</code>çš„æ³¨å†Œ</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">TVM_REGISTER_GLOBAL</span>(<span class="string">&quot;relax.dfb_rewrite_replace_all_uses&quot;</span>)</span><br><span class="line">    .<span class="built_in">set_body_typed</span>([](DataflowBlockRewrite rwt, Var old_var, Var new_var) &#123;</span><br><span class="line">      rwt-&gt;<span class="built_in">ReplaceAllUses</span>(old_var, new_var);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<p><code>list_global_func_names()</code>è¿”å›çš„åˆ—è¡¨ä¸­æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ä¸º<code>relax.dfb_rewrite_replace_all_uses</code></p>
<ul>
<li>ç»è¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œ<code>_ffi_api</code>å…·æœ‰å±æ€§<code>dfb_rewrite_replace_all_uses</code>, <code>_ffi_api.dfb_rewrite_replace_all_uses</code>æ˜¯ä¸€ä¸ªpythonå‡½æ•°<code>dfb_rewrite_replace_all_uses</code>, å®ƒé‡Œé¢åŒ…è£…äº†å¯¹åº”çš„åä¸º<code>relax.dfb_rewrite_replace_all_uses</code>çš„åç«¯æ³¨å†Œçš„å‡½æ•°ã€‚</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>centoså­¦ä¹ ç¬”è®°</title>
    <url>/posts/d2783502/</url>
    <content><![CDATA[<p>CentOSç›¸å…³</p>
<span id="more"></span>

<h3 id="å¼ºåˆ¶ä¿®æ”¹å¯†ç "><a href="#å¼ºåˆ¶ä¿®æ”¹å¯†ç " class="headerlink" title="å¼ºåˆ¶ä¿®æ”¹å¯†ç "></a>å¼ºåˆ¶ä¿®æ”¹å¯†ç </h3><p>å¦‚æœå°†å¯†ç ä¿®æ”¹å¾—å¾ˆç®€å•ï¼Œ<code>centos</code>ä¼šæ‹’ç»ä¿®æ”¹ï¼Œå¯ä»¥å¦‚ä¸‹å¼ºåˆ¶ä¿®æ”¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo su</span><br><span class="line"><span class="comment"># echo &lt;password&gt; | passwd --stdin &lt;username&gt; </span></span><br></pre></td></tr></table></figure>

<p><a href="https://blog.csdn.net/chy555chy/article/details/112258353#:~:text=1%20%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%EF%BC%9A%20useradd,%3C%E7%94%A8%E6%88%B7%E5%90%8D%3E%202%20%E4%BF%AE%E6%94%B9%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%EF%BC%88%E5%AD%98%E5%9C%A8%E5%AE%89%E5%85%A8%E6%80%A7%E6%A0%A1%E9%AA%8C%EF%BC%89%EF%BC%9A%20passwd">Link</a></p>
<h3 id="é‡å®šå‘cd"><a href="#é‡å®šå‘cd" class="headerlink" title="é‡å®šå‘cd"></a>é‡å®šå‘cd</h3><p>åœ¨ CentOS ç³»ç»Ÿä¸­ï¼Œå¦‚æœæ‚¨å¸Œæœ›åœ¨æ¯æ¬¡ä½¿ç”¨ <code>cd</code> å‘½ä»¤è¿›å…¥ç›®å½•åä¸è‡ªåŠ¨åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ Bash é…ç½®æ–‡ä»¶æ¥å®ç°ã€‚</p>
<p>æ‚¨å¯ä»¥é€šè¿‡ç¼–è¾‘ç”¨æˆ·çš„ <code>.bashrc</code> æˆ–å…¨å±€çš„ <code>/etc/profile</code> æ–‡ä»¶æ¥è¾¾åˆ°ç›®çš„ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
<ol>
<li><p>æ‰“å¼€ç»ˆç«¯ã€‚</p>
</li>
<li><p>è¾“å…¥ <code>vi ~/.bashrc</code> æ¥ç¼–è¾‘å½“å‰ç”¨æˆ·çš„ <code>.bashrc</code> æ–‡ä»¶ï¼›æˆ–è€…ä½¿ç”¨ <code>vi /etc/profile</code> æ¥ç¼–è¾‘å…¨å±€çš„é…ç½®æ–‡ä»¶ï¼Œè¿™éœ€è¦ç®¡ç†å‘˜æƒé™ï¼ˆsudoï¼‰ã€‚</p>
</li>
<li><p>åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹è¡Œï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">alias cd=&#x27;cd &gt;/dev/null 2&gt;&amp;1&#x27;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿å­˜å¹¶é€€å‡ºç¼–è¾‘å™¨ã€‚å¦‚æœæ˜¯ç¼–è¾‘çš„ <code>/etc/profile</code>ï¼Œä¸ºäº†ä½¿æ›´æ”¹ç«‹å³ç”Ÿæ•ˆï¼Œéœ€è¦è¿è¡Œ <code>source /etc/profile</code> æˆ–é‡æ–°ç™»å½•ã€‚<strong>æœ‰æ—¶<code>etc/profile</code>æœªç”Ÿæ•ˆï¼Œcdè¿›å…¥ç›®å½•ä»ä¼š<code>ls</code> , è¿™æ—¶é‡æ–°<code>source /etc/profile</code>å³å¯ã€‚</strong></p>
</li>
</ol>
<p>è¿™æ ·è®¾ç½®åï¼Œæ¯æ¬¡ä½¿ç”¨ <code>cd</code> å‘½ä»¤åˆ‡æ¢ç›®å½•æ—¶ï¼Œä¸ä¼šè‡ªåŠ¨æ‰§è¡Œ <code>ls</code> å‘½ä»¤ï¼Œä»è€Œä¸ä¼šæ˜¾ç¤ºç›®å½•ä¸‹çš„æ–‡ä»¶åˆ—è¡¨ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œä¸Šè¿°æ–¹æ³•ä¼šå°† <code>cd</code> å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ° <code>/dev/null</code>ï¼Œè¿™æ„å‘³ç€å³ä½¿ <code>cd</code> å‘½ä»¤æœ‰è¾“å‡ºï¼ˆé€šå¸¸ä¸ä¼šæœ‰ï¼‰ï¼Œä¹Ÿä¸ä¼šåœ¨ç»ˆç«¯ä¸Šæ˜¾ç¤ºã€‚å¦‚æœæ‚¨å¸Œæœ›æ¢å¤é»˜è®¤çš„è¡Œä¸ºï¼Œåªéœ€åˆ é™¤æˆ–è€…æ³¨é‡Šæ‰ <code>.bashrc</code> æˆ– <code>/etc/profile</code> æ–‡ä»¶ä¸­æ·»åŠ çš„é‚£è¡Œåˆ«åé…ç½®å³å¯ã€‚</p>
<h3 id="CentOS-7å®‰è£…æœ€æ–°ç‰ˆgit"><a href="#CentOS-7å®‰è£…æœ€æ–°ç‰ˆgit" class="headerlink" title="CentOS 7å®‰è£…æœ€æ–°ç‰ˆgit"></a>CentOS 7å®‰è£…æœ€æ–°ç‰ˆgit</h3><p>å®‰è£…<a href="https://ius.io/setup">ius-release</a> </p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">yum install \</span></span><br><span class="line"><span class="language-bash">https://repo.ius.io/ius-release-el7.rpm \</span></span><br><span class="line"><span class="language-bash">https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹gitç‰ˆæœ¬ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash">yum provides git</span></span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.aliyun.com</span><br><span class="line"> * epel: mirror.nyist.edu.cn</span><br><span class="line"> * extras: mirrors.aliyun.com</span><br><span class="line"> * updates: mirrors.aliyun.com</span><br><span class="line">git-1.8.3.1-23.el7_8.x86_64 : Fast Version Control System</span><br><span class="line">Repo        : base</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git-1.8.3.1-24.el7_9.x86_64 : Fast Version Control System</span><br><span class="line">Repo        : updates</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git-1.8.3.1-25.el7_9.x86_64 : Fast Version Control System</span><br><span class="line">Repo        : updates</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git236-2.36.5-1.el7.ius.x86_64 : Fast Version Control System</span><br><span class="line">Repo        : ius</span><br><span class="line">Matched from:</span><br><span class="line">Provides    : git = 2.36.5-1.el7.ius</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git236-2.36.6-1.el7.ius.x86_64 : Fast Version Control System</span><br><span class="line">Repo        : ius</span><br><span class="line">Matched from:</span><br><span class="line">Provides    : git = 2.36.6-1.el7.ius</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git236-2.36.6-1.el7.ius.x86_64 : Fast Version Control System</span><br><span class="line">Repo        : @ius</span><br><span class="line">Matched from:</span><br><span class="line">Provides    : git = 2.36.6-1.el7.ius</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å®‰è£…git2.36:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">yum remove git -y <span class="comment">#å¸è½½è€ç‰ˆæœ¬</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">yum install git236 -y</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹æ–°ç‰ˆæœ¬</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git --version</span></span><br><span class="line">git version 2.36.6</span><br></pre></td></tr></table></figure>

<h3 id="CentOS-7-å¤šç‰ˆæœ¬gcc"><a href="#CentOS-7-å¤šç‰ˆæœ¬gcc" class="headerlink" title="CentOS 7 å¤šç‰ˆæœ¬gcc"></a>CentOS 7 å¤šç‰ˆæœ¬gcc</h3><p>æ‹…å¿ƒ<code>VCS</code>,<code>verdi</code>ä¸å…¼å®¹é«˜ç‰ˆæœ¬<code>gcc</code> (ç°åœ¨vcs,verdiä½¿ç”¨gcc-4.8ç¼–è¯‘) ï¼Œ æƒ³åœ¨centosä¸Šå®‰è£…å¤šä¸ªç‰ˆæœ¬gccï¼ŒæŸ¥è¯¢èµ„æ–™ï¼Œå†³å®šç”¨<code>Software Collections (SCL)</code>æ¥ç®¡ç†å¤šç‰ˆæœ¬gccã€‚(SCLç±»ä¼¼äºanaconda)</p>
<ol>
<li><p>å®‰è£…centos-release-scl</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo yum install centos-release-scl</span> </span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„<code>devtoolset</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo yum install devtoolset-10-gcc*</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå®‰è£…çš„æ˜¯gcc-10.xç‰ˆæœ¬ï¼Œå¦‚æœè¦å®‰è£…å…¶ä»–ç‰ˆæœ¬çš„GCCï¼Œåªéœ€å°†<code>devtoolset-10</code>æ›¿æ¢ä¸ºç›¸åº”çš„ç‰ˆæœ¬å·ï¼Œå¦‚<code>devtoolset-7</code>ã€‚</p>
</li>
<li><p>æ¿€æ´»ç‰¹å®šçš„devtoolsetç‰ˆæœ¬</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -v 2&gt;&amp;1 | <span class="built_in">tail</span> -n 1 <span class="comment">#æ¿€æ´»å‰ç‰ˆæœ¬</span></span></span><br><span class="line">gcc version 4.8.5 20150623 (Red Hat 4.8.5-44) (GCC) </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">scl <span class="built_in">enable</span> devtoolset-10 bash <span class="comment">#æ¿€æ´»</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -v 2&gt;&amp;1 | <span class="built_in">tail</span> -n 1</span></span><br><span class="line">gcc version 10.2.1 20210130 (Red Hat 10.2.1-11) (GCC) </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">exit</span> <span class="comment">#é€€å‡ºå½“å‰ç‰ˆæœ¬</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -v 2&gt;&amp;1 | <span class="built_in">tail</span> -n 1</span> </span><br><span class="line">gcc version 4.8.5 20150623 (Red Hat 4.8.5-44) (GCC) </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œsclæ¿€æ´»åªå¯¹å½“å‰ç»ˆç«¯æœ‰æ•ˆï¼Œå…¶ä»–ç»ˆç«¯ä»æ˜¯é»˜è®¤ç‰ˆæœ¬ã€‚è¿™ç§æ–¹æ³•ä¸éœ€è¦æ‰‹åŠ¨ä¸‹è½½æºç ç¼–è¯‘ï¼Œè€Œæ˜¯é€šè¿‡SCLæ¥æä¾›å’Œç®¡ç†ç³»ç»ŸèŒƒå›´å†…çš„ä¸åŒç‰ˆæœ¬çš„å·¥å…·é“¾ã€‚</p>
</li>
</ol>
<h3 id="pipå®‰è£…å¤ªæ…¢"><a href="#pipå®‰è£…å¤ªæ…¢" class="headerlink" title="pipå®‰è£…å¤ªæ…¢"></a>pipå®‰è£…å¤ªæ…¢</h3><p>pipå®‰è£…å¤ªæ…¢ï¼Œä½¿ç”¨å…¶ä»–é•œåƒå®‰è£…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple numpy</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="CentOS7-ç¾åŒ–"><a href="#CentOS7-ç¾åŒ–" class="headerlink" title="CentOS7 ç¾åŒ–"></a>CentOS7 ç¾åŒ–</h3><p>å‚è€ƒ<a href="https://zhuanlan.zhihu.com/p/68845973">æ–‡ç« </a></p>
<h3 id="åˆè¯•Tmux"><a href="#åˆè¯•Tmux" class="headerlink" title="åˆè¯•Tmux"></a>åˆè¯•Tmux</h3><p>å‚è€ƒé“¾æ¥<a href="https://www.bilibili.com/video/BV1Mj411N7xS/?spm_id_from=333.337.search-card.all.click&vd_source=da5120fea3f8bb8d2fe1984a02a9a745">Tmuxæ–°æ‰‹æ•™å­¦</a>       <a href="https://github.com/bryant-video/tmux-tutorial">bryant-video&#x2F;tmux-tutorial</a></p>
<p>é…ç½®æ–‡ä»¶<code>~/.tmux.conf</code>:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">unbind %</span><br><span class="line">bind | split-window -h -c &quot;#&#123;pane_current_path&#125;&quot;</span><br><span class="line"></span><br><span class="line">unbind &#x27;&quot;&#x27;</span><br><span class="line">bind - split-window -v -c &quot;#&#123;pane_current_path&#125;&quot;</span><br><span class="line"></span><br><span class="line">unbind r</span><br><span class="line">bind r source-file ~/.tmux.conf</span><br><span class="line"></span><br><span class="line">bind -r j resize-pane -D 5</span><br><span class="line">bind -r k resize-pane -U 5</span><br><span class="line">bind -r l resize-pane -R 5</span><br><span class="line">bind -r h resize-pane -L 5</span><br><span class="line">bind -r m resize-pane -Z</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">set -g mouse on</span><br><span class="line">set -g mode-keys vi</span><br><span class="line">set -sg escape-time 10 # make delay shorter</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## Copy Mode</span></span></span><br><span class="line">bind-key -T copy-mode-vi &#x27;v&#x27; send -X begin-selection # start selecting text with &quot;v&quot;</span><br><span class="line">bind-key -T copy-mode-vi &#x27;y&#x27; send -X copy-selection # copy text with &quot;y&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## Plugins</span></span> </span><br><span class="line">set -g @plugin &#x27;tmux-plugins/tpm&#x27;</span><br><span class="line"></span><br><span class="line">set -g @plugin &#x27;christoomey/vim-tmux-navigator&#x27;</span><br><span class="line">set -g @plugin &#x27;jimeh/tmux-themepack&#x27;</span><br><span class="line">set -g @plugin &#x27;tmux-plugins/tmux-resurrect&#x27; # persist tmux sessions after computer restart</span><br><span class="line">set -g @plugin &#x27;tmux-plugins/tmux-continuum&#x27; # automatically saves sessions for you every 15 minutes</span><br><span class="line"></span><br><span class="line">set -g @resurrect-capture-pane-contents &#x27;on&#x27;</span><br><span class="line">set -g @continuum-restore &#x27;on&#x27;</span><br><span class="line">run &#x27;~/.tmux/plugins/tpm/tpm&#x27; # Initialize TPM</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">å‘½ä»¤</th>
<th align="center">åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>tmux new -s &lt;session name&gt;</code></td>
<td align="center">create a new tmux session</td>
</tr>
<tr>
<td align="center">tmux a -t <code>[Session Name]</code></td>
<td align="center">attach to an existing session</td>
</tr>
<tr>
<td align="center">tmux kill-session -t <code>[Session Name]</code></td>
<td align="center">Delete a specific Session</td>
</tr>
<tr>
<td align="center">tmux detach</td>
<td align="center">detach current session</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + &#96;</td>
<td align="center">&#96;</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>-</code></td>
<td align="center">Split windows up and down</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>â†‘â†“â†â†’</code></td>
<td align="center">switch panne</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>jkhl</code></td>
<td align="center">Resize pane</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>m</code></td>
<td align="center">Maximize&#x2F;Unmaximize current pane</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>c</code></td>
<td align="center">create window</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>,</code></td>
<td align="center">Rename current active window</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>&amp;</code></td>
<td align="center">Kill current window</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>n</code> or <code>p</code></td>
<td align="center">Next&#x2F;Previous window</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>w</code></td>
<td align="center">List all Sessions and windows</td>
</tr>
<tr>
<td align="center"><code>prefix</code> + <code>,</code></td>
<td align="center">Rename current active window</td>
</tr>
<tr>
<td align="center"><code>prefix</code>+<code>x</code></td>
<td align="center">delete current pane</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<p>åœ¨<code>tmux</code>ä¸­ï¼Œé€‰æ‹©æ–‡æœ¬æ—¶éœ€è¦æŒ‰ä½<code>shift</code> , ç”¨<code>ctrl+shift+c</code>å¤åˆ¶ï¼Œ<code>ctrl+shift+v</code>ç²˜è´´</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Character</span><br><span class="line">You are a scientist who is proficient in computer science, physics, and is able to explain all relevant problems in detail, with pictures and texts</span><br><span class="line"></span><br><span class="line">## Skills</span><br><span class="line">### Skill 1: Proficient in Computer Science</span><br><span class="line">- Proficient in all programming languages such as C/C++, Rust,Python,Systemverilog,Java, etc</span><br><span class="line">- You can search for information from Github and stackoverflow to answer programming related questions</span><br><span class="line"></span><br><span class="line">### Skill 2: Proficient in physics</span><br><span class="line">- Proficient in solid state physics, semiconductor physics, semiconductor device physics, and quantum mechanics</span><br><span class="line">- Able to combine formulas and graphs to explain physics problems</span><br><span class="line"></span><br><span class="line">.</span><br><span class="line"></span><br><span class="line">## Constraints:</span><br><span class="line">- Output your answers in markdown format</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>#linux</p>
]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>memory alignment</title>
    <url>/posts/7729f5c5/</url>
    <content><![CDATA[<p>å…³äºå†…å­˜å¯¹é½(<code>memory alignment</code>)çš„ç¬”è®°</p>
<span id="more"></span>

<h4 id="è®¡ç®—æœºè¯»å–æ•°æ®çš„æ–¹å¼"><a href="#è®¡ç®—æœºè¯»å–æ•°æ®çš„æ–¹å¼" class="headerlink" title="è®¡ç®—æœºè¯»å–æ•°æ®çš„æ–¹å¼"></a>è®¡ç®—æœºè¯»å–æ•°æ®çš„æ–¹å¼</h4><p>è®¡ç®—æœºä»¥<strong>å­—èŠ‚å—</strong>ä¸ºç²’åº¦è¿›è¡Œæ•°æ®è¯»å–ã€‚ä¾‹å¦‚ï¼Œ64ä½çš„æœºå™¨ä¸­ï¼Œæ•°æ®æ€»çº¿å®½åº¦ä¸º64 bits(8 bytes)ï¼Œå­—èŠ‚å—å¤§å°ä¸º8ï¼Œå®ƒä»¥8 bytesçš„ç²’åº¦è¿›è¡Œæ•°æ®è¯»å–ã€‚è‹¥<code>int64_t x;</code>çš„åœ°å€ä¸º<code>0x8</code>(èƒ½æ•´é™¤8bytes, ç§°ä¸º64ä½å¯¹é½)ï¼Œé‚£ä¹ˆæœºå™¨è¯»å–<code>x</code>æ—¶ï¼Œä¼šå°†<code>0x8~0xF</code>è¿™ä¸ªåœ°å€èŒƒå›´å†…çš„8 bytesè¯»å‡ºï¼Œä»è€Œå¾—åˆ°<code>x</code>ã€‚è‹¥<code>x</code>çš„å­˜å‚¨åœ°å€æœªå¯¹é½(ä¸èƒ½æ•´é™¤8, ç§°ä¸ºæœªæŒ‰8 byteså¯¹é½)ï¼Œé‚£ä¹ˆæœºå™¨å¯èƒ½éœ€è¦è¿›è¡Œä¸¤æ¬¡æ•°æ®è¯»å–ï¼Œæ‰èƒ½å¾—åˆ°<code>x</code>çš„å€¼ã€‚å‡è®¾<code>x</code>å­˜å‚¨åœ°å€ä¸º<code>0x6</code>ï¼Œ<code>x</code>æ•°æ®åœ°å€èŒƒå›´åˆ™ä¸º<code>0x6~0xD</code>ï¼Œè·¨è¶Šäº†<code>0x0~0x7</code> <code>0x8~0xF</code>è¿™ä¸¤ä¸ªå­—èŠ‚å—ï¼Œæœºå™¨è¯»å–<code>x</code>æ—¶ï¼Œ<strong>å¹¶ä¸èƒ½</strong>å¤Ÿç›´æ¥è¯»å‡ºåœ°å€<code>0x6~0xD</code>çš„8 bytesæ•°æ®ã€‚æœºå™¨éœ€è¦å…ˆè¯»å–<code>0x0~0x7</code>ä¸­çš„8 bytesï¼Œå†è¯»å–<code>0x8~0xF</code>ä¸­çš„8 bytesï¼Œæœ€åæ‹¼æ¥å¾—åˆ°<code>x</code>ã€‚</p>
<img src="https://pic1.imgdb.cn/item/6823fe8e58cb8da5c8f10ddf.png" alt = "è®¡ç®—æœºæŒ‰å­—èŠ‚å¿«è¯»å–æ•°æ®çš„æ–¹å¼"/>

<p>å†…å­˜å¯¹é½ï¼šå˜é‡çš„åœ°å€æ˜¯å˜é‡å¤§å°çš„æ•´æ•°å€($addr &#x3D; n * sizeof(varible)$)  ä¾‹å¦‚ï¼Œ<code>double variable</code>çš„åœ°å€ä¿è¯æ˜¯8çš„æ•´æ•°å€ï¼Œ<code>int variable</code>çš„åœ°å€ä¿è¯æ˜¯4çš„æ•´æ•°å€ã€‚</p>
<p>ä¿è¯æ¯ä¸€ä¸ªå˜é‡çš„å†…å­˜å¯¹é½ï¼Œèƒ½å¤Ÿè®©æœºå™¨ä»¥å°½å¯èƒ½å°‘çš„æ¬¡æ•°è¯»å–åˆ°æ•°æ®ã€‚è‹¥å˜é‡å†…å­˜æœªå¯¹é½ï¼Œè·¨è¶Šäº†å¤šä¸ªå­—èŠ‚å—ï¼Œè®¡ç®—æœºå°±å¯èƒ½éœ€è¦è¯»å–å¤šä¸ªå­—èŠ‚å—</p>
<p><code>memory alignment</code>å¯¹æ€§èƒ½çš„å½±å“ï¼š</p>
<p> <a href="https://ideone.com/KmWNUo">ğŸ”—code</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Force 1-byte alignment</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> pack(push, 1)</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">UnalignedData</span> &#123;</span><br><span class="line">	<span class="type">char</span> c;</span><br><span class="line">	<span class="type">double</span> d;</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> pack(pop)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//aligned and padded by compiler</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">AlignedData</span> &#123;</span><br><span class="line">	<span class="type">double</span> d;</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="type">char</span> c;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">performance_test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">const</span> <span class="type">int</span> iterations = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="number">1e4</span>);</span><br><span class="line">	<span class="function">std::vector&lt;UnalignedData&gt; <span class="title">unaligned</span><span class="params">(iterations)</span> </span>;</span><br><span class="line">	<span class="function">std::vector&lt;AlignedData&gt; <span class="title">aligned</span><span class="params">(iterations)</span></span>;</span><br><span class="line">    std::array&lt;<span class="type">double</span>, iterations&gt; collect;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//initial</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; iterations; ++i)&#123;</span><br><span class="line">        unaligned[i] = &#123;<span class="built_in">static_cast</span>&lt;<span class="type">char</span>&gt;(i), i * <span class="number">3.14</span>, i&#125;;</span><br><span class="line">        aligned[i] = &#123;i * <span class="number">3.14</span>, i, <span class="built_in">static_cast</span>&lt;<span class="type">char</span>&gt;(i)&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//unaligned</span></span><br><span class="line">	<span class="keyword">auto</span> start = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; iterations; ++i)&#123;</span><br><span class="line">		collect[i] = unaligned[i].d;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">auto</span> end = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">	std::<span class="function">chrono::duration&lt;<span class="type">double</span>, std::milli&gt; <span class="title">unaligned_time</span><span class="params">(end - start)</span></span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//aligned</span></span><br><span class="line">	start = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; iterations; ++i)&#123;</span><br><span class="line">		collect[i] = aligned[i].d;</span><br><span class="line">	&#125;</span><br><span class="line">	end = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">	std::<span class="function">chrono::duration&lt;<span class="type">double</span>, std::milli&gt; <span class="title">aligned_time</span><span class="params">(end - start)</span></span>;</span><br><span class="line">	</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;Exec Time of Unaligned: &quot;</span> &lt;&lt; unaligned_time.<span class="built_in">count</span>() &lt;&lt; <span class="string">&quot;ms&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;Exec Time of Aligned: &quot;</span> &lt;&lt; aligned_time.<span class="built_in">count</span>() &lt;&lt; <span class="string">&quot;ms&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;Performance Improvement: &quot;</span> &lt;&lt; (unaligned_time.<span class="built_in">count</span>() / aligned_time.<span class="built_in">count</span>() <span class="number">-1</span>)*<span class="number">100</span> &lt;&lt; <span class="string">&quot;%&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;	</span><br><span class="line">	<span class="built_in">performance_test</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Exec Time of Unaligned: 0.000185ms<br>Exec Time of Aligned: 7.2e-05ms<br>Performance Improvement: 156.944%</p>
</blockquote>
<h4 id="structå¯¹é½"><a href="#structå¯¹é½" class="headerlink" title="structå¯¹é½"></a>structå¯¹é½</h4><p>å½“ä¸€ä¸ªç»“æ„ä½“å†…æœ‰ä¸åŒçš„æ•°æ®ç±»å‹æ—¶ï¼Œå¦‚ä½•ä¿è¯æ‰€æœ‰çš„å˜é‡å†…å­˜å¯¹é½ï¼Ÿ</p>
<p>ç¼–è¯‘å™¨é€šè¿‡åŠ å…¥<code>pad</code>å®ç°å†…å­˜å¯¹é½ï¼š</p>
<img src="https://pic1.imgdb.cn/item/6823fecc58cb8da5c8f10e01.png" alt="ç¼–è¯‘å™¨è‡ªåŠ¨paddingçš„æ–¹å¼">

<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdint&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">foo</span>&#123;</span><br><span class="line">    <span class="type">char</span> a;</span><br><span class="line">    <span class="type">uint16_t</span> b;<span class="comment">//2 bytes</span></span><br><span class="line">    <span class="type">int32_t</span> c;<span class="comment">//4 bytes</span></span><br><span class="line">    <span class="type">char</span> d;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// struct aligned Aligned;</span></span><br><span class="line"></span><br><span class="line">    foo F;</span><br><span class="line">    <span class="type">uintptr_t</span> addr_a = <span class="built_in">reinterpret_cast</span>&lt;<span class="type">uintptr_t</span>&gt;(&amp;F.a);</span><br><span class="line">    <span class="type">uintptr_t</span> addr_b = <span class="built_in">reinterpret_cast</span>&lt;<span class="type">uintptr_t</span>&gt;(&amp;F.b);</span><br><span class="line">    <span class="type">uintptr_t</span> addr_c = <span class="built_in">reinterpret_cast</span>&lt;<span class="type">uintptr_t</span>&gt;(&amp;F.c);</span><br><span class="line">    <span class="type">uintptr_t</span> addr_d = <span class="built_in">reinterpret_cast</span>&lt;<span class="type">uintptr_t</span>&gt;(&amp;F.d);</span><br><span class="line">    </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Address of F.a is 0x&quot;</span> &lt;&lt; std::hex &lt;&lt; addr_a &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Address of F.b is 0x&quot;</span> &lt;&lt; std::hex &lt;&lt; addr_b &lt;&lt; std::endl;</span><br><span class="line">    <span class="comment">// check whether 2 bytes aligned or not</span></span><br><span class="line">    <span class="built_in">assert</span>((addr_b % <span class="number">2</span>) == <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Address of F.c is 0x&quot;</span> &lt;&lt; std::hex &lt;&lt; addr_c &lt;&lt; std::endl;</span><br><span class="line">    <span class="built_in">assert</span>((addr_c % <span class="number">4</span>) == <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Address of F.d is 0x&quot;</span> &lt;&lt; std::hex &lt;&lt; addr_d &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Address of F.a is 0x61fdf4<br>Address of F.b is 0x61fdf6<br>Address of F.c is 0x61fdf8<br>Address of F.d is 0x61fdfc</p>
</blockquote>
<p>è°ƒæ¢<code>struct</code>ä¸­å˜é‡çš„å£°æ˜é¡ºåºï¼Œä¼šæ”¹å˜<code>padding</code>çš„æ–¹å¼ï¼š</p>
<img src="https://pic1.imgdb.cn/item/6823fed258cb8da5c8f10e06.png" alt="è°ƒæ¢å˜é‡å£°æ˜é¡ºåºåç¼–è¯‘å™¨paddingæ–¹å¼">

<p>ä»¥ä¸Šè¿™ç§<code>padding</code>æ›´åŠ èŠ‚çœå­˜å‚¨ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä¸ä¼šä¸»åŠ¨å»è°ƒæ¢å˜é‡å£°æ˜é¡ºåºå»åšä¼˜åŒ–ã€‚å› æ­¤ç¨‹åºå‘˜éœ€è¦æ‰‹åŠ¨è°ƒæ•´ç»“æ„ä½“å†…å˜é‡å£°æ˜é¡ºåºä»¥è¾¾åˆ°æœ€ä¼˜çš„<code>padding</code>ã€‚<strong>ä¸€èˆ¬æ¥è¯´ï¼ŒæŒ‰ç…§æ•°æ®ç±»å‹å¤§å°ï¼Œä»å¤§åˆ°å°å£°æ˜å˜é‡ï¼Œèƒ½è¾¾åˆ°æœ€ä½³çš„<code>padding</code></strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">foo</span>&#123;</span><br><span class="line">    <span class="type">char</span> a;</span><br><span class="line">    <span class="type">uint16_t</span> b;<span class="comment">//2 bytes</span></span><br><span class="line">    <span class="type">int32_t</span> c;<span class="comment">//4 bytes</span></span><br><span class="line">    <span class="type">char</span> d;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//change the order of variable declartion</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">foo2</span>&#123;</span><br><span class="line">    <span class="type">int32_t</span> a;</span><br><span class="line">    <span class="type">uint16_t</span> b;</span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    <span class="type">char</span> d;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    foo F;</span><br><span class="line">    foo2 F2;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;struct foo&#x27;s size = &quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(F) &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;struct foo2&#x27;s size = &quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(F2) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>struct fooâ€™s size &#x3D; 12<br>struct foo2â€™s size &#x3D; 8</p>
</blockquote>
<h4 id="ç¦ç”¨ç¼–è¯‘å™¨padding"><a href="#ç¦ç”¨ç¼–è¯‘å™¨padding" class="headerlink" title="ç¦ç”¨ç¼–è¯‘å™¨padding"></a>ç¦ç”¨ç¼–è¯‘å™¨padding</h4><p><code>#pragma pack(push 1)</code> â€¦. <code>#pragma pack(pop)</code></p>
<p><a href="https://www.ideone.com/bK0SWW">ğŸ”—code</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤å¯¹é½çš„ç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">AlignedStruct</span> &#123;</span><br><span class="line">    <span class="type">char</span> a;      <span class="comment">// 1 å­—èŠ‚</span></span><br><span class="line">    <span class="type">int</span> b;       <span class="comment">// 4 å­—èŠ‚ï¼ˆå¯¹é½è¦æ±‚ 4ï¼‰</span></span><br><span class="line">    <span class="type">double</span> c;    <span class="comment">// 8 å­—èŠ‚ï¼ˆå¯¹é½è¦æ±‚ 8ï¼‰</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç´§å‡‘å¯¹é½ï¼ˆå–æ¶ˆå¡«å……ï¼‰</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> pack(push, 1)</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">PackedStruct</span> &#123;</span><br><span class="line">    <span class="type">char</span> a;</span><br><span class="line">    <span class="type">int</span> b;</span><br><span class="line">    <span class="type">double</span> c;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> pack(pop)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">AlignedStruct</span> s1;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">PackedStruct</span> s2;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Addresses:\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s1: %p\ns1.a: %p\ns1.b: %p\ns1.c: %p\n&quot;</span>, </span><br><span class="line">           &amp;s1, &amp;s1.a, &amp;s1.b, &amp;s1.c);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s2: %p\ns2.a: %p\ns2.b: %p\ns2.c: %p\n&quot;</span>, </span><br><span class="line">           &amp;s2, &amp;s2.a, &amp;s2.b, &amp;s2.c);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h4><p><a href="https://ncmiller.dev/memory-alignment.html">[1] 10 Things You Should Know About Memory Alignment | ncmiller.dev</a></p>
]]></content>
      <tags>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>notes_of_acwing</title>
    <url>/posts/830bf4be/</url>
    <content><![CDATA[<p><a href="https://www.acwing.com/">acwing</a>ç®—æ³•ç¬”è®°</p>
<span id="more"></span>

<h1 id="ä¸€ã€åŸºç¡€ç®—æ³•"><a href="#ä¸€ã€åŸºç¡€ç®—æ³•" class="headerlink" title="ä¸€ã€åŸºç¡€ç®—æ³•"></a>ä¸€ã€åŸºç¡€ç®—æ³•</h1><h2 id="å¿«æ’"><a href="#å¿«æ’" class="headerlink" title="å¿«æ’"></a>å¿«æ’</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">quick_sort</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; &amp;q , <span class="type">int</span> l , <span class="type">int</span> r )</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r)   <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> i = l - <span class="number">1</span> , j = r + <span class="number">1</span> , x = q[(l+r)&gt;&gt;<span class="number">1</span>] ;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">        <span class="keyword">do</span> i++ ; <span class="keyword">while</span>(q[i] &lt; x) ;</span><br><span class="line">        <span class="keyword">do</span> j-- ; <span class="keyword">while</span>(q[j] &gt; x) ;</span><br><span class="line">        <span class="keyword">if</span>(i &lt; j)   std::<span class="built_in">swap</span>(q[i] , q[j]) ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">quick_sort</span>(q , l , j) ;</span><br><span class="line">    <span class="built_in">quick_sort</span>(q , j+<span class="number">1</span> , r) ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¿«é€Ÿé€‰æ‹©-ç¬¬kä¸ªæ•°"><a href="#å¿«é€Ÿé€‰æ‹©-ç¬¬kä¸ªæ•°" class="headerlink" title="å¿«é€Ÿé€‰æ‹©(ç¬¬kä¸ªæ•°)"></a>å¿«é€Ÿé€‰æ‹©(ç¬¬kä¸ªæ•°)</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">quick_sort</span><span class="params">(<span class="type">int</span> *q , <span class="type">int</span> l , <span class="type">int</span> r , <span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r)  <span class="keyword">return</span> q[l];</span><br><span class="line">    <span class="type">int</span> i = l - <span class="number">1</span> , j = r + <span class="number">1</span> , x = q[(l+r)&gt;&gt;<span class="number">1</span>] ;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">        <span class="keyword">do</span> i++ ; <span class="keyword">while</span>(q[i] &lt; x) ;</span><br><span class="line">        <span class="keyword">do</span> j-- ; <span class="keyword">while</span>(q[j] &gt; x) ;</span><br><span class="line">        <span class="keyword">if</span>(i &lt; j) std::<span class="built_in">swap</span>(q[i] , q[j]) ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(k &lt;= (j - l + <span class="number">1</span>))    <span class="keyword">return</span> <span class="built_in">quick_sort</span>(q , l , j , k) ;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">quick_sort</span>(q , j+<span class="number">1</span> , r , k - (j - l + <span class="number">1</span>)) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://leetcode.cn/problems/kth-largest-element-in-an-array/description/">215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<h2 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h2><p><strong>åˆ†æ²»æ€æƒ³</strong></p>
<p><img src = "https://pic.leetcode-cn.com/1614274007-nBQbZZ-Picture1.png"></img></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span> ;</span><br><span class="line"><span class="type">int</span> q[N] ;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge_sort</span><span class="params">(<span class="type">int</span> *q , <span class="type">int</span> l , <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r)  <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span> , i = l , j = mid + <span class="number">1</span> ;</span><br><span class="line">    <span class="built_in">merge_sort</span>(q , l , mid) ;</span><br><span class="line">    <span class="built_in">merge_sort</span>(q , mid+<span class="number">1</span> , r) ;</span><br><span class="line">    <span class="type">int</span> temp[r-l+<span class="number">1</span>] , k = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= r)&#123;</span><br><span class="line">        <span class="keyword">if</span>(q[i] &lt; q[j]) temp[k++] = q[i++] ;</span><br><span class="line">        <span class="keyword">else</span> temp[k++] = q[j++] ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid) temp[k++] = q[i++] ;</span><br><span class="line">    <span class="keyword">while</span>(j &lt;= r)   temp[k++] = q[j++] ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = l , j = <span class="number">0</span> ; i &lt;= r ; i++ , j++) </span><br><span class="line">        q[i] = temp[j] ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n ;</span><br><span class="line">    std::cin &gt;&gt; n ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        std::<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;q[i]) ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// std::sort(q , q+n) ;</span></span><br><span class="line">    <span class="built_in">merge_sort</span>(q , <span class="number">0</span> , n<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i ; i &lt; n ; i++)  std::<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, q[i]) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="é€†åºå¯¹æ•°é‡"><a href="#é€†åºå¯¹æ•°é‡" class="headerlink" title="é€†åºå¯¹æ•°é‡"></a>é€†åºå¯¹æ•°é‡</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL ;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span> ;</span><br><span class="line"><span class="type">int</span> q[N] ;</span><br><span class="line"><span class="function">LL <span class="title">merge_sort</span><span class="params">(<span class="type">int</span> *q , <span class="type">int</span> l , <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r)  <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">    <span class="type">int</span> mid = (l+r) &gt;&gt; <span class="number">1</span> ;</span><br><span class="line">    LL res = <span class="built_in">merge_sort</span>(q , l , mid) + <span class="built_in">merge_sort</span>(q , mid+<span class="number">1</span> , r) ;</span><br><span class="line">    <span class="type">int</span> i = l , j = mid+<span class="number">1</span> , k = <span class="number">0</span> ;</span><br><span class="line">    <span class="type">int</span> temp[r-l+<span class="number">1</span>] ;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= r)&#123;</span><br><span class="line">        <span class="keyword">if</span>(q[i] &lt;= q[j])    temp[k++] = q[i++] ;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            res += mid - i + <span class="number">1</span> ;</span><br><span class="line">            temp[k++] = q[j++] ;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid) temp[k++] = q[i++] ;</span><br><span class="line">    <span class="keyword">while</span>(j &lt;= r)   temp[k++] = q[j++] ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = l , k = <span class="number">0</span> ; i &lt;= r ; i++ , k++)</span><br><span class="line">        q[i] = temp[k] ;</span><br><span class="line">    <span class="keyword">return</span> res ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n ;</span><br><span class="line">    std::cin &gt;&gt; n ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;q[i]) ;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">merge_sort</span>(q , <span class="number">0</span> , n<span class="number">-1</span>) ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://leetcode.cn/problems/shu-zu-zhong-de-ni-xu-dui-lcof/">LCR 170. äº¤æ˜“é€†åºå¯¹çš„æ€»æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<h2 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span> ;</span><br><span class="line"><span class="type">int</span> q[N] ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">SL</span><span class="params">(<span class="type">int</span> x , <span class="type">int</span> l , <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="comment">//æŸ¥æ‰¾ç¬¬ä¸€ä¸ªâ‰¥xçš„æ•°</span></span><br><span class="line">    <span class="type">int</span> mid ;</span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">        mid = (l+r) &gt;&gt; <span class="number">1</span> ;</span><br><span class="line">        <span class="keyword">if</span>(q[mid] &gt;= x) r = mid ;</span><br><span class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(q[l] == x)   <span class="keyword">return</span> l ;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">SR</span><span class="params">(<span class="type">int</span> x , <span class="type">int</span> l , <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="comment">//æŸ¥æ‰¾æœ€åä¸€ä¸ªâ‰¤xçš„æ•°</span></span><br><span class="line">    <span class="type">int</span> mid ;</span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">            mid = (l+r+<span class="number">1</span>) &gt;&gt; <span class="number">1</span> ;</span><br><span class="line">            <span class="keyword">if</span>(q[mid] &lt;= x) l = mid ;</span><br><span class="line">            <span class="keyword">else</span> r = mid - <span class="number">1</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(q[l] == x) <span class="keyword">return</span> l ;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n , m ; </span><br><span class="line">    std::cin &gt;&gt; n &gt;&gt; m ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)</span><br><span class="line">        std::<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;q[i]) ;</span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">        <span class="type">int</span> x ;</span><br><span class="line">        std::cin &gt;&gt; x ;</span><br><span class="line">        std::cout &lt;&lt; <span class="built_in">SL</span>(x , <span class="number">0</span> , n<span class="number">-1</span>) &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; <span class="built_in">SR</span>(x , <span class="number">0</span> , n<span class="number">-1</span> ) &lt;&lt; std::endl ;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://leetcode.cn/problems/sqrtx/">69. x çš„å¹³æ–¹æ ¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<h2 id="é«˜ç²¾åº¦è®¡ç®—"><a href="#é«˜ç²¾åº¦è®¡ç®—" class="headerlink" title="é«˜ç²¾åº¦è®¡ç®—"></a>é«˜ç²¾åº¦è®¡ç®—</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function">string <span class="title">add</span><span class="params">(<span class="type">const</span> string &amp;a , <span class="type">const</span> string &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t = <span class="number">0</span> , i = a.<span class="built_in">size</span>() - <span class="number">1</span> , j = b.<span class="built_in">size</span>() - <span class="number">1</span> ;</span><br><span class="line">    string c ;</span><br><span class="line">    <span class="keyword">while</span>(i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i &gt;= <span class="number">0</span>)  t += a[i--] - <span class="string">&#x27;0&#x27;</span> ;</span><br><span class="line">        <span class="keyword">if</span>(j &gt;= <span class="number">0</span>)  t += b[j--] - <span class="string">&#x27;0&#x27;</span> ;</span><br><span class="line">        c.<span class="built_in">push_back</span>(t % <span class="number">10</span> + <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">        t /= <span class="number">10</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(t)   c.<span class="built_in">push_back</span>(t + <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">    <span class="built_in">reverse</span>(c.<span class="built_in">begin</span>() , c.<span class="built_in">end</span>()) ;</span><br><span class="line">    <span class="keyword">return</span> c ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">const</span> string&amp; a , <span class="type">const</span> string&amp; b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.<span class="built_in">size</span>() != b.<span class="built_in">size</span>())    <span class="keyword">return</span> a.<span class="built_in">size</span>() &gt; b.<span class="built_in">size</span>() ;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">int</span> i ;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span> ; a[i] == b[i] ; i++) ;</span><br><span class="line">        <span class="keyword">return</span> a[i] &gt; b[i] ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">string <span class="title">sub</span><span class="params">(<span class="type">const</span> string&amp; a , <span class="type">const</span> string&amp; b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a == b)  <span class="keyword">return</span> <span class="string">&quot;0&quot;</span> ;</span><br><span class="line">    string c ;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">cmp</span>(a , b))&#123;</span><br><span class="line">           <span class="type">int</span> i = a.<span class="built_in">size</span>() - <span class="number">1</span> , j = b.<span class="built_in">size</span>() - <span class="number">1</span> , t = <span class="number">0</span> , k = <span class="number">0</span> ;</span><br><span class="line">           <span class="keyword">while</span>(i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">            t = k ;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= <span class="number">0</span>)  t += a[i] - <span class="string">&#x27;0&#x27;</span> ;</span><br><span class="line">            <span class="keyword">if</span>(j &gt;= <span class="number">0</span>)  t = t - (b[j] - <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">            c.<span class="built_in">push_back</span>((t+<span class="number">10</span>)%<span class="number">10</span> + <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">            k = (t &gt;= <span class="number">0</span>) ? <span class="number">0</span> : <span class="number">-1</span> ;</span><br><span class="line">            i-- , j-- ;</span><br><span class="line">           &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        c.<span class="built_in">push_back</span>(<span class="string">&#x27;-&#x27;</span>) ;</span><br><span class="line">        c += <span class="built_in">sub</span>(b,a) ; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> i = c.<span class="built_in">size</span>() - <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">while</span>(c.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; c[i--] == <span class="string">&#x27;0&#x27;</span>)  c.<span class="built_in">pop_back</span>() ;</span><br><span class="line">    <span class="keyword">if</span>(c[<span class="number">0</span>] != <span class="string">&#x27;-&#x27;</span>) <span class="built_in">reverse</span>(c.<span class="built_in">begin</span>() , c.<span class="built_in">end</span>()) ;</span><br><span class="line">    <span class="keyword">return</span> c ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">string <span class="title">mul</span><span class="params">(<span class="type">const</span> string &amp;a , <span class="type">const</span> string &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a == <span class="string">&quot;0&quot;</span> || b == <span class="string">&quot;0&quot;</span>)    <span class="keyword">return</span> <span class="string">&quot;0&quot;</span> ;</span><br><span class="line">    <span class="type">int</span> len_a = a.<span class="built_in">size</span>() , len_b = b.<span class="built_in">size</span>()  , t = <span class="number">0</span> ;</span><br><span class="line">    string c = <span class="built_in">string</span>(len_a + len_b , <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = len_a - <span class="number">1</span> ; i &gt;= <span class="number">0</span> ; i--)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = len_b - <span class="number">1</span> ; j &gt;= <span class="number">0</span> ; j--)&#123;</span><br><span class="line">            t = (a[i] - <span class="string">&#x27;0&#x27;</span>) * (b[j] - <span class="string">&#x27;0&#x27;</span>) + (c[i+j+<span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            c[i+j+<span class="number">1</span>] = t % <span class="number">10</span> + <span class="string">&#x27;0&#x27;</span> ;</span><br><span class="line">            c[i+j] += t / <span class="number">10</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> i ;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span> ; c[i] == <span class="string">&#x27;0&#x27;</span> &amp;&amp; i &lt; len_a + len_b - <span class="number">1</span> ; i++) ;</span><br><span class="line">    c = c.<span class="built_in">substr</span>(i) ;</span><br><span class="line">    <span class="keyword">return</span> c ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">string <span class="title">div</span><span class="params">(<span class="type">const</span> string &amp;a , <span class="type">int</span> b , <span class="type">int</span>&amp; r)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> r0 = <span class="number">0</span> ;<span class="comment">//ro is reminder .</span></span><br><span class="line">    string c ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> it = a.<span class="built_in">begin</span>() ; it != a.<span class="built_in">end</span>() ; it++)&#123;</span><br><span class="line">        r0 = r0 * <span class="number">10</span> + (*it - <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">        c.<span class="built_in">push_back</span>(r0 / b + <span class="string">&#x27;0&#x27;</span>) ;</span><br><span class="line">        r0 %= b ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> idx = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>(c[idx] == <span class="string">&#x27;0&#x27;</span> &amp;&amp; idx &lt; c.<span class="built_in">size</span>() - <span class="number">1</span>)    idx++ ;</span><br><span class="line">    c = c.<span class="built_in">substr</span>(idx) ;</span><br><span class="line">    r = r0 ;</span><br><span class="line">    <span class="keyword">return</span> c ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‰ç¼€å’Œ"><a href="#å‰ç¼€å’Œ" class="headerlink" title="å‰ç¼€å’Œ"></a>å‰ç¼€å’Œ</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n , m , l , r ;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span> ;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m ;</span><br><span class="line">    <span class="type">int</span> q[N] , s[N] ;</span><br><span class="line">    s[<span class="number">0</span>] = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span> ; i &lt;= n ; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;q[i]) ;</span><br><span class="line">        s[i] = s[i<span class="number">-1</span>] + q[i] ;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">        cin &gt;&gt; l &gt;&gt; r ;</span><br><span class="line">        cout &lt;&lt; s[r] - s[l<span class="number">-1</span>] &lt;&lt; endl ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å­çŸ©é˜µçš„å’Œ"><a href="#å­çŸ©é˜µçš„å’Œ" class="headerlink" title="å­çŸ©é˜µçš„å’Œ"></a>å­çŸ©é˜µçš„å’Œ</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span> ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a[N][N] = &#123;<span class="number">0</span>&#125; , s[N][N] = &#123;<span class="number">0</span>&#125; ;</span><br><span class="line">    <span class="type">int</span> n , m , q , x1 , y1 , x2 , y2 ;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; q ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span> ; i &lt;= n ; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span> ; j &lt;= m ; j++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;a[i][j]) ;</span><br><span class="line">            s[i][j] = s[i<span class="number">-1</span>][j] + s[i][j<span class="number">-1</span>] + a[i][j] - s[i<span class="number">-1</span>][j<span class="number">-1</span>] ;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        <span class="comment">// cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 ;</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d %d&quot;</span> , &amp;x1 , &amp;y1 , &amp;x2 , &amp;y2) ;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span> , s[x2][y2] - s[x2][y1<span class="number">-1</span>] - s[x1<span class="number">-1</span>][y2] + s[x1<span class="number">-1</span>][y1<span class="number">-1</span>]) ; </span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å·®åˆ†"><a href="#å·®åˆ†" class="headerlink" title="å·®åˆ†"></a>å·®åˆ†</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N] , b[N];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n , m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span> ; i &lt;= n ; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;a[i]);</span><br><span class="line">        b[i] = a[i] - a[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">        <span class="type">int</span> l , r  , c ;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span> , &amp;l , &amp;r , &amp;c);</span><br><span class="line">        b[l] += c , b[r+<span class="number">1</span>] -= c;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span> ; i &lt;= n ; i++)&#123;</span><br><span class="line">        a[i] = a[i<span class="number">-1</span>] + b[i];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span> , a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h2><p><strong>æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span> ;</span><br><span class="line">    <span class="type">int</span> a[N] , s[N] = &#123;<span class="number">0</span>&#125; , n , res = <span class="number">0</span> ;</span><br><span class="line">    cin &gt;&gt; n ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;a[i]) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> , j = <span class="number">0</span> ; i &lt; n ; ++i)&#123;</span><br><span class="line">        s[a[i]]++ ;</span><br><span class="line">        <span class="keyword">while</span>(j &lt; i &amp;&amp; s[a[i]] &gt; <span class="number">1</span>) s[a[j++]] -- ;</span><br><span class="line">        res = res &gt; (i-j+<span class="number">1</span>) ? res : (i-j+<span class="number">1</span>) ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; res ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/submissions/492530011/">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<p><a href="https://leetcode.cn/problems/merge-sorted-array/">88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<p><strong>æ•°ç»„å…ƒç´ çš„ç›®æ ‡å’Œ</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n , m , x ;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span> ;</span><br><span class="line">    <span class="type">int</span> a[N] , b[N] ;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; x ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;a[i]) ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; m ; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;b[i]) ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> , j = m<span class="number">-1</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(j&gt;=<span class="number">0</span> &amp;&amp; a[i]+b[j] &gt; x)    j-- ;</span><br><span class="line">        <span class="keyword">if</span>(j &gt;= <span class="number">0</span> &amp;&amp; a[i]+b[j] == x)&#123;</span><br><span class="line">            cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; j ;</span><br><span class="line">            <span class="keyword">break</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ä½è¿ç®—</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> x ;</span><br><span class="line">    cin &gt;&gt; x ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">7</span> ; k &gt;= <span class="number">0</span> ; --k)<span class="comment">//8ä½äºŒè¿›åˆ¶è¡¨ç¤ºè¾“å‡º</span></span><br><span class="line">        cout &lt;&lt; (x&gt;&gt;k &amp; <span class="number">1</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>lowbit</strong></p>
<p>æ±‚å‡ºæœ€åä¸€ä¸ªäºŒè¿›åˆ¶1æ‰€è¡¨ç¤ºçš„æ•°çš„å¤§å°(æè¿°å¾—ä¸æ¸…æ¥š)ï¼Œçœ‹ç¤ºä¾‹ï¼š</p>
<p><code>24</code>çš„8ä½äºŒè¿›åˆ¶è¡¨ç¤ºä¸º<code>0001_1000</code> , åˆ™<code>lowbit(24) = 0000_1000</code> ;</p>
<p><code>lowbit(26) = 0000_0010</code> â€¦â€¦</p>
<p>åŸç†æ˜¯<code>x&amp;(-x)</code> , æœ¬è´¨æ˜¯<code>x &amp; (~x + 1)</code> , <code>x</code>ä¸å…¶è¡¥ç ç›¸ä¸ã€‚</p>
<p><code>lowbit</code>å¸¸ç”¨äºç»Ÿè®¡äºŒè¿›åˆ¶æ•°ä¸­<code>1</code>çš„ä¸ªæ•°</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&amp;(-x) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n , x , res = <span class="number">0</span> ;</span><br><span class="line">    cin &gt;&gt; n ;</span><br><span class="line">    <span class="keyword">while</span>(n--)&#123;</span><br><span class="line">        cin &gt;&gt; x ;</span><br><span class="line">        res =  <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">while</span>(x)    x -= <span class="built_in">lowbit</span>(x) , res++ ;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span> , res) ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://leetcode.cn/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/submissions/492746547/">LCR 133. ä½ 1 çš„ä¸ªæ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<p><a href="https://leetcode.cn/problems/hamming-distance/">461. æ±‰æ˜è·ç¦» - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<p>åˆ©ç”¨<code>x&amp;(x-1)</code>ä¹Ÿå¯æ±‚äºŒè¿›åˆ¶è¡¨ç¤ºä¸­1çš„ä¸ªæ•°</p>
<p>ä¾‹å¦‚æ±‰æ˜è·ç¦»ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">hammingDistance</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> t = x ^ y , res = <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">while</span>(t)    t = t &amp; (t<span class="number">-1</span>) , res++ ;</span><br><span class="line">        <span class="keyword">return</span> res ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="ç¦»æ•£åŒ–"><a href="#ç¦»æ•£åŒ–" class="headerlink" title="ç¦»æ•£åŒ–"></a>ç¦»æ•£åŒ–</h2><p>ä½¿ç”¨åœºæ™¯ï¼š<strong>å€¼åŸŸå¤§ï¼Œä½†ç¨€ç–</strong></p>
]]></content>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>pythonè°ƒè¯•å·¥å…·pdb</title>
    <url>/posts/9e73dd3c/</url>
    <content><![CDATA[<p><code>pdb</code>æ˜¯ä¸€ä¸ªå†…ç½®äº<code>Python</code>çš„è°ƒè¯•å·¥å…·ï¼Œä½¿ç”¨æ–¹æ³•ä¸<code>gdb</code>ç±»ä¼¼ã€‚</p>
<span id="more"></span>

<ul>
<li>å¯åŠ¨</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python -m pdb test.py</span><br></pre></td></tr></table></figure>

<ul>
<li>æ­¥è¿›</li>
</ul>
<p>ä¸åŒäº<code>gdb</code>éœ€è¦è¾“å…¥<code>start</code>å¼€å§‹è¿è¡Œï¼Œè¿›å…¥<code>pdb</code>åç¨‹åºå·²ç»å¼€å§‹è¿è¡Œã€‚</p>
<p><code>l</code>: list åˆ—å‡ºæºç </p>
<p><code>ll</code>: list all</p>
<p>å›è½¦é‡å¤ä¸Šä¸€æ¡å‘½ä»¤</p>
<p><code>n</code>: nextä¸‹ä¸€æ­¥</p>
<p><code>s</code>: stepä¸‹ä¸€æ­¥ï¼Œå¯è¿›å…¥å‡½æ•°</p>
<ul>
<li>æ–­ç‚¹</li>
</ul>
<p><code>b &lt;linenum&gt;</code>: åœ¨ç¬¬<code>linenum</code>è¡Œè®¾ç½®æ–­ç‚¹</p>
<p><code>b</code>:è¾“å‡ºæ‰€æœ‰æ–­ç‚¹ä¿¡æ¯</p>
<p><code>disable &lt;Num&gt;</code>:ç¦ç”¨æ–­ç‚¹</p>
<p><code>c</code>: continueæŒç»­è¿è¡Œç¨‹åºï¼Œç›´åˆ°æ–­ç‚¹</p>
<ul>
<li>æ‰“å°</li>
</ul>
<p><code>whatis &lt;variable&gt;</code>æŸ¥çœ‹å˜é‡å±æ€§</p>
<p><code>p &lt;variable&gt;</code>æ‰“å°å˜é‡</p>
]]></content>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>shellç¬”è®°</title>
    <url>/posts/c3711ab9/</url>
    <content><![CDATA[<p>shellç¬”è®°</p>
<span id="more"></span>

<ul>
<li><h3 id="å£°æ˜è„šæœ¬æ‰§è¡Œå™¨"><a href="#å£°æ˜è„šæœ¬æ‰§è¡Œå™¨" class="headerlink" title="å£°æ˜è„šæœ¬æ‰§è¡Œå™¨"></a>å£°æ˜è„šæœ¬æ‰§è¡Œå™¨</h3></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/usr/bin/bash</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç”¨å‘½ä»¤<code>which bash</code>æŸ¥çœ‹<code>bash</code>ä½ç½®</p>
<ul>
<li><h3 id="shellä¼ é€’å‚æ•°"><a href="#shellä¼ é€’å‚æ•°" class="headerlink" title="shellä¼ é€’å‚æ•°"></a>shellä¼ é€’å‚æ•°</h3></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./test.sh 1 2 3 4</span><br></pre></td></tr></table></figure>

<p><code>$1</code>æ¥å—å‚æ•°<code>1</code> , <code>$2</code>æ¥å—å‚æ•°2â€¦â€¦</p>
<ul>
<li><h3 id="ç®—æ•°è¿ç®—ç¬¦"><a href="#ç®—æ•°è¿ç®—ç¬¦" class="headerlink" title="ç®—æ•°è¿ç®—ç¬¦"></a>ç®—æ•°è¿ç®—ç¬¦</h3></li>
</ul>
<p>åŸç”Ÿbashä¸æ”¯æŒç®€å•çš„æ•°å­¦è¿ç®—ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å…¶ä»–å‘½ä»¤æ¥å®ç°ï¼Œä¾‹å¦‚ awk å’Œ exprï¼Œ<code>expr</code> æœ€å¸¸ç”¨ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">a=$1</span><br><span class="line">b=$2</span><br><span class="line">val=`expr $a + $b`</span><br><span class="line">echo &quot;a + b = $val&quot;</span><br><span class="line">val=`expr $a - $b`</span><br><span class="line">echo &quot;a - b = $val&quot;</span><br><span class="line">val=`expr $a \* $b`</span><br><span class="line">echo &quot;a * b = $val&quot;</span><br><span class="line">val=`expr $a / $b`</span><br><span class="line">echo &quot;a / b = $val&quot;</span><br><span class="line"></span><br><span class="line">if [ $a == $b ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;a is equal to b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a != $b ]  #ä¸¥æ ¼éµå¾ªç©ºæ ¼</span><br><span class="line">then </span><br><span class="line">    echo &quot;a isn&#x27;t equal to b&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p><strong>ä¹˜æ³•éœ€ç”¨<code>\*</code>è½¬ä¹‰è¡¨ç¤º</strong></p>
<h3 id="å…³ç³»è¿ç®—ç¬¦"><a href="#å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="å…³ç³»è¿ç®—ç¬¦"></a><strong>å…³ç³»è¿ç®—ç¬¦</strong></h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">if [ $a -eq $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -eq $b : a ç­‰äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -eq $b: a ä¸ç­‰äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -ne $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -ne $b: a ä¸ç­‰äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -ne $b : a ç­‰äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -gt $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -gt $b: a å¤§äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -gt $b: a ä¸å¤§äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -lt $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -lt $b: a å°äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -lt $b: a ä¸å°äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -ge $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -ge $b: a å¤§äºæˆ–ç­‰äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -ge $b: a å°äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -le $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -le $b: a å°äºæˆ–ç­‰äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -le $b: a å¤§äº b&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h3 id="æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œç»“æœ"><a href="#æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œç»“æœ" class="headerlink" title="æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œç»“æœ"></a><strong>æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œç»“æœ</strong></h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo `date`</span><br></pre></td></tr></table></figure>



<h3 id="shellè¾“å…¥"><a href="#shellè¾“å…¥" class="headerlink" title="shellè¾“å…¥"></a><strong>shellè¾“å…¥</strong></h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">read name</span><br><span class="line">echo &quot;$name is excellent!&quot;</span><br></pre></td></tr></table></figure>

<h3 id="forå¾ªç¯"><a href="#forå¾ªç¯" class="headerlink" title="forå¾ªç¯"></a>forå¾ªç¯</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">for loop in 1 2 3 4 5</span><br><span class="line">do </span><br><span class="line">    echo &quot;loop is $loop&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="whileå¾ªç¯"><a href="#whileå¾ªç¯" class="headerlink" title="whileå¾ªç¯"></a>whileå¾ªç¯</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">int=5</span><br><span class="line">while [ $int -ge 0 ]</span><br><span class="line">do</span><br><span class="line">    echo &quot;int = $int&quot;</span><br><span class="line">    let &quot;int--&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="sed-i"><a href="#sed-i" class="headerlink" title="sed -i"></a>sed -i</h3><p><code>sed</code>æ˜¯ä¸€ä¸ªåœ¨Unixå’Œç±»Unixç¯å¢ƒä¸­ä½¿ç”¨çš„æµç¼–è¾‘å™¨ï¼Œå®ƒå¯ä»¥å¯¹è¾“å…¥çš„æ–‡æœ¬ï¼ˆæ–‡ä»¶æˆ–ç®¡é“ï¼‰è¿›è¡ŒåŸºæœ¬çš„æ–‡æœ¬è½¬æ¢ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sed -i &#x27;s/old_string/new_string/g&#x27; filename</span><br></pre></td></tr></table></figure>

<ul>
<li><code>-i</code>ï¼šè¡¨ç¤ºç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼Œè€Œä¸æ˜¯è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºã€‚</li>
<li><code>s</code>ï¼šè¡¨ç¤ºæ›¿æ¢æ“ä½œã€‚</li>
<li><code>old_string</code>ï¼šè¦è¢«æ›¿æ¢çš„å­—ç¬¦ä¸²ã€‚</li>
<li><code>new_string</code>ï¼šç”¨äºæ›¿æ¢çš„æ–°å­—ç¬¦ä¸²ã€‚</li>
<li><code>g</code>ï¼šè¡¨ç¤ºå…¨å±€æ›¿æ¢ï¼Œå³ä¸€è¡Œä¸­çš„æ‰€æœ‰åŒ¹é…éƒ½ä¼šè¢«æ›¿æ¢ã€‚</li>
<li><code>filename</code>ï¼šè¦è¿›è¡Œæ›¿æ¢çš„æ–‡ä»¶åã€‚</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sed -i &#x27;10c apple&#x27; banana.txt</span><br></pre></td></tr></table></figure>

<ul>
<li>å°†<code>banana.txt</code>çš„ç¬¬åè¡Œä¿®æ”¹æˆ<code>apple</code>.</li>
</ul>
<h3 id="grepå‘½ä»¤"><a href="#grepå‘½ä»¤" class="headerlink" title="grepå‘½ä»¤"></a>grepå‘½ä»¤</h3><p>æ­£åˆ™åŒ¹é…å­—ç¬¦ä¸²</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">benkangpeng@DESKTOP-FR84659:~/helloworld$ ls | grep &quot;.v&quot;</span><br><span class="line">count4.v</span><br><span class="line">count4_tb.v</span><br><span class="line">counter.v</span><br><span class="line">shift_register.v</span><br></pre></td></tr></table></figure>

<p>â†‘åŒ¹é…æ˜¾ç¤ºæ‰€æœ‰<code>.v</code>åç¼€çš„æ–‡ä»¶</p>
]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>tech debt</title>
    <url>/posts/b68e097c/</url>
    <content><![CDATA[<p><a style="font-size: 24px; color: red;" href="http://www.naenara.com.kp/images/politics/leader3.jpg">å°†å†›çš„æ©æƒ…è¿˜ä¸å°½ï¼ğŸ‘‹ğŸ˜­ğŸ‘‹</a></p>
<p><a style="font-size: 24px; color: red;" href="https://csdiy.wiki/">ç¯å¡”å›½çš„æŠ€æœ¯å€ºä¹Ÿè¿˜ä¸å°½ï¼ğŸ‘‹ğŸ˜­ğŸ‘‹</a></p>
<span id="more"></span>

<ul>
<li><p><input checked="" disabled="" type="checkbox"> 
<del><a href="https://www.bilibili.com/video/BV1K8411b7AU/?spm_id_from=333.337.search-card.all.click&vd_source=da5120fea3f8bb8d2fe1984a02a9a745">ğŸ”—CS106L</a>  <a href="https://github.com/BenkangPeng/CS106L">ğŸ”—My note and assignment</a></del></p>
</li>
<li><p><input disabled="" type="checkbox"> 
<a href="https://space.bilibili.com/8888480/lists/3509640?type=series">ğŸ”—å·¦ç¨‹äº‘-Algorithm</a>  <a href="https://github.com/BenkangPeng/CrackTheAlgorithm">ğŸ”—My note</a></p>
</li>
<li><p><input disabled="" type="checkbox"> 
<a href="https://csdiy.wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/CS144/#_1">ğŸ”—CS144</a></p>
</li>
<li><p><input disabled="" type="checkbox"> 
<a href="">ğŸ”—æå®æ¯…æœºå™¨å­¦ä¹ (ä¸æ˜¯ä¼ ç»ŸML)2025</a></p>
</li>
<li><p><input disabled="" type="checkbox"> 
<a href="https://www.bilibili.com/video/BV1QZ421N7pT/?spm_id_from=333.337.search-card.all.click&vd_source=da5120fea3f8bb8d2fe1984a02a9a745">ğŸ”—CUDA Mode</a>  <a href="https://github.com/gpu-mode/lectures">ğŸ”—Github Link</a></p>
</li>
<li><p><input disabled="" type="checkbox"> 
<a href="https://www.bilibili.com/video/BV1De4y1p7Z8/?vd_source=da5120fea3f8bb8d2fe1984a02a9a745">ğŸ”—åå‘ä¼ æ’­-karpathy</a>  <a href="https://karpathy.ai/">ğŸ”—Andrej Karpathyç³»åˆ—è§†é¢‘</a>   KarpathyåŠ¨æ‰‹æ„å»ºGPTç³»åˆ—</p>
</li>
<li><p><input disabled="" type="checkbox"> </p>
</li>
</ul>
]]></content>
      <tags>
        <tag>Course</tag>
      </tags>
  </entry>
  <entry>
    <title>windowsç›¸å…³</title>
    <url>/posts/918da884/</url>
    <content><![CDATA[<p>ä¸€äº›windowsç›¸å…³çš„å†…å®¹</p>
<span id="more"></span>

<h3 id="ç£ç›˜æ‰©å®¹"><a href="#ç£ç›˜æ‰©å®¹" class="headerlink" title="ç£ç›˜æ‰©å®¹"></a>ç£ç›˜æ‰©å®¹</h3><p>å‚è€ƒæ–‡çŒ®ï¼š<a href="https://www.diskgenius.cn/help/extend-partition.php">æ— æŸæ‰©å®¹åˆ†åŒºâ€“ DiskGenius</a></p>
<p>ä½¿ç”¨è½¯ä»¶ï¼š<a href="https://www.tbtool.cn/">å›¾å§å·¥å…·ç®± - æœ€çº¯å‡€çš„ç¡¬ä»¶å·¥å…·ç®± (tbtool.cn)</a></p>
<p>é‡åˆ°çš„é—®é¢˜ï¼š</p>
<ul>
<li>å‚è€ƒæ–‡çŒ®ä¸­çš„ç¬¬3æ­¥ä¸­çš„â€œè°ƒæ•´åçš„å®¹é‡â€æ˜¯æŒ‡è…¾å‡ºç©ºé—²ç©ºé—´çš„ç›˜ï¼Œåœ¨æ‰©å……ç›®çš„ç›˜åå‰©ä½™çš„ç©ºé—´å¤§å°ã€‚ä¾‹å¦‚ï¼ŒåŸæœ‰Cç›˜50Gï¼ŒDç›˜100Gï¼Œæƒ³åœ¨Dç›˜è…¾å‡º10Gç»™Cç›˜ï¼Œé‚£ä¹ˆâ€œè°ƒæ•´åçš„å®¹é‡â€åº”è¯¥æ˜¯90G</li>
<li>å¦‚æœé‡å¯æ—¶ï¼Œwindowsä¸èƒ½è‡ªåŠ¨è¿›å…¥WinPEçš„è¯ï¼Œå¯ä»¥å°è¯•å®‰è£…ä¸€ä¸ª<a href="https://www.wepe.com.cn/">å¾®PEå·¥å…·ç®±</a> ï¼Œå®‰è£…ä¹‹åç”µè„‘å¼€æœºæ—¶ï¼Œä¼šå‡ºç°ä¸€ä¸ªè¿›å…¥<code>WinPE</code>çš„é€‰é¡¹ã€‚å¦‚æœè¦åˆ é™¤<code>WinPE</code>çš„å¼€æœºå¼•å¯¼çš„è¯ï¼Œå‚è€ƒ<a href="https://blog.csdn.net/lezeqe/article/details/105086599">å¾®PEå·¥å…·ç®±æ€ä¹ˆå¸è½½</a> ï¼Œå…¶å®å°±æ˜¯æŠŠå¼€æœºå¼•å¯¼åˆ é™¤å³å¯ã€‚</li>
<li>windowsé‡å¯è¿›å…¥<code>WinPE</code>åï¼Œä¼šè‡ªåŠ¨åŒ–æ“ä½œï¼Œä¸è¦æ‰“æ–­ã€‚å¯èƒ½é‡åˆ°:â€æ£€æµ‹åˆ°ä¸‹åˆ—æ–‡ä»¶ç³»ç»Ÿé”™è¯¯ï¼Œåˆ†åŒºå®¹é‡æœªåšè°ƒæ•´ï¼Œ æ— æ•ˆçš„çš„æ–‡ä»¶è®°å½•â€.   å¯å‚è€ƒ<a href="https://blog.csdn.net/QKK612501/article/details/115298382">æ£€æµ‹åˆ°ä¸‹åˆ—æ–‡ä»¶ç³»ç»Ÿé”™è¯¯è§£å†³æ–¹æ¡ˆ</a></li>
</ul>
<h3 id="ä½¿ç”¨Clashåï¼Œä¸æ‰“å¼€Clashå°±æ— æ³•ä¸Šç½‘"><a href="#ä½¿ç”¨Clashåï¼Œä¸æ‰“å¼€Clashå°±æ— æ³•ä¸Šç½‘" class="headerlink" title="ä½¿ç”¨Clashåï¼Œä¸æ‰“å¼€Clashå°±æ— æ³•ä¸Šç½‘"></a>ä½¿ç”¨Clashåï¼Œä¸æ‰“å¼€Clashå°±æ— æ³•ä¸Šç½‘</h3><p>æŠŠClashçš„ç³»ç»Ÿä»£ç†å…³äº†å°±è¡Œ</p>
]]></content>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>æµç•…çš„Python</title>
    <url>/posts/32ffb807/</url>
    <content><![CDATA[<p>ã€Šæµç•…çš„Pythonã€‹è¯»ä¹¦ç¬”è®°</p>
<span id="more"></span>

<h3 id="ç¬¬ä¸€ç« -Pythonæ•°æ®æ¨¡å‹"><a href="#ç¬¬ä¸€ç« -Pythonæ•°æ®æ¨¡å‹" class="headerlink" title="ç¬¬ä¸€ç«  Pythonæ•°æ®æ¨¡å‹"></a>ç¬¬ä¸€ç«  Pythonæ•°æ®æ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line">Card = collections.namedtuple(<span class="string">&#x27;Card&#x27;</span> , [<span class="string">&#x27;rank&#x27;</span> , <span class="string">&#x27;suit&#x27;</span>])</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FrenchDeck</span>:</span><br><span class="line">    ranks = [<span class="built_in">str</span>(n) <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,<span class="number">11</span>)] + <span class="built_in">list</span>(<span class="string">&#x27;JQKA&#x27;</span>)</span><br><span class="line">    suits  = <span class="string">&#x27;spades diamonds clubs hearts&#x27;</span>.split()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self._cards = [Card(rank , suit) <span class="keyword">for</span> rank <span class="keyword">in</span> self.ranks </span><br><span class="line">                                         <span class="keyword">for</span> suit <span class="keyword">in</span> self.suits]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self._cards)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self,position</span>):</span><br><span class="line">        <span class="keyword">return</span> self._cards[position]</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    deck = FrenchDeck()</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">len</span>(deck))</span><br><span class="line">    <span class="built_in">print</span>(deck[-<span class="number">1</span>])</span><br><span class="line">    <span class="built_in">print</span>(deck[:<span class="number">3</span>])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        <span class="built_in">print</span>(choice(deck))</span><br></pre></td></tr></table></figure>

<ul>
<li><code>namedtuple</code></li>
</ul>
<blockquote>
<p>In Python, NamedTuple is present inside the collections module. It provides a way to create simple, lightweight data structures similar to a class, but without the overhead of defining a full class. Like dictionaries, they contain keys that are hashed to a particular value. On the contrary, it supports both access from key-value and iteration, the functionality that dictionaries lack.</p>
</blockquote>
<p><a href="https://www.geeksforgeeks.org/namedtuple-in-python/">Namedtuple in Python - GeeksforGeeks</a></p>
<p>åˆ’é‡ç‚¹:â‘ ä¸€ä¸ªè½»é‡çš„æ•°æ®ç»“æ„ç±»ï¼›â‘¡ç›¸æ¯”äºå­—å…¸ï¼Œè¿˜æœ‰ä¸‹æ ‡ç´¢å¼•çš„åŠŸèƒ½ã€‚</p>
<p><strong>åºåˆ—åè®®:</strong></p>
<ul>
<li>åœ¨ Python ä¸­ï¼Œåºåˆ—æ˜¯ä¸€ç§é€šç”¨çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªå…ƒç´ ï¼Œå¹¶ä¸”æ”¯æŒ<strong>è¿­ä»£</strong>ã€<strong>ç´¢å¼•</strong>å’Œ<strong>åˆ‡ç‰‡</strong>æ“ä½œã€‚</li>
<li>åºåˆ—åè®®å®šä¹‰äº†ä¸€ç»„<strong>ç‰¹æ®Šæ–¹æ³•</strong>ï¼Œä¾‹å¦‚ <code>__len__</code> å’Œ <code>__getitem__</code>ï¼Œç”¨äºä½¿å¯¹è±¡è¡¨ç°å¾—åƒåºåˆ—ä¸€æ ·ã€‚</li>
<li>å¦‚æœä¸€ä¸ªç±»å®ç°äº†è¿™äº›æ–¹æ³•ï¼Œå®ƒçš„<strong>å®ä¾‹</strong>å°±å¯ä»¥åƒ<strong>åˆ—è¡¨</strong>ã€<strong>å­—ç¬¦ä¸²</strong>æˆ–<strong>å…ƒç»„</strong>ä¸€æ ·è¿›è¡Œæ“ä½œã€‚</li>
</ul>
<p><code>FrenchDeck</code>ç±»ä¸­å®ç°äº†<code>__len__</code>æ–¹æ³•åï¼Œå¯¹å®ä¾‹åŒ–ç±»<code>deck</code>æ‰§è¡Œ<code>len(deck)</code>æ—¶ï¼Œå®é™…ä¸Šè°ƒç”¨çš„æ˜¯<code>deck.__len__(self)</code> ; åŒç†ï¼Œå¯¹<code>deck</code>æ‰§è¡Œåˆ‡ç‰‡ã€ä¸‹æ ‡ç´¢å¼•æ—¶å®é™…è°ƒç”¨çš„æ˜¯<code>__getitem__</code>æ–¹æ³•ã€‚</p>
<p><strong>sorted</strong>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> card <span class="keyword">in</span> <span class="built_in">sorted</span>(deck , key=card_value):</span><br><span class="line">        <span class="built_in">print</span>(card)</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­<code>card_value</code>ä¸éœ€è¦ä¼ å…¥å‚æ•°<code>card</code> , <code>sorted</code>ä¼šè‡ªåŠ¨å°†<code>deck</code>ä¸­æ¯ä¸€ä¸ª<code>card</code>ä¼ å…¥<code>key</code>ä¸­,ä¸éœ€è¦æ˜¾å¼ä¼ å‚ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vector</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self , x=<span class="number">0</span> , y=<span class="number">0</span></span>):</span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Vector(%r,%r)&#x27;</span>%(self.x , self.y)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__abs__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> sqrt(self.x**<span class="number">2</span> + self.y**<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__bool__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">bool</span>(self.x <span class="keyword">or</span> self.y)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__add__</span>(<span class="params">self , other</span>):</span><br><span class="line">        <span class="keyword">return</span> Vector(self.x+other.x , self.y+other.y)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__mul__</span>(<span class="params">self , scalar</span>):</span><br><span class="line">        <span class="keyword">return</span> Vector(self.x*scalar , self.y*scalar) </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    v1 = Vector(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">    v2 = Vector(<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">    v3 = Vector(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">    <span class="built_in">print</span>(v1+v2)</span><br><span class="line">    <span class="built_in">print</span>(v1*<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">abs</span>(v1))</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">bool</span>(v3))</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬äºŒç« -æ•°æ®ç»“æ„"><a href="#ç¬¬äºŒç« -æ•°æ®ç»“æ„" class="headerlink" title="ç¬¬äºŒç«  æ•°æ®ç»“æ„"></a>ç¬¬äºŒç«  æ•°æ®ç»“æ„</h3><p><strong>åˆ—è¡¨æ¨å¯¼ä¸ç”Ÿæˆå™¨è¡¨è¾¾å¼</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    colors = [<span class="string">&#x27;black&#x27;</span>, <span class="string">&#x27;white&#x27;</span>]</span><br><span class="line">    sizes = [<span class="string">&#x27;S&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;L&#x27;</span>]</span><br><span class="line">    tshirt = [(color,size) <span class="keyword">for</span> color <span class="keyword">in</span> colors</span><br><span class="line">                            <span class="keyword">for</span> size <span class="keyword">in</span> sizes]</span><br><span class="line">    <span class="built_in">print</span>(tshirt)</span><br><span class="line">    symbols = <span class="string">&#x27;$Â¢Â£Â¥â‚¬Â¤&#x27;</span></span><br><span class="line">    a = <span class="built_in">list</span>(<span class="built_in">ord</span>(symbol) <span class="keyword">for</span> symbol <span class="keyword">in</span> symbols <span class="keyword">if</span> <span class="built_in">ord</span>(symbol) &gt; <span class="number">127</span>)</span><br><span class="line">    b = [ <span class="built_in">ord</span>(symbol) <span class="keyword">for</span> symbol <span class="keyword">in</span> symbols <span class="keyword">if</span> <span class="built_in">ord</span>(symbol) &gt; <span class="number">127</span> ]</span><br><span class="line">    <span class="built_in">print</span>(a , b)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è™½ç„¶ä¹Ÿå¯ä»¥ç”¨åˆ—è¡¨æ¨å¯¼æ¥åˆå§‹åŒ–å…ƒç»„ã€æ•°ç»„æˆ–å…¶ä»–åºåˆ—ç±»å‹ï¼Œä½†æ˜¯ç”Ÿæˆ<br>å™¨è¡¨è¾¾å¼æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚è¿™æ˜¯å› ä¸ºç”Ÿæˆå™¨è¡¨è¾¾å¼èƒŒåéµå®ˆäº†è¿­ä»£å™¨å<br>è®®ï¼Œå¯ä»¥é€ä¸ªåœ°äº§å‡ºå…ƒç´ ï¼Œè€Œä¸æ˜¯å…ˆå»ºç«‹ä¸€ä¸ªå®Œæ•´çš„åˆ—è¡¨ï¼Œç„¶åå†æŠŠè¿™<br>ä¸ªåˆ—è¡¨ä¼ é€’åˆ°æŸä¸ªæ„é€ å‡½æ•°é‡Œã€‚å‰é¢é‚£ç§æ–¹å¼æ˜¾ç„¶èƒ½å¤ŸèŠ‚çœå†…å­˜ã€‚</p>
</blockquote>
<p><strong>å…ƒç»„</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    lax_coordinates = (<span class="number">33.9425</span>, -<span class="number">118.408056</span>)</span><br><span class="line">    city, year, pop, chg, area = (<span class="string">&#x27;Tokyo&#x27;</span>, <span class="number">2003</span>, <span class="number">32450</span>, <span class="number">0.66</span>, <span class="number">8014</span>)</span><br><span class="line">    traveler_ids = [(<span class="string">&#x27;USA&#x27;</span>, <span class="string">&#x27;31195855&#x27;</span>), (<span class="string">&#x27;BRA&#x27;</span>, <span class="string">&#x27;CE342567&#x27;</span>),(<span class="string">&#x27;ESP&#x27;</span>, <span class="string">&#x27;XDA205856&#x27;</span>)]</span><br><span class="line">    <span class="keyword">for</span> passport <span class="keyword">in</span> <span class="built_in">sorted</span>(traveler_ids):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s/%s&#x27;</span> % passport)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æˆ‘ä»¬æŠŠå…ƒç»„ (â€˜Tokyoâ€™, 2003, 32450, 0.66, 8014) é‡Œ<br>çš„å…ƒç´ åˆ†åˆ«èµ‹å€¼ç»™å˜é‡ cityã€yearã€popã€chg å’Œ areaï¼Œè€Œè¿™æ‰€æœ‰çš„<br>èµ‹å€¼æˆ‘ä»¬åªç”¨ä¸€è¡Œå£°æ˜å°±å†™å®Œäº†ã€‚åŒæ ·ï¼Œåœ¨åé¢ä¸€è¡Œä¸­ï¼Œä¸€ä¸ª % è¿ç®—ç¬¦<br>å°±æŠŠ passport å…ƒç»„é‡Œçš„å…ƒç´ å¯¹åº”åˆ°äº† print å‡½æ•°çš„æ ¼å¼å­—ç¬¦ä¸²ç©ºæ¡£<br>ä¸­ã€‚è¿™ä¸¤ä¸ªéƒ½æ˜¯å¯¹å…ƒç»„æ‹†åŒ…çš„åº”ç”¨ã€‚</p>
</blockquote>
<p>ä¸ä½¿ç”¨ä¸­é—´å˜é‡äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a , b = b , a</span><br></pre></td></tr></table></figure>

<p>å®é™…æ­¤å¤„æ¶‰åŠåˆ°å…ƒç»„çš„è§£åŒ…:pythoné¦–å…ˆè§£æå³å€¼ï¼Œç»„æˆå…ƒç»„(b,a),å†è§£åŒ…èµ‹å€¼ç»™a,b</p>
<p>*<strong>è¿ç®—ç¬¦</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">devmode</span>(<span class="params">a , b</span>):</span><br><span class="line">    <span class="keyword">return</span> (a//b , a%b)</span><br><span class="line">t = (<span class="number">12</span>,<span class="number">7</span>)</span><br><span class="line"><span class="built_in">print</span>(devmode(*t))</span><br><span class="line">a , b , *_ = <span class="built_in">range</span>(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(a,b,_)</span><br></pre></td></tr></table></figure>

<p><strong>åµŒå¥—å…ƒç»„</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    metro_areas = [</span><br><span class="line">    (<span class="string">&#x27;Tokyo&#x27;</span>,<span class="string">&#x27;JP&#x27;</span>,<span class="number">36.933</span>,(<span class="number">35.689722</span>,<span class="number">139.691667</span>)), </span><br><span class="line">    (<span class="string">&#x27;Delhi NCR&#x27;</span>, <span class="string">&#x27;IN&#x27;</span>, <span class="number">21.935</span>, (<span class="number">28.613889</span>, <span class="number">77.208889</span>)),</span><br><span class="line">    (<span class="string">&#x27;Mexico City&#x27;</span>, <span class="string">&#x27;MX&#x27;</span>, <span class="number">20.142</span>, (<span class="number">19.433333</span>, -<span class="number">99.133333</span>)),</span><br><span class="line">    (<span class="string">&#x27;New York-Newark&#x27;</span>, <span class="string">&#x27;US&#x27;</span>, <span class="number">20.104</span>, (<span class="number">40.808611</span>, -<span class="number">74.020386</span>)),</span><br><span class="line">    (<span class="string">&#x27;Sao Paulo&#x27;</span>, <span class="string">&#x27;BR&#x27;</span>, <span class="number">19.649</span>, (-<span class="number">23.547778</span>, -<span class="number">46.635833</span>)),</span><br><span class="line">    ]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;&#123;:15&#125; | &#123;:^9&#125; | &#123;:^9&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;lat.&#x27;</span>, <span class="string">&#x27;long.&#x27;</span>))</span><br><span class="line">    fmt = <span class="string">&#x27;&#123;:15&#125; | &#123;:9.4f&#125; | &#123;:9.4f&#125;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> name, cc, pop, (latitude, longitude) <span class="keyword">in</span> metro_areas:</span><br><span class="line">        <span class="keyword">if</span> longitude &lt;= <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(fmt.<span class="built_in">format</span>(name, latitude, longitude))</span><br></pre></td></tr></table></figure>

<p><code>&#123;:15&#125;</code>è¡¨ç¤ºå 15æ ¼ ï¼Œ <code>&#123;:^9&#125;</code>è¡¨ç¤ºå 9æ ¼ï¼Œå­—ç¬¦ä¸²å±…ä¸­ ï¼Œ <code>&#123;:&gt;9&#125;</code>å³å¯¹é½å 9æ ¼ï¼Œ<code>&#123;:9.4f&#125;</code>å 9æ ¼ï¼Œä¿ç•™å››ä½å°æ•°çš„æµ®ç‚¹æ•°</p>
<p><strong>å…·åå…ƒç»„collections.namedtuple</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    city = namedtuple(<span class="string">&#x27;city&#x27;</span> , [<span class="string">&#x27;name&#x27;</span> , <span class="string">&#x27;country&#x27;</span> , <span class="string">&#x27;pop&#x27;</span> , <span class="string">&#x27;coordinates&#x27;</span>])</span><br><span class="line">    tokyo = city(<span class="string">&#x27;tokyo&#x27;</span> , <span class="string">&#x27;Japan&#x27;</span> , <span class="string">&#x27;36.933&#x27;</span> , (<span class="number">35</span>,<span class="number">139</span>))</span><br><span class="line">    <span class="built_in">print</span>(tokyo.pop , tokyo.coordinates)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(city._fields)</span><br><span class="line">    delhi_data = (<span class="string">&#x27;Delhi NCR&#x27;</span>, <span class="string">&#x27;IN&#x27;</span>, <span class="number">21.935</span>, (<span class="number">28.613889</span>, <span class="number">77.208889</span>))</span><br><span class="line">    delhi = city._make(delhi_data)</span><br><span class="line">    <span class="built_in">print</span>(delhi._asdict)</span><br></pre></td></tr></table></figure>

<p><code>._fields</code>è¿”å›å…·åå…ƒç´ æ‰€æœ‰çš„å­—æ®µåç§°</p>
<p><code>._make</code>æ”¯æŒä»¥**å…ƒç»„(æˆ–åˆ—è¡¨)**åˆ›å»ºå…·åå…ƒç»„</p>
<p><code>._asdict</code>æŠŠå…·åå…ƒç»„ä»¥ collections.OrderedDict çš„å½¢å¼è¿”å›ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒæ¥æŠŠå…ƒç»„é‡Œçš„ä¿¡æ¯å‹å¥½åœ°å‘ˆç°å‡ºæ¥ã€‚</p>
<p><strong>åˆ‡ç‰‡</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">&#x27;bicycle&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[::<span class="number">3</span>] , s[::-<span class="number">1</span>] , s[::-<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">1</span>:<span class="number">5</span>:<span class="number">2</span>] , s[<span class="number">5</span>:<span class="number">1</span>:-<span class="number">2</span>])</span><br></pre></td></tr></table></figure>

<p><code>start:stop:step</code>    <code>step</code>ä¸ºè´Ÿå€¼è¡¨ç¤ºåå‘åˆ‡ç‰‡</p>
<p><strong>å¯¹åºåˆ—ä½¿ç”¨</strong>*</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">    <span class="built_in">print</span>(l * <span class="number">3</span> , <span class="number">3</span> * <span class="string">&#x27;abc&#x27;</span>)</span><br><span class="line">    board = [[<span class="string">&#x27;_&#x27;</span>]*<span class="number">3</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)]</span><br><span class="line">    <span class="built_in">print</span>(board)</span><br><span class="line">    board[<span class="number">1</span>][<span class="number">2</span>] = <span class="string">&#x27;X&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(board)</span><br><span class="line">    board_ = [[<span class="string">&#x27;_&#x27;</span>]*<span class="number">3</span>]*<span class="number">3</span></span><br><span class="line">    board_[<span class="number">1</span>][<span class="number">2</span>] = <span class="string">&#x27;X&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(board_)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">python chapter2.py</span> </span><br><span class="line">[1, 2, 3, 1, 2, 3, 1, 2, 3] abcabcabc</span><br><span class="line">[[&#x27;_&#x27;, &#x27;_&#x27;, &#x27;_&#x27;], [&#x27;_&#x27;, &#x27;_&#x27;, &#x27;_&#x27;], [&#x27;_&#x27;, &#x27;_&#x27;, &#x27;_&#x27;]]</span><br><span class="line">[[&#x27;_&#x27;, &#x27;_&#x27;, &#x27;_&#x27;], [&#x27;_&#x27;, &#x27;_&#x27;, &#x27;X&#x27;], [&#x27;_&#x27;, &#x27;_&#x27;, &#x27;_&#x27;]]</span><br><span class="line">[[&#x27;_&#x27;, &#x27;_&#x27;, &#x27;X&#x27;], [&#x27;_&#x27;, &#x27;_&#x27;, &#x27;X&#x27;], [&#x27;_&#x27;, &#x27;_&#x27;, &#x27;X&#x27;]]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>board_ = [[&#39;_&#39;]*3]*3</code>  è¿™ç§æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå¼•ç”¨çš„åˆ—è¡¨ï¼Œä¿®æ”¹å…¶ä¸­ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä»–ä¸¤ä¸ªåˆ—è¡¨éƒ½ä¼šå˜åŒ–ã€‚</p>
<h3 id="ç¬¬ä¸‰ç« -å­—å…¸å’Œé›†åˆ"><a href="#ç¬¬ä¸‰ç« -å­—å…¸å’Œé›†åˆ" class="headerlink" title="ç¬¬ä¸‰ç«  å­—å…¸å’Œé›†åˆ"></a>ç¬¬ä¸‰ç«  å­—å…¸å’Œé›†åˆ</h3><p><strong>å­—å…¸åˆå§‹åŒ–</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    a = <span class="built_in">dict</span>(one=<span class="number">1</span>, two=<span class="number">2</span>, three=<span class="number">3</span>)</span><br><span class="line">    b = &#123;<span class="string">&#x27;one&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;two&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;three&#x27;</span>: <span class="number">3</span>&#125;</span><br><span class="line">    c = <span class="built_in">dict</span>(<span class="built_in">zip</span>([<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]))</span><br><span class="line">    d = <span class="built_in">dict</span>([(<span class="string">&#x27;two&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;one&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;three&#x27;</span>, <span class="number">3</span>)])</span><br><span class="line">    e = <span class="built_in">dict</span>(&#123;<span class="string">&#x27;three&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;one&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;two&#x27;</span>: <span class="number">2</span>&#125;)</span><br><span class="line">    <span class="built_in">print</span>(a == b == c == d == e)<span class="comment">#ä»¥ä¸Šäº”ç§å­—å…¸åˆå§‹åŒ–æ–¹å¼ç­‰ä»·</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>å­—å…¸æ¨å¯¼</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">DIAL_CODES = [(<span class="number">86</span>, <span class="string">&#x27;China&#x27;</span>),(<span class="number">91</span>, <span class="string">&#x27;India&#x27;</span>),(<span class="number">1</span>, <span class="string">&#x27;United States&#x27;</span>),(<span class="number">62</span>, <span class="string">&#x27;Indonesia&#x27;</span>),(<span class="number">55</span>, <span class="string">&#x27;Brazil&#x27;</span>),(<span class="number">92</span>, <span class="string">&#x27;Pakistan&#x27;</span>),(<span class="number">880</span>, <span class="string">&#x27;Bangladesh&#x27;</span>),(<span class="number">234</span>, <span class="string">&#x27;Nigeria&#x27;</span>),(<span class="number">7</span>, <span class="string">&#x27;Russia&#x27;</span>),(<span class="number">81</span>, <span class="string">&#x27;Japan&#x27;</span>)]</span><br><span class="line">country_code = &#123;country : code <span class="keyword">for</span> code,country <span class="keyword">in</span> DIAL_CODES <span class="keyword">if</span> code &gt; <span class="number">66</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(country_code)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>é›†åˆ</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">    s = <span class="built_in">set</span>(l) </span><br><span class="line">    <span class="built_in">print</span>(s)    </span><br><span class="line"></span><br><span class="line">    s2 = &#123;<span class="number">4</span>,<span class="number">6</span>,<span class="number">9</span>&#125;</span><br><span class="line">    <span class="built_in">print</span>(s&amp;s2)</span><br><span class="line">    <span class="built_in">print</span>(s|s2)</span><br><span class="line">    <span class="built_in">print</span>(s-s2)</span><br><span class="line"></span><br><span class="line">    s3 = <span class="built_in">set</span>()</span><br><span class="line">    s3.add(<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># s3.pop()</span></span><br><span class="line">    <span class="built_in">print</span>(s3)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>s = set(l)</code>ä¼šå°†åˆ—è¡¨<code>l</code>ä¸­å…ƒç´ å»é‡</p>
<p><code>s&amp;s2</code>æ±‚äº¤é›†ï¼Œ<code>s|s2</code>æ±‚å¹¶é›†ï¼Œ<code>s-s2</code>æ±‚è¡¥é›†</p>
]]></content>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³æ–‡ç« ç›®å½•ç‚¹å‡»ä¸è·³è½¬çš„é—®é¢˜</title>
    <url>/posts/6e206cd9/</url>
    <content><![CDATA[<h3 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h3><p style = "color : green">ç½‘é¡µæ–‡ç« ç›®å½•ç½¢å·¥äº†ï¼Ÿ</p>

<p>ä»Šå¤©åœ¨å·¡è§†æˆ‘çš„å°ç ´ç«™æ—¶ï¼Œçªç„¶å‘ç°æˆ‘çš„ç½‘é¡µæ–‡ç« ç›®å½•ç½¢å·¥äº†ï¼šç‚¹å‡»ç›®å½•æ–‡ç« ä¸å‘ç”Ÿè·³è½¬ã€‚STFWæ‰¾åˆ°äº†NexTä¸»é¢˜ä¸‹çš„ä¸€ä¸ª2020å¹´çš„<a href = "https://github.com/theme-next/hexo-theme-next/pull/1540/files">Issue</a> , ä½†æˆ‘å‘ç°å®˜æ–¹ç°åœ¨å·²ç»æŠŠè¿™ä¸ªbugä¿®å¤äº†ã€‚ä¹‹åæˆ‘æ‰æ‰¾åˆ°åŸå› ï¼š<strong>Hexoæ²¡æœ‰æ­£ç¡®åœ°æ¸²æŸ“å‡ºæˆ‘çš„markdownè¯­æ³•ï¼Œæˆ–è€…è¯´ï¼Œæˆ‘æ²¡æœ‰æ­£ç¡®çš„ä¹¦å†™markdownã€‚</strong> <strong>å°†hæ ‡ç­¾å†™çš„æ ‡é¢˜æ”¹æˆmarkdownè¯­æ³•å³å¯ï¼Œå³<code>&lt;h3&gt;æ‘˜è¦&lt;/h3&gt;</code>æ”¹æˆ<code>### æ‘˜è¦</code></strong> </p>
<span id="more"></span>

<h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><ul>
<li><strong>Bugå¤ç°</strong></li>
</ul>
<p>ç‚¹å‡»æ–‡ç« ç›®å½•ä¸è·³è½¬ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œå‘ç°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Unchecked runtime.lastError: A listener indicated an asynchronous response by returning true, but the message channel closed before a response was received</span><br></pre></td></tr></table></figure>

<p>ç›‘å¬å™¨ç¡®å®ç›‘å¬åˆ°äº†ä¸€ä¸ªresponse , ä½† message channelåœ¨responseæ¥å—å‰å·²å…³é—­ï¼Ÿä¸æ‡‚ä»€ä¹ˆæ„æ€â€¦â€¦</p>
<ul>
<li><strong>å¼€å‘è€…æ¨¡å¼Debug</strong></li>
</ul>
<p>æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹©ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ£€æŸ¥ï¼Œä¾‹å¦‚<code>æ‘˜è¦</code>ï¼Œå‘ç°æµè§ˆå™¨å°†å…¶æ¸²æŸ“ä¸ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span> = <span class="string">&quot;nav-link&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span> = <span class="string">&quot;nav-number&quot;</span>&gt;</span>1.<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span> = <span class="string">&quot;nav-text&quot;</span>&gt;</span>æ‘˜è¦<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong style = "color : red">è¿™æ˜æ˜¾æ²¡è®¾ç½®é”šç‚¹é“¾æ¥ï¼ï¼ï¼æ€ä¹ˆå¯èƒ½è·³è½¬ï¼ï¼ï¼</strong></p>
<p>æˆ‘åˆå»çœ‹äº†ä¸‹åœ¨å»ºç«™åˆï¼ŒHexoè‡ªå·±ç»™å‡ºçš„æ–‡ç« å®ä¾‹<code>Hello World</code>,æ£€æŸ¥<code>Quick Start</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span> = <span class="string">&quot;nav-link&quot;</span> <span class="attr">href</span> = <span class="string">&quot;#Quick-Start&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span> = <span class="string">&quot;nav-number&quot;</span>&gt;</span>1.<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span> = <span class="string">&quot;nav-text&quot;</span>&gt;</span>Quick Start<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥æ–‡ç« ä¸­çš„æ ‡é¢˜<code>Quick Start</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;Quick-Start&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#Quick-Start&quot;</span> <span class="attr">class</span>=<span class="string">&quot;headerlink&quot;</span> <span class="attr">title</span>=<span class="string">&quot;Quick Start&quot;</span>&gt;</span></span><br><span class="line">		Quick Start</span><br><span class="line">	<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å‘ç°æ–‡ç« å†…çš„å¤§æ ‡é¢˜éƒ½è¢«åŠ ä¸Šäº†&#96;&#96;id&#96;é”šç‚¹ã€‚è€Œæˆ‘å†™çš„æ–‡ç« éƒ½æ²¡æœ‰æ¸²æŸ“åŠ ä¸Šé”šç‚¹ã€‚</p>
<ul>
<li><strong>é—®é¢˜åˆ†æ</strong></li>
</ul>
<p>åŒæ ·æ˜¯<code>_post</code>æ–‡ä»¶å¤¹é‡Œçš„mdæ–‡ä»¶ï¼Œæ¸²æŸ“ç»“æœå´ä¸åŒï¼Œé—®é¢˜è‚¯å®šå¤„åœ¨markdownæ–‡ä»¶å†…éƒ¨ï¼Œæˆ‘ä»”ç»†å¯¹æ¯”äº†å®˜æ–¹å‚è€ƒçš„<code>Hello World</code>æ–‡ç« ä¸æˆ‘çš„æ–‡ç« ï¼Œå‘ç°äº†é—®é¢˜æ‰€åœ¨ï¼š<strong style = "color:red">åŸæ¥æˆ‘çš„æ–‡ç« å†…çš„æ ‡é¢˜éƒ½æ˜¯ç”¨HTMLæ ¼å¼å†™çš„ï¼Œè€Œå®˜æ–¹æ–‡ç« éƒ½æ˜¯ç”¨markdownè¯­æ³•å†™çš„</strong>ï¼Œå³ï¼š</p>
<p>æˆ‘çš„æ‘˜è¦ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;h3&gt;æ‘˜è¦&lt;/h3&gt;</span><br></pre></td></tr></table></figure>

<p>å®˜æ–¹çš„æ‘˜è¦ï¼š</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section">### æ‘˜è¦</span></span><br></pre></td></tr></table></figure>

<p>markdowné‡Œå†™çš„æ˜¯<code>&lt;h3&gt;æ‘˜è¦&lt;/h3&gt;</code>,é‚£hexoå½“ç„¶è¦åŸå°ä¸åŠ¨åœ°æ¸²æŸ“ä¸º<code>&lt;h3&gt;æ‘˜è¦&lt;/h3&gt;</code> , éš¾ä¸æˆè¿˜ä¿®æ”¹ä½ çš„HTMLä»£ç ï¼Ÿ	è¢«è‡ªå·±å‚»åˆ°äº†:sweat_smile:</p>
<ul>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong></li>
</ul>
<p>æŠŠmarkdownæºæ–‡ä»¶ä¿®æ”¹å³å¯ï¼Œå³<code>&lt;h3&gt;æ‘˜è¦&lt;/h3&gt;</code>æ”¹æˆ<code>### æ‘˜è¦</code></p>
]]></content>
      <tags>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>é‡å­¦é“¾è¡¨</title>
    <url>/posts/14fa845f/</url>
    <content><![CDATA[<p>æœ€è¿‘åˆé‡å­¦äº†ä¸€éé“¾è¡¨ï¼Œè®°å¾—å¤§ä¸€å­¦é“¾è¡¨æ—¶ä¹Ÿæ˜¯å¾ˆè¿·ï¼ŒæŒ‡æ¥æŒ‡å»æ²¡æŒ‡æ˜ç™½å“ˆå“ˆå“ˆã€‚è¿™ä¸€æ¬¡å­¦ä¹Ÿæ˜¯é€šé€å¤šäº†ã€‚</p>
<span id="more"></span>

<h2 id="å•é“¾è¡¨"><a href="#å•é“¾è¡¨" class="headerlink" title="å•é“¾è¡¨"></a>å•é“¾è¡¨</h2><h3 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h3><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">Lnode</span>&#123;</span><br><span class="line">    <span class="type">int</span> data ;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Lnode</span> *next ;</span><br><span class="line">&#125;Lnode , *Linklist ;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç»“æ„ä½“å†…ä¸¤ä¸ªå…ƒç´ <code>data</code> ã€<code>next</code></li>
<li><code>data</code>æ˜¯<code>int</code>å‹ï¼Œå¯ä¿®æ”¹ä¸ºå…¶ä»–ï¼Œä¾‹å¦‚<code>char</code>ã€<code>double</code></li>
<li><code>next</code>æ˜¯ç±»å‹ä¸º<code>struct Lnode</code>çš„æŒ‡é’ˆï¼Œå¯æŒ‡å‘<code>struct Lnode</code>è¿™ç§ç»“æ„ä½“ï¼Œåœ¨é“¾è¡¨ä¸­<code>next</code>æŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œä¾‹å¦‚<code>1å·ç»“ç‚¹çš„next</code> &#x3D; <code>2å·ç»“ç‚¹çš„åœ°å€</code></li>
<li><code>Lnode</code>æ˜¯<code>struct Lnode</code>çš„åˆ«å ï¼Œ <code>Linklist</code> æ˜¯<code>struct Lnode *</code>çš„åˆ«å</li>
</ul>
<h4 id="å£°æ˜ä¸€ä¸ªé“¾è¡¨"><a href="#å£°æ˜ä¸€ä¸ªé“¾è¡¨" class="headerlink" title="å£°æ˜ä¸€ä¸ªé“¾è¡¨"></a>å£°æ˜ä¸€ä¸ªé“¾è¡¨</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">Linklist HEAD = <span class="keyword">new</span> Lnode ;</span><br><span class="line">HEAD-&gt;next = <span class="literal">NULL</span> ;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>Linklist HEAD</code>ä¸<code>Lnode *HEAD</code>ç­‰ä»·ï¼Œä½†æˆ‘ä»¬ä¸€èˆ¬ç”¨<code>Linklist HEAD</code>æ¥å®šä¹‰é“¾è¡¨(å®šä¹‰é“¾è¡¨å¤´ç»“ç‚¹ï¼Œé“¾è¡¨å¤´ç»“ç‚¹å³ä»£è¡¨è¯¥é“¾è¡¨)ã€‚ç”¨<code>Lnode *p</code>å®šä¹‰ä¸€ä¸ªç»“ç‚¹</li>
<li><code>Linklist HEAD = new Lnode ;</code>ä¸ºå¤´ç»“ç‚¹(å¤´æŒ‡é’ˆ)åˆ†é…ä¸€ä¸ªå¤§å°ä¸º<code>Lnode</code>çš„ç©ºé—´ã€‚</li>
<li>ç›®å‰é“¾è¡¨ä¸ºç©ºï¼Œå¤´æŒ‡é’ˆæŒ‡å‘<code>NULL</code>.<code>HEAD-&gt;next</code>è¡¨ç¤º<code>HEAD</code>ä¸‹ä¸€ä¸ªç»“ç‚¹åœ°å€ã€‚</li>
<li>å¤´æŒ‡é’ˆ<code>HEAD</code>ä¸èƒ½ä¸¥æ ¼ç®—ä¸€ä¸ªç»“ç‚¹,<code>HEAD-&gt;data</code>æœªå®šä¹‰ã€‚</li>
</ul>
<p><strong>åŠ å…¥ç»“ç‚¹</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">Lnode *p = <span class="keyword">new</span> Lnode ;<span class="comment">//ç¬¬ä¸€ä¸ªç»“ç‚¹p</span></span><br><span class="line">cin &gt;&gt; p-&gt;data ; <span class="comment">//è¾“å…¥è¯¥ç»“ç‚¹å­˜å‚¨çš„æ•°æ®data</span></span><br><span class="line">HEAD-&gt;next = p ;</span><br><span class="line">p-&gt;next = <span class="literal">NULL</span> ;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>å†åŠ ä¸€ä¸ªç»“ç‚¹</strong></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">Lnode *q = <span class="keyword">new</span> Lnode ;<span class="comment">//ç¬¬äºŒä¸ªç»“ç‚¹q</span></span><br><span class="line">cin &gt;&gt; q-&gt;data ;</span><br><span class="line">p-&gt;next = q ;</span><br><span class="line">q-&gt;next = <span class="literal">NULL</span> ;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„æœ€åä¸€ä¸ªç»“ç‚¹çš„<code>next</code>åº”è¯¥æŒ‡å‘<code>NULL</code>ï¼Œå¦åˆ™<code>q-&gt;next</code>è¿™ä¸ªé‡æŒ‡é’ˆæ— ç©·æ— å°½ã€‚</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span> ;</span><br><span class="line"><span class="type">int</span> e[N] , ne[N] , idx , head ;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    head = <span class="number">-1</span> ;</span><br><span class="line">    idx = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add_to_head</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    e[idx] = x ;</span><br><span class="line">    ne[idx] = head ;</span><br><span class="line">    head = idx ;</span><br><span class="line">    idx++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> k , <span class="type">int</span> x )</span></span>&#123;</span><br><span class="line">    e[idx] = x ;</span><br><span class="line">    ne[idx] = ne[k] ;</span><br><span class="line">    ne[k] = idx ;</span><br><span class="line">    idx++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    ne[k] = ne[ne[k]] ;   </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print_list</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head ; i != <span class="number">-1</span> ; i = ne[i]) cout &lt;&lt; e[i] &lt;&lt; <span class="string">&#x27; &#x27;</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> M , k , x ;</span><br><span class="line">    <span class="type">char</span> operation ;</span><br><span class="line">    <span class="built_in">init</span>() ;</span><br><span class="line">    cin &gt;&gt; M ;</span><br><span class="line">    <span class="keyword">while</span>(M--)&#123;</span><br><span class="line">        cin &gt;&gt; operation ;</span><br><span class="line">        <span class="keyword">switch</span>(operation)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;H&#x27;</span> :</span><br><span class="line">                cin &gt;&gt; x ;</span><br><span class="line">                <span class="built_in">add_to_head</span>(x) ;</span><br><span class="line">                <span class="keyword">break</span> ;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;D&#x27;</span> :</span><br><span class="line">                cin &gt;&gt; k ;</span><br><span class="line">                <span class="keyword">if</span>(!k)  head = ne[head] ;</span><br><span class="line">                <span class="keyword">else</span> <span class="built_in">remove</span>(k<span class="number">-1</span>) ;</span><br><span class="line">                <span class="keyword">break</span> ;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;I&#x27;</span> :</span><br><span class="line">                cin &gt;&gt; k &gt;&gt; x ;</span><br><span class="line">                <span class="built_in">add</span>(k<span class="number">-1</span> , x) ;</span><br><span class="line">                <span class="keyword">break</span> ;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">break</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">print_list</span>() ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="https://pic.imgdb.cn/item/6537eb1ec458853aefe7a841.jpg" alt="é“¾è¡¨ç¤ºæ„å›¾.jpg">

<h3 id="å¸¸ç”¨å‡½æ•°æ“ä½œ"><a href="#å¸¸ç”¨å‡½æ•°æ“ä½œ" class="headerlink" title="å¸¸ç”¨å‡½æ•°æ“ä½œ"></a>å¸¸ç”¨å‡½æ•°æ“ä½œ</h3><ul>
<li>åˆå§‹åŒ–é“¾è¡¨(åˆå§‹åŒ–å¤´æŒ‡é’ˆ)</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">InitList</span><span class="params">(Linklist &amp;HEAD)</span></span>&#123;</span><br><span class="line">    <span class="comment">//è°ƒç”¨InitListå‰å¾—å…ˆå£°æ˜HEADï¼Œä¾‹å¦‚ Linklist linkedlist_1 ï¼Œlinkedlist_1å³æ˜¯è¯¥é“¾è¡¨çš„åç§°(ç”¨å¤´æŒ‡é’ˆæ¥ä»£è¡¨é“¾è¡¨åç§°ï¼Œç±»ä¼¼äºç”¨åœ°å€aæ¥ä»£è¡¨æ•°ç»„)</span></span><br><span class="line">    HEAD = <span class="keyword">new</span> Lnode ; <span class="comment">//ä¸ºHEADå£°æ˜ä¸€å—Lnodeå¤§å°çš„ç©ºé—´</span></span><br><span class="line">    HEAD-&gt;next = <span class="literal">NULL</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">IsEmpty</span><span class="params">(Linklist &amp;HEAD)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(HEAD-&gt;next) <span class="keyword">return</span> <span class="number">0</span> ;<span class="comment">//éç©º</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> ; <span class="comment">//ä¸ºç©º</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>é”€æ¯é“¾è¡¨</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">DestroyList</span><span class="params">(Linklist &amp;HEAD)</span></span>&#123;</span><br><span class="line">    Lnode *p ;</span><br><span class="line">    <span class="keyword">while</span>(HEAD)&#123;</span><br><span class="line">        p = HEAD ;</span><br><span class="line">        HEAD = HEAD-&gt;next  ;</span><br><span class="line">        <span class="keyword">delete</span> p ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ¸…ç©ºé“¾è¡¨</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ClearList</span><span class="params">(Linklist &amp;HEAD)</span></span>&#123;</span><br><span class="line">    Lnode *p , *q ;</span><br><span class="line">    p = HEAD -&gt;next ;</span><br><span class="line">    HEAD-&gt;next = <span class="literal">NULL</span> ;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        q = p-&gt;next ;</span><br><span class="line">        <span class="keyword">delete</span> p ;</span><br><span class="line">        p = q ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>tips:æ¸…ç©ºé“¾è¡¨ä¸é‡Šæ”¾å¤´æŒ‡é’ˆç©ºé—´</p>
<ul>
<li>è·å–é“¾è¡¨é•¿åº¦</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetLength</span><span class="params">(Linklist &amp;HEAD)</span></span>&#123;</span><br><span class="line">    Lnode *p = HEAD-&gt;next ;</span><br><span class="line">    <span class="type">int</span> length = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        length++ ;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> length ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ ¹æ®ç´¢å¼•è·å–é“¾è¡¨å…ƒç´ </li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetElem</span><span class="params">(Linklist &amp;HEAD , <span class="type">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt;= <span class="built_in">GetLength</span>(HEAD))   &#123;cout &lt;&lt; <span class="string">&quot;the index is invalid&quot;</span> &lt;&lt; endl ; <span class="keyword">return</span> <span class="number">0</span> ;&#125;</span><br><span class="line">    Lnode *p = HEAD-&gt;next ;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>(j != i)&#123;</span><br><span class="line">        j++ ;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p-&gt;data ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ ¹æ®å€¼ç¡®å®šç»“ç‚¹ç´¢å¼•</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">LocateElem</span><span class="params">(Linklist &amp;HEAD , <span class="type">int</span> value)</span></span>&#123;</span><br><span class="line">    Lnode *p = HEAD-&gt;next ;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        <span class="keyword">if</span>(value == p-&gt;data)    <span class="keyword">return</span> i ;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">        i++ ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; value &lt;&lt; <span class="string">&quot;not in this linkedlist&quot;</span> &lt;&lt; endl ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ’å…¥ç»“ç‚¹</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ListInsert</span><span class="params">(Linklist &amp;HEAD , <span class="type">int</span> i , <span class="type">int</span> data)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt; <span class="built_in">GetLength</span>(HEAD))    &#123;cout &lt;&lt; <span class="string">&quot;the index is invalid&quot;</span> &lt;&lt; endl ; <span class="built_in">exit</span>(<span class="number">0</span>) ;&#125;</span><br><span class="line">    Lnode *p = HEAD ;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">-1</span> ;</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; (j!=i<span class="number">-1</span>))&#123;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">        j++ ;</span><br><span class="line">    &#125;</span><br><span class="line">    Lnode *s = <span class="keyword">new</span> Lnode ;</span><br><span class="line">    s-&gt;data = data ;</span><br><span class="line">    s-&gt;next = HEAD-&gt;next ;</span><br><span class="line">    HEAD-&gt;next = s ;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Insert &quot;</span> &lt;&lt; data &lt;&lt; <span class="string">&quot; in the index &quot;</span> &lt;&lt; <span class="string">&#x27;[&#x27;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;] successfully !&quot;</span> &lt;&lt; endl ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>tips: æ­¤å¤„<code>p = HEAD</code>ä»<code>HEAD</code>å¼€å§‹ï¼Œ<code>j=-1</code> <code>j</code>ä»<code>-1</code>å¼€å§‹ï¼Œæ˜¯ä¸ºäº†<code>i=0</code>çš„ç‰¹æ®Šæƒ…å†µã€‚</p>
<ul>
<li>åˆ é™¤å…ƒç´ </li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">DeleteElem</span><span class="params">(Linklist &amp;L , <span class="type">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt;= <span class="built_in">GetLength</span>(L))  &#123;cout &lt;&lt; <span class="string">&quot;the index i is invalid&quot;</span> &lt;&lt; endl ; <span class="built_in">exit</span>(<span class="number">0</span>) ;&#125;</span><br><span class="line">    Lnode *p = L ;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">-1</span> ;</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; (j!=i<span class="number">-1</span>))&#123;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">        j++ ;</span><br><span class="line">    &#125;</span><br><span class="line">    Lnode *s = p-&gt;next ;</span><br><span class="line">    p-&gt;next = s-&gt;next ;</span><br><span class="line">    <span class="keyword">delete</span> s ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ‰“å°é“¾è¡¨æ‰€æœ‰å…ƒç´ </li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintList</span><span class="params">(Linklist &amp;L)</span></span>&#123;</span><br><span class="line">    Lnode *p = L-&gt;next ;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        cout &lt;&lt; p-&gt;data &lt;&lt; <span class="string">&quot;  &quot;</span> ;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¤´æ’æ³•åˆ›å»ºé“¾è¡¨</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">CreateList_H</span><span class="params">(Linklist &amp;L , <span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="comment">//insert the nodes from the head of linkedlist</span></span><br><span class="line">    L = <span class="keyword">new</span> Lnode ;</span><br><span class="line">    L-&gt;next = <span class="literal">NULL</span> ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = n - <span class="number">1</span> ; i &gt;= <span class="number">0</span> ; i--)&#123;</span><br><span class="line">        Lnode *p = <span class="keyword">new</span> Lnode ;</span><br><span class="line">        cin &gt;&gt; p-&gt;data ;</span><br><span class="line">        p-&gt;next = L-&gt;next ;</span><br><span class="line">        L-&gt;next = p ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å°¾æ’æ³•åˆ›å»ºé“¾è¡¨</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">CreateList_T</span><span class="params">(Linklist &amp;L , <span class="type">int</span> n )</span></span>&#123;</span><br><span class="line">    <span class="comment">//Insert elements from the tail of linkedlist</span></span><br><span class="line">    L = <span class="keyword">new</span> Lnode ;</span><br><span class="line">    L-&gt;next = <span class="literal">NULL</span> ;</span><br><span class="line">    Lnode *T = L ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        Lnode *p = <span class="keyword">new</span> Lnode ;</span><br><span class="line">        cin &gt;&gt; p-&gt;data ;</span><br><span class="line">        T-&gt;next = p ;</span><br><span class="line">        T = T-&gt;next ;</span><br><span class="line">        p-&gt;next = <span class="literal">NULL</span> ;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="åŒå‘é“¾è¡¨"><a href="#åŒå‘é“¾è¡¨" class="headerlink" title="åŒå‘é“¾è¡¨"></a>åŒå‘é“¾è¡¨</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std ;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">DoubleLinkedList</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> data ;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">DoubleLinkedList</span> *prior , *next ;</span><br><span class="line">&#125;DLNode , *DLList;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InitDLList</span> <span class="params">(DLList &amp;HEAD)</span></span>&#123;</span><br><span class="line">    HEAD = <span class="keyword">new</span> DLNode ;</span><br><span class="line">    HEAD-&gt;next = <span class="literal">NULL</span> ;</span><br><span class="line">    HEAD-&gt;prior = <span class="literal">NULL</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CreateList_DL</span><span class="params">(DLList &amp;HEAD , <span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        DLNode *p = <span class="keyword">new</span> DLNode ;</span><br><span class="line">        cin &gt;&gt; p-&gt;data ;</span><br><span class="line">        p-&gt;next = HEAD-&gt;next ;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(HEAD-&gt;next)&#123;</span><br><span class="line">            HEAD-&gt;next-&gt;prior = p ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//i = 0 æ—¶ï¼Œæ’å…¥ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶ï¼ŒHEAD-&gt;next ä¸ºNULLï¼Œ NULLæ˜¯æ²¡æœ‰çš„ï¼Œå³NULL-&gt;prioræ˜¯è®¿é—®ä¸åˆ°çš„ï¼Œsegmentation fault</span></span><br><span class="line">        <span class="comment">//å› æ­¤å½“HEAD-&gt;nextä¸ä¸ºNULLæ—¶ï¼Œæ‰ä¼šæ‰§è¡ŒHEAD-&gt;next-&gt;prior = p </span></span><br><span class="line">        <span class="comment">//å½“HEAD-&gt;next ä¸ºNULLï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºç¬¬ä¸€ä¸ªç»“ç‚¹æ—¶ï¼Œä¸è¦è®©(ä¹Ÿæ²¡æ³•è®©)NULL-&gt;prior = p </span></span><br><span class="line"></span><br><span class="line">        HEAD-&gt;next = p ;</span><br><span class="line">        p-&gt;prior = HEAD ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetLength_DL</span><span class="params">(DLList &amp;HEAD)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> length = <span class="number">0</span> ;</span><br><span class="line">    DLNode *p = HEAD-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        length++ ;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> length ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintList_DL</span><span class="params">(DLList &amp;HEAD)</span></span>&#123;</span><br><span class="line">    DLNode *p = HEAD-&gt;next ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="built_in">GetLength_DL</span>(HEAD) ; i++)&#123;</span><br><span class="line">        cout &lt;&lt; p-&gt;data &lt;&lt; <span class="string">&quot;  &quot;</span> ;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InsertList_DL</span><span class="params">(DLList &amp;HEAD , <span class="type">int</span> i , <span class="type">int</span> data)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( i &lt; <span class="number">0</span> || i &gt; <span class="built_in">GetLength_DL</span>(HEAD))    &#123;cout &lt;&lt; <span class="string">&quot;the index is invalid&quot;</span> &lt;&lt; endl ; <span class="built_in">exit</span>(<span class="number">0</span>) ;&#125;</span><br><span class="line">    DLNode *p = HEAD ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; i ; j++)&#123;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    DLNode *s = <span class="keyword">new</span> DLNode ;</span><br><span class="line">    s-&gt;data = data ;</span><br><span class="line">    s-&gt;next = p-&gt;next ;</span><br><span class="line">    <span class="keyword">if</span>(p-&gt;next)&#123;</span><br><span class="line">        p-&gt;next-&gt;prior = s ;</span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;next = s ;</span><br><span class="line">    s-&gt;prior = p ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DeleteElem_DL</span><span class="params">(DLList &amp;HEAD  , <span class="type">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt;= <span class="built_in">GetLength_DL</span>(HEAD))    &#123;cout &lt;&lt; <span class="string">&quot;the index is invalid &quot;</span> &lt;&lt; endl ; <span class="built_in">exit</span>(<span class="number">0</span>) ;&#125;</span><br><span class="line">    DLNode *p = HEAD-&gt;next ;</span><br><span class="line">    <span class="keyword">while</span>(i--)&#123;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;prior-&gt;next = p-&gt;next ;</span><br><span class="line">    p-&gt;next-&gt;prior = p-&gt;prior ;</span><br><span class="line">    <span class="keyword">delete</span> p ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    DLList HEAD ;</span><br><span class="line">    <span class="built_in">InitDLList</span>(HEAD) ;</span><br><span class="line">    <span class="built_in">CreateList_DL</span>(HEAD , <span class="number">6</span>) ;</span><br><span class="line">    <span class="built_in">PrintList_DL</span>(HEAD) ;</span><br><span class="line">    <span class="built_in">InsertList_DL</span>(HEAD , <span class="number">2</span> , <span class="number">821</span>) ;</span><br><span class="line">    <span class="built_in">PrintList_DL</span>(HEAD) ;</span><br><span class="line">    <span class="built_in">DeleteElem_DL</span>(HEAD , <span class="number">1</span>) ;</span><br><span class="line">    <span class="built_in">PrintList_DL</span>(HEAD) ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¸¸è§bugs"><a href="#å¸¸è§bugs" class="headerlink" title="å¸¸è§bugs"></a>å¸¸è§bugs</h2><ul>
<li>æœªè€ƒè™‘<code>NULL</code>çš„ç‰¹æ®Šæ€§ï¼Œæ‰§è¡Œ<code>NULL-&gt;next</code>æ“ä½œã€‚ç¼–è¯‘å™¨è¿˜ä¸ä¼šçˆ†å‡ºé”™è¯¯ä¿¡æ¯ï¼Œæ»¡å¤§è¡—æ‰¾bug.</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">InsertList_DL</span><span class="params">(DLList &amp;HEAD , <span class="type">int</span> i , <span class="type">int</span> data)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( i &lt; <span class="number">0</span> || i &gt; <span class="built_in">GetLength_DL</span>(HEAD))    &#123;cout &lt;&lt; <span class="string">&quot;the index is invalid&quot;</span> &lt;&lt; endl ; <span class="built_in">exit</span>(<span class="number">0</span>) ;&#125;</span><br><span class="line">    DLNode *p = HEAD ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; i ; j++)&#123;</span><br><span class="line">        p = p-&gt;next ;</span><br><span class="line">    &#125;</span><br><span class="line">    DLNode *s = <span class="keyword">new</span> DLNode ;</span><br><span class="line">    s-&gt;data = data ;</span><br><span class="line">    s-&gt;next = p-&gt;next ;</span><br><span class="line">    <span class="keyword">if</span>(p-&gt;next)&#123;</span><br><span class="line">        p-&gt;next-&gt;prior = s ;</span><br><span class="line">    &#125;<span class="comment">//åŠ å…¥åˆ¤æ–­p-&gt;nextæ˜¯å¦ä¸ºNULL</span></span><br><span class="line">    p-&gt;next = s ;</span><br><span class="line">    s-&gt;prior = p ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="yæ€»çš„é“¾è¡¨ç®—æ³•"><a href="#yæ€»çš„é“¾è¡¨ç®—æ³•" class="headerlink" title="yæ€»çš„é“¾è¡¨ç®—æ³•"></a>yæ€»çš„é“¾è¡¨ç®—æ³•</h2><p>åœ¨å†™AcWingä¸Šçš„é¢˜æ—¶ï¼Œå‘ç°å†™çš„æ¯”è¾ƒåƒåŠ›ã€‚æˆ‘åœ¨æƒ³ï¼Œç»“æ„ä½“+æŒ‡é’ˆæ˜¯å¦è¿˜ä¸æ˜¯é«˜æ•ˆçš„è§£æ³•ï¼Œå°±æƒ³ç€å»çœ‹çœ‹yæ€»çš„ç®—æ³•ï¼Œyæ€»æåˆ°ï¼š</p>
<ul>
<li>æŒ‡é’ˆ+ç»“æ„ä½“å®ç°é“¾è¡¨ä¸€èˆ¬å‡ºç°åœ¨é¢è¯•é¢˜ä¸­ï¼Œç¬”è¯•é¢˜ä¸€èˆ¬ç”¨æ•°ç»„å®ç°é“¾è¡¨</li>
<li><code>new</code>æ“ä½œå¤ªè€—æ—¶ï¼Œå¤§æ•°æ®é‡æ—¶å¤šä¸ª<code>new</code>æ“ä½œå¯èƒ½è¶…æ—¶ã€‚Acwingå•é“¾è¡¨é‚£é“é¢˜ï¼Œæ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨å¿«10%ã€‚</li>
<li>ä½†ç”¨æ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨ä¸åŠ¨æ€å®ç°é“¾è¡¨ç›¸æ¯”ï¼Œç©ºé—´å¤æ‚åº¦æ›´å¤§ã€‚</li>
</ul>
<h2 id="ä¸€äº›ç»ƒä¹ é¢˜"><a href="#ä¸€äº›ç»ƒä¹ é¢˜" class="headerlink" title="ä¸€äº›ç»ƒä¹ é¢˜"></a>ä¸€äº›ç»ƒä¹ é¢˜</h2><ul>
<li><a href="https://www.acwing.com/activity/content/problem/content/863/">AcWing 826. å•é“¾è¡¨ - AcWing</a></li>
<li><a href="https://www.acwing.com/problem/content/description/829/">827. åŒé“¾è¡¨ - AcWingé¢˜åº“</a></li>
</ul>
]]></content>
  </entry>
</search>
